(function(t){function e(e){for(var o,n,s=e[0],l=e[1],c=e[2],u=0,p=[];u<s.length;u++)n=s[u],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&p.push(a[n][0]),a[n]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);d&&d(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],o=!0,n=1;n<r.length;n++){var l=r[n];0!==a[l]&&(o=!1)}o&&(i.splice(e--,1),t=s(s.s=r[0]))}return t}var o={},a={app:0},i=[];function n(t){return s.p+"js/"+({}[t]||t)+"."+{"chunk-6ceba5e5":"fa4421a1"}[t]+".js"}function s(e){if(o[e])return o[e].exports;var r=o[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.e=function(t){var e=[],r=a[t];if(0!==r)if(r)e.push(r[2]);else{var o=new Promise((function(e,o){r=a[t]=[e,o]}));e.push(r[2]=o);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=n(t);var c=new Error;i=function(e){l.onerror=l.onload=null,clearTimeout(u);var r=a[t];if(0!==r){if(r){var o=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",c.name="ChunkLoadError",c.type=o,c.request=i,r[1](c)}a[t]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(e)},s.m=t,s.c=o,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(r,o,function(e){return t[e]}.bind(null,o));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/editor/",s.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var d=c;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var o=r("85ec"),a=r.n(o);a.a},"0b60":function(t,e,r){"use strict";var o=r("3d04"),a=r.n(o);a.a},1303:function(t,e,r){"use strict";var o=r("c112"),a=r.n(o);a.a},"1a1e":function(t,e,r){"use strict";var o={profileUrl:"profiles.json",startingPoint:{id:"ec157852-4a16-4153-9a28-2a6abf48356b",name:"config",configType:"startingPoints",json:[{menuGroup:"Monograph",menuItems:[{label:"Instance",type:["http://id.loc.gov/ontologies/bibframe/Instance"],useResourceTemplates:["lc:RT:bf2:Monograph:Instance"]},{label:"Work",type:["http://id.loc.gov/ontologies/bibframe/Work"],useResourceTemplates:["lc:RT:bf2:Monograph:Work"]}]},{menuGroup:"Notated Music",menuItems:[{label:"Create Work",type:["http://id.loc.gov/ontologies/bibframe/Work"],useResourceTemplates:["lc:RT:bf2:NotatedMusic:Work"]},{label:"Create Instance",type:["http://id.loc.gov/ontologies/bibframe/Instance"],useResourceTemplates:["lc:RT:bf2:NotatedMusic:Instance"]}]},{menuGroup:"Serial",menuItems:[{label:"Instance",type:["http://id.loc.gov/ontologies/bibframe/Instance"],useResourceTemplates:["lc:RT:bf2:Serial:Instance"]},{label:"Work",type:["http://id.loc.gov/ontologies/bibframe/Work"],useResourceTemplates:["lc:RT:bf2:Serial:Work"]}]},{menuGroup:"Cartographic",menuItems:[{label:"Instance",type:["http://id.loc.gov/ontologies/bibframe/Instance"],useResourceTemplates:["lc:RT:bf2:Cartographic:Instance"]},{label:"Work",type:["http://id.loc.gov/ontologies/bibframe/Work"],useResourceTemplates:["lc:RT:bf2:Cartographic:Work"]}]},{menuGroup:"Sound Recording: Audio CD",menuItems:[{label:"Instance",type:["http://id.loc.gov/ontologies/bibframe/Instance"],useResourceTemplates:["lc:RT:bf2:SoundRecording:Instance"]},{label:"Work",type:["http://id.loc.gov/ontologies/bibframe/Work"],useResourceTemplates:["lc:RT:bf2:SoundRecording:Work"]}]},{menuGroup:"Sound Recording: Audio CD-R",menuItems:[{label:"Instance",type:["http://id.loc.gov/ontologies/bibframe/Instance"],useResourceTemplates:["lc:RT:bf2:SoundCDR:Instance"]},{label:"Work",type:["http://id.loc.gov/ontologies/bibframe/Work"],useResourceTemplates:["lc:RT:bf2:SoundCDR:Work"]}]},{menuGroup:"Sound Recording: Analog",menuItems:[{label:"Instance",type:["http://id.loc.gov/ontologies/bibframe/Instance"],useResourceTemplates:["lc:RT:bf2:Analog:Instance"]},{label:"Work",type:["http://id.loc.gov/ontologies/bibframe/Work"],useResourceTemplates:["lc:RT:bf2:Analog:Work"]}]},{menuGroup:"Sound Recording: Cassette",menuItems:[{label:"Instance",type:["http://id.loc.gov/ontologies/bibframe/Instance"],useResourceTemplates:["lc:RT:bf2:SoundCassette:Instance"]},{label:"Work",type:["http://id.loc.gov/ontologies/bibframe/Work"],useResourceTemplates:["lc:RT:bf2:SoundCassette:Work"]}]},{menuGroup:"Moving Image: BluRay DVD",menuItems:[{label:"Instance",type:["http://id.loc.gov/ontologies/bibframe/Instance"],useResourceTemplates:["lc:RT:bf2:MIBluRayDVD:Instance"]},{label:"Work",type:["http://id.loc.gov/ontologies/bibframe/Work"],useResourceTemplates:["lc:RT:bf2:MIBluRayDVD:Work"]}]},{menuGroup:"Moving Image: 35mm Feature Film",menuItems:[{label:"Instance",type:["http://id.loc.gov/ontologies/bibframe/Instance"],useResourceTemplates:["lc:RT:bf2:35mmFeatureFilm:Instance"]},{label:"Work",type:["http://id.loc.gov/ontologies/bibframe/Work"],useResourceTemplates:["lc:RT:bf2:35mmFeatureFilm:Work"]}]},{menuGroup:"Rare Materials",menuItems:[{label:"Instance",type:["http://id.loc.gov/ontologies/bibframe/Instance"],useResourceTemplates:["lc:RT:bf2:RareMat:Instance"]},{label:"Work",type:["http://id.loc.gov/ontologies/bibframe/Work"],useResourceTemplates:["lc:RT:bf2:RareMat:Work"]}]}],metadata:{createDate:"2019-06-11T19:02:59.649Z",updateDate:"2020-03-20T18:06:28.173Z",updateUser:null}},lookupConfig:{"http://id.loc.gov/authorities/childrensSubjects":{name:"childrensSubjects",type:"complex",modes:[]},"http://id.loc.gov/authorities/demographicTerms":{name:"demographicTerms",type:"complex",modes:[]},"http://id.loc.gov/authorities/genreForms":{name:"genreForms",type:"complex",processor:"lcAuthorities",modes:[{"LCGFT All":{url:"https://id.loc.gov/authorities/genreForms/suggest/?q=<QUERY>&count=25",all:!0}}]},"http://id.loc.gov/authorities/names":{name:"names",type:"complex",processor:"lcAuthorities",modes:[{"NAF All":{url:"https://id.loc.gov/authorities/names/suggest/?q=<QUERY>&count=25",all:!0},"NAF Personal Names":{url:"https://id.loc.gov/authorities/names/suggest/?q=<QUERY>&rdftype=PersonalName&count=25"},"NAF Corporate Name":{url:"https://id.loc.gov/authorities/names/suggest/?q=<QUERY>&rdftype=CorporateName&count=25"},"NAF Name/Title":{url:"https://id.loc.gov/authorities/names/suggest/?q=<QUERY>&rdftype=NameTitle&count=25"},"NAF Title":{url:"https://id.loc.gov/authorities/names/suggest/?q=<QUERY>&rdftype=Title&count=25"},"NAF Geographic":{url:"https://id.loc.gov/authorities/names/suggest/?q=<QUERY>&rdftype=Geographic&count=25"},"NAF Conference Name":{url:"https://id.loc.gov/authorities/names/suggest/?q=<QUERY>&rdftype=ConferenceName&count=25"}}]},"http://id.loc.gov/authorities/performanceMediums":{name:"performanceMediums",type:"complex",modes:[]},"http://id.loc.gov/authorities/subjects":{name:"subjects",type:"complex",processor:"lcAuthorities",modes:[{"LCSH All":{url:"https://id.loc.gov/authorities/subjects/suggest/?q=<QUERY>&count=25",all:!0},"LCSH Topics":{url:"https://id.loc.gov/authorities/subjects/suggest/?q=<QUERY>&rdftype=Topic&count=25"},"LCSH Geographic":{url:"https://id.loc.gov/authorities/subjects/suggest/?q=<QUERY>&rdftype=Geographic&count=25"},"LCSH Name":{url:"https://id.loc.gov/authorities/subjects/suggest/?q=<QUERY>&rdftype=Name&count=25"},"LCSH FamilyName":{url:"https://id.loc.gov/authorities/subjects/suggest/?q=<QUERY>&rdftype=FamilyName&count=25"},"LCSH CorporateName":{url:"https://id.loc.gov/authorities/subjects/suggest/?q=<QUERY>&rdftype=CorporateName&count=25"},"LCSH GenreForm":{url:"https://id.loc.gov/authorities/subjects/suggest/?q=<QUERY>&rdftype=GenreForm&count=25"},"LCSH Simple Type":{url:"https://id.loc.gov/authorities/subjects/suggest/?q=<QUERY>&rdftype=SimpleType&count=25"},"LCSH Complex Subject":{url:"https://id.loc.gov/authorities/subjects/suggest/?q=<QUERY>&rdftype=ComplexSubject&count=25"},"LCSH Temporal":{url:"https://id.loc.gov/authorities/subjects/suggest/?q=<QUERY>&rdftype=Temporal&count=25"}}]},"http://id.loc.gov/entities/providers":{name:"providers",type:"complex",modes:[]},"http://id.loc.gov/entities/relationships":{name:"relationships",type:"complex",modes:[]},"http://id.loc.gov/entities/roles":{name:"roles",type:"complex",modes:[]},"http://id.loc.gov/resources/works":{name:"works",type:"complex",modes:[]},"http://id.loc.gov/rwo/agents":{name:"agents",type:"complex",modes:[]},"http://id.loc.gov/vocabulary/carriers":{name:"carriers",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/classSchemes":{name:"classSchemes",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/contentTypes":{name:"contentTypes",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/countries":{name:"countries",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/descriptionConventions":{name:"descriptionConventions",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/frequencies":{name:"frequencies",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/genreFormSchemes":{name:"genreFormSchemes",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/geographicAreas":{name:"geographicAreas",type:"complex",modes:[]},"http://id.loc.gov/vocabulary/graphicMaterials":{name:"graphicMaterials",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/issuance":{name:"issuance",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/languages":{name:"languages",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/marcauthen":{name:"marcauthen",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/marcgt":{name:"marcgt",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/maspect":{name:"maspect",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/maudience":{name:"maudience",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/mbroadstd":{name:"mbroadstd",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/mcapturestorage":{name:"mcapturestorage",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/mcolor":{name:"mcolor",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/mediaTypes":{name:"mediaTypes",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/menclvl":{name:"menclvl",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/mfiletype":{name:"mfiletype",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/mgeneration":{name:"mgeneration",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/mgroove":{name:"mgroove",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/millus":{name:"millus",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/mlayout":{name:"mlayout",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/mmaterial":{name:"mmaterial",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/mmusicformat":{name:"mmusicformat",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/mmusnotation":{name:"mmusnotation",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/mplayback":{name:"mplayback",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/mpolarity":{name:"mpolarity",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/mpresformat":{name:"mpresformat",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/mproduction":{name:"mproduction",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/mrecmedium":{name:"mrecmedium",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/mrectype":{name:"mrectype",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/mregencoding":{name:"mregencoding",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/mrelief":{name:"mrelief",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/mscale":{name:"mscale",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/mscript":{name:"mscript",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/msoundcontent":{name:"msoundcontent",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/mspecplayback":{name:"mspecplayback",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/mstatus":{name:"mstatus",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/msupplcont":{name:"msupplcont",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/mtechnique":{name:"mtechnique",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/organizations":{name:"organizations",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/relators":{name:"relators",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/resourceComponents":{name:"resourceComponents",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/resourceTypes":{name:"resourceTypes",type:"simple",modes:[]},"http://id.loc.gov/vocabulary/subjectSchemes":{name:"subjectSchemes",type:"simple",modes:[]},"http://mlvlp04.loc.gov:3000/verso/api/configs?filter[where][configType]=noteTypes&filter[fields][json]=true":{name:"true",type:"simple",modes:[]},"http://mlvlp04.loc.gov:8080/authorities/classification/G":{name:"G",type:"simple",modes:[]},"http://mlvlp04.loc.gov:8230/resources/instances":{name:"instances",type:"simple",modes:[]},"http://mlvlp04.loc.gov:8230/resources/works":{name:"works",type:"simple",modes:[]},"http://mlvlp06.loc.gov:8288/resources/hubs":{name:"hubs",type:"simple",modes:[]},"http://mlvlp06.loc.gov:8288/resources/works":{name:"works",type:"simple",modes:[]},"http://rdaregistry.info/termList/RDAContentType/":{name:"RDAContentType/",type:"simple",modes:[]},"http://www.rdaregistry.info/termList/RDAColourContent/":{name:"RDAColourContent/",type:"simple",modes:[]},"https://lookup.ld4l.org/authorities/search/linked_data/dbpedia_ld4l_cache":{name:"dbpedia_ld4l_cache",type:"simple",modes:[]},"https://lookup.ld4l.org/authorities/search/linked_data/getty_aat_ld4l_cache":{name:"getty_aat_ld4l_cache",type:"simple",modes:[]}}};e["a"]=o},"1bca":function(t,e,r){"use strict";var o={refComponentSwitchButton:"Use [Left Arrow] and [Right Arrow] keys or click to switch",propertyDuplicateSymbol:"+",propertyRemoveSymbol:"-",propertyDuplicateTip:"Click to duplicate this property or press [Crtl and +]"};e["a"]=o},2382:function(t,e,r){},"3d04":function(t,e,r){},"3f2f":function(t,e,r){"use strict";var o=r("c944"),a=r.n(o);a.a},4082:function(t,e,r){"use strict";var o=r("cf47"),a=r.n(o);a.a},4360:function(t,e,r){"use strict";r("96cf");var o=r("1da1"),a=r("2b0e"),i=r("2f62"),n=r("dd89"),s=r("adac");a["a"].use(i["a"]),e["a"]=new i["a"].Store({state:{profilesLoaded:!1,profiles:[],rtLookup:{},startingPoints:{},activeProfile:{},activeProfileIdCounter:{},sartingPoint:"lc:profile:bf2:Monograph",userName:"demo",activeInput:null,lookupLibrary:{},ontologyLookup:{},disableMacroKeyNav:!1,activeComplexSearch:[],activeComplexSearchInProgress:!1,activeComponent:null,activeProfileName:null,activeEditCounter:0,contextData:{},idWorkSearchResults:[],idXML:""},mutations:{PROFILES:function(t,e){t.profiles=e,t.profilesLoaded=!0},RTLOOKUP:function(t,e){t.rtLookup=e},STARTINGPOINTS:function(t,e){t.startingPoints=e},LOOKUP:function(t,e){t.lookupLibrary[e.metadata.uri]=e},LOOKUPCOMPLEX:function(t,e){t.activeComplexSearch=e},LOOKUPCOMPLEXSTATUS:function(t,e){t.activeComplexSearchInProgress=e},CONTEXT:function(t,e){t.contextData=e},MACNAV:function(t,e){t.disableMacroKeyNav=e},ACTIVEINPUT:function(t,e){t.activeInput=e},ACTIVECOMPONET:function(t,e){t.activeComponent=e},ACTIVEPROFILE:function(t,e){t.activeProfile=e},ACTIVEPROFILECOUNTER:function(t,e){t.activeProfileIdCounter=e},ACTIVEPROFILENAME:function(t,e){t.activeProfileName=e},ACTIVEEDITCOUNTER:function(t){t.activeEditCounter++},ONYOLOGYLOOKUP:function(t,e){t.ontologyLookup[e.uri]=e},IDWORKSEARCH:function(t,e){t.idWorkSearchResults=e},IDXML:function(t,e){t.idXML=e}},actions:{fetchProfiles:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var o,a,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o=t.commit,r.next=3,n["a"].buildProfiles();case 3:a=r.sent,o("PROFILES",a.profiles),o("RTLOOKUP",a.lookup),o("STARTINGPOINTS",a.startingPoints),i=Object.assign({},a.profiles[e.state.sartingPoint]),o("ACTIVEPROFILE",i);case 9:case"end":return r.stop()}}),r)})))()},fetchLookupValues:function(t,e){return Object(o["a"])(regeneratorRuntime.mark((function r(){var o,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o=t.commit,r.next=3,s["a"].loadSimpleLookup(e.url);case 3:a=r.sent,o("LOOKUP",a);case 5:case"end":return r.stop()}}),r)})))()},fetchLookupValuesComplex:function(t,e){return Object(o["a"])(regeneratorRuntime.mark((function r(){var o,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o=t.commit,o("LOOKUPCOMPLEX",[]),o("LOOKUPCOMPLEXSTATUS",!0),r.next=5,s["a"].searchComplex(e.searchPayload);case 5:a=r.sent,o("LOOKUPCOMPLEXSTATUS",!1),o("LOOKUPCOMPLEX",a);case 8:case"end":return r.stop()}}),r)})))()},clearLookupValuesComplex:function(t){var e=t.commit;e("LOOKUPCOMPLEX",[])},fetchContext:function(t,e){return Object(o["a"])(regeneratorRuntime.mark((function r(){var o,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o=t.commit,o("CONTEXT",{}),r.next=4,s["a"].returnContext(e.searchPayload);case 4:a=r.sent,console.log(a,"results context"),console.log(JSON.stringify(a)),o("CONTEXT",a);case 8:case"end":return r.stop()}}),r)})))()},fetchIdWorkSearch:function(t,e){return Object(o["a"])(regeneratorRuntime.mark((function r(){var o,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o=t.commit,o("IDWORKSEARCH",{}),r.next=4,s["a"].fetchIdWorkSearch(e.searchValue);case 4:a=r.sent,o("IDWORKSEARCH",a);case 6:case"end":return r.stop()}}),r)})))()},fetchIdXML:function(t,e){return Object(o["a"])(regeneratorRuntime.mark((function r(){var o,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o=t.commit,o("IDXML",""),r.next=4,s["a"].fetchIdXML(e.url);case 4:a=r.sent,o("IDXML",a);case 6:case"end":return r.stop()}}),r)})))()},fetchOntology:function(t,e){return Object(o["a"])(regeneratorRuntime.mark((function r(){var o,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o=t.commit,r.next=3,s["a"].fetchOntology(e.uri);case 3:a=r.sent,console.log(a),o("ONYOLOGYLOOKUP",a);case 6:case"end":return r.stop()}}),r)})))()},clearContext:function(t){var e=t.commit;e("CONTEXT",{})},setContextManually:function(t,e){var r=t.commit;r("CONTEXT",e.context)},setActiveProfile:function(t,e){var r=t.commit;r("ACTIVEPROFILE",e.profile)},addValue:function(t,e){var r=t.commit,o=t.state;console.log(e);var a=n["a"].setValue(o.activeProfile,e.profileComponet,e.structure.propertyURI,o.activeProfileName,e.template,o.contextData);r("ACTIVEPROFILE",a),r("ACTIVEEDITCOUNTER")},addValueLiteral:function(t,e){var r=t.commit,o=t.state,a=n["a"].setValue(o.activeProfile,e.profileComponet,e.structure.propertyURI,o.activeProfileName,e.template,e.value);r("ACTIVEPROFILE",a),r("ACTIVEEDITCOUNTER")},disableMacroNav:function(t){var e=t.commit;e("MACNAV",!0)},enableMacroNav:function(t){var e=t.commit;e("MACNAV",!1)},setActiveInput:function(t,e){var r=t.commit;r("ACTIVEINPUT",e.id),r("ACTIVECOMPONET",e.profileCompoent),r("ACTIVEPROFILENAME",e.profileName)},setActiveProfileCounter:function(t,e){var r=t.commit;r("ACTIVEPROFILECOUNTER",e)},removeProperty:function(t,e){var r=t.commit,o=t.state,a=n["a"].removeProperty(e.id,e.profile,o.activeProfile);r("ACTIVEPROFILE",a)},duplicateProperty:function(t,e){var r=t.commit,o=t.state,a=n["a"].duplicateProperty(e.id,e.profile,o.activeProfile);r("ACTIVEPROFILE",a)}},modules:{}})},"467e":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var o=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},i=[],n=(r("034f"),r("2877")),s={},l=Object(n["a"])(s,a,i,!1,null,null,null),c=l.exports,u=r("8c4f"),d=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"home"}},[r("Keypress",{attrs:{"key-event":"keydown","key-code":40},on:{success:t.moveDown}}),r("Keypress",{attrs:{"key-event":"keydown","multiple-keys":[{keyCode:77,modifiers:["ctrlKey"],preventDefault:!0}]},on:{success:t.navRoute}}),r("Keypress",{attrs:{"key-event":"keydown","multiple-keys":[{keyCode:69,modifiers:["ctrlKey"],preventDefault:!0}]},on:{success:t.navRoute}}),r("Keypress",{attrs:{"key-event":"keydown","multiple-keys":[{keyCode:78,modifiers:["ctrlKey"],preventDefault:!0}]},on:{success:t.navRoute}}),r("Keypress",{attrs:{"key-event":"keydown","multiple-keys":[{keyCode:79,modifiers:["ctrlKey"],preventDefault:!0}]},on:{success:t.navRoute}}),r("Keypress",{attrs:{"key-event":"keydown","multiple-keys":[{keyCode:73,modifiers:["ctrlKey"],preventDefault:!0}]},on:{success:t.navRoute}}),r("div",{staticClass:"grid"},[r("aside",{staticClass:"sidebar-left",staticStyle:{"background-color":"#2a2a2a",color:"#ffffff"}},[r("svg",{attrs:{viewBox:"0 0 125 70",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M12.0698 1.26944C10.5984 1.29437 8.02988 1.29437 7.48125 1.29437C6.9825 1.29437 3.56606 1.26944 2.76806 1.26944C2.21944 1.26944 1.74563 1.2445 1.24688 0.571186H1.07231L0 3.93775L0.29925 4.16219C1.04738 2.94025 2.26931 2.01756 3.96506 2.01756H6.1845C6.384 2.01756 6.48375 2.16719 6.48375 2.36669V17.8778L5.43638 18.6509V19H9.52613V18.6509L8.40394 17.8778V2.36669C8.40394 2.16719 8.50369 2.01756 8.70319 2.01756H9.99994C10.9476 2.01756 12.6932 1.89287 14.6882 3.96269L14.9376 3.71331L13.7655 0.571186H13.5909C13.0922 1.2445 12.6184 1.26944 12.0698 1.26944Z",fill:"white"}}),r("path",{attrs:{d:"M31.5867 19V18.8254L30.4395 17.9028V2.34175L31.437 1.61856V1.29437H27.4969L27.472 1.46894L28.4944 2.34175V9.17462H20.2401V2.34175L21.2376 1.61856V1.29437H17.2975L17.2725 1.46894L18.295 2.34175V17.9776L17.1728 18.8254V19H21.3872V18.8254L20.2401 17.9028V10.0474H28.4944V17.9776L27.3722 18.8254V19H31.5867Z",fill:"white"}}),r("path",{attrs:{d:"M39.2129 2.06744L42.4547 1.96769C44.9984 1.96769 45.6717 2.21706 47.143 4.16219L47.4422 4.06244L46.7939 1.29437H36.0707V1.49387L37.2677 2.51631V17.9526L36.37 18.7506V19H46.6941C46.8687 19 47.0183 18.9252 47.0682 18.7257C47.3175 17.5786 47.4173 17.404 47.9659 16.0574L47.542 15.8579C46.2203 17.9277 44.9235 18.3516 42.8537 18.3516C41.2577 18.3516 41.0084 18.3267 40.3849 18.2768C39.7615 18.2269 39.2627 17.8778 39.2378 17.1546V10.0474H45.0732L45.8961 12.1172H46.2203V6.98012H45.8462L45.0981 9.19956H39.2378L39.2129 2.06744Z",fill:"white"}}),r("path",{attrs:{d:"M7.75556 44C11.7705 44 14.8129 42.2793 14.8129 39.1871C14.8129 36.3941 12.4937 34.9976 10.374 34.3991V34.2494C11.9949 33.7257 13.6408 32.6285 13.6408 30.5337C13.6408 27.8156 10.9476 26.2944 7.75556 26.2944H2.24437V26.5437L3.34162 27.5662V42.8529L2.31919 43.7007V44H7.75556ZM6.50869 43.2269H5.28675V34.9477H5.86031C8.00494 34.9477 12.5685 35.0724 12.5685 39.1621C12.4438 43.1771 8.5785 43.2269 6.50869 43.2269ZM5.28675 34.1996V27.0674H6.63338C8.35406 27.0674 11.4713 27.1173 11.4713 30.5587C11.4713 34.0749 7.83038 34.1996 5.985 34.1996H5.28675Z",fill:"white"}}),r("path",{attrs:{d:"M22.1422 44V43.8254L20.995 42.9027V27.3417L21.9925 26.6186V26.2944H18.0524L18.0275 26.4689L19.0499 27.3417V42.9776L17.9277 43.8254V44H22.1422Z",fill:"white"}}),r("path",{attrs:{d:"M32.1329 44C36.1479 44 39.1903 42.2793 39.1903 39.1871C39.1903 36.3941 36.8711 34.9976 34.7514 34.3991V34.2494C36.3723 33.7257 38.0182 32.6285 38.0182 30.5337C38.0182 27.8156 35.3249 26.2944 32.1329 26.2944H26.6218V26.5437L27.719 27.5662V42.8529L26.6966 43.7007V44H32.1329ZM30.8861 43.2269H29.6641V34.9477H30.2377C32.3823 34.9477 36.9459 35.0724 36.9459 39.1621C36.8212 43.1771 32.9559 43.2269 30.8861 43.2269ZM29.6641 34.1996V27.0674H31.0108C32.7314 27.0674 35.8486 27.1173 35.8486 30.5587C35.8486 34.0749 32.2078 34.1996 30.3624 34.1996H29.6641Z",fill:"white"}}),r("path",{attrs:{d:"M46.719 44V43.7506L45.4722 42.9526V35.222H51.3574L52.2302 37.4165H52.5544L52.5045 31.9552H52.1804L51.3574 34.3492H45.4722V27.0674L49.3624 26.9677C52.9534 26.9677 53.4023 28.5886 53.8512 29.4365L54.325 29.4116L53.502 26.2944H42.4547V26.6934L43.527 27.5662V42.9277L42.3051 43.7756V44H46.719Z",fill:"white"}}),r("path",{attrs:{d:"M57.1379 44H61.3024V43.7007L60.1054 42.9027V35.2719H61.2027C62.9732 35.2719 63.8211 36.419 64.3697 37.3916C64.9184 38.3392 66.7139 41.7806 66.8635 42.1048C67.4869 43.4264 68.5592 44.2494 70.1054 44.2743C71.6265 44.2743 72.0505 43.8254 72.0505 43.8254L72.0006 43.6509C70.4295 43.7756 70.1303 43.3766 69.1328 41.8554C68.7837 41.3317 67.5119 38.7881 66.9882 37.7158C66.1154 36.02 64.9433 35.1971 64.9433 35.1971V35.0474C66.8136 34.5736 69.5069 33.4764 69.5069 30.6834C69.5069 27.8654 66.664 26.2944 63.073 26.2944H57.063V26.5437L58.1603 27.5662V42.8529L57.1379 43.7007V44ZM60.1054 34.4489V27.0674H61.9508C63.8211 27.0674 67.2625 27.1173 67.2625 30.7083C67.2625 34.3492 63.2725 34.4489 61.3024 34.4489H60.1054Z",fill:"white"}}),r("path",{attrs:{d:"M77.3049 37.1671L79.7238 29.8355L82.7911 37.1671H77.3049ZM74.6615 41.7556C74.3373 42.7033 74.0879 43.4015 73.0406 43.7756V44H76.2326V43.8254L75.26 43.2269L77.0056 37.9901H83.1901L85.4844 43.1022L84.462 43.7506L84.4869 44H88.6265V43.7007C88.1527 43.6259 87.4295 42.9277 87.0056 41.9053L80.2974 26.1946H80.0979C79.8734 26.7183 79.4994 27.5163 78.7762 28.1148L79.0256 28.7632L74.6615 41.7556Z",fill:"white"}}),r("path",{attrs:{d:"M105.348 26.2944L99.5873 37.4913L99.4128 37.1671L93.5774 26.0201L91.1086 26.2694V26.4191L91.9564 27.7657V43.0274L91.1335 43.7506V44H93.7519V43.8005L93.0038 43.0274V29.0624L98.8641 40.2594H99.2133L105.074 29.0375V42.9776L104.226 43.8254V44H107.916V43.8254L107.019 42.9027V27.2171L107.642 26.5188V26.2944H105.348Z",fill:"white"}}),r("path",{attrs:{d:"M115.535 27.0674L118.777 26.9677C121.321 26.9677 121.994 27.2171 123.465 29.1622L123.765 29.0624L123.116 26.2944H112.393V26.4939L113.59 27.5163V42.9526L112.692 43.7506V44H123.016C123.191 44 123.341 43.9252 123.391 43.7257C123.64 42.5786 123.74 42.404 124.288 41.0574L123.864 40.8579C122.543 42.9277 121.246 43.3516 119.176 43.3516C117.58 43.3516 117.331 43.3267 116.707 43.2768C116.084 43.2269 115.585 42.8778 115.56 42.1546V35.0474H121.396L122.218 37.1172H122.543V31.9801H122.169L121.42 34.1996H115.56L115.535 27.0674Z",fill:"white"}}),r("path",{attrs:{d:"M5.3865 52.0674L8.62838 51.9677C11.172 51.9677 11.8453 52.2171 13.3166 54.1622L13.6159 54.0624L12.9675 51.2944H2.24437V51.4939L3.44138 52.5163V67.9526L2.54363 68.7506V69H12.8678C13.0423 69 13.1919 68.9252 13.2418 68.7257C13.4912 67.5786 13.5909 67.404 14.1396 66.0574L13.7156 65.8579C12.3939 67.9277 11.0972 68.3516 9.02738 68.3516C7.43137 68.3516 7.182 68.3267 6.55856 68.2768C5.93513 68.2269 5.43638 67.8778 5.41144 67.1546V60.0474H11.2468L12.0698 62.1172H12.3939V56.9801H12.0199L11.2718 59.1996H5.41144L5.3865 52.0674Z",fill:"white"}}),r("path",{attrs:{d:"M23.7144 69C30.1233 69 32.8914 65.2843 32.8914 60.1472C32.8914 55.0849 29.1258 51.2944 23.7144 51.2944H17.9788V51.6186L18.7269 52.242L18.7518 67.6783L17.8541 68.5012V69H23.7144ZM20.672 52.0924H23.5897C27.2056 52.0924 30.6969 54.1123 30.6969 60.2469C30.6969 66.3067 28.1034 68.202 23.6645 68.202H21.9438C21.4451 68.202 20.697 68.0524 20.697 67.1047L20.672 52.0924Z",fill:"white"}}),r("path",{attrs:{d:"M40.48 69V68.8254L39.3329 67.9027V52.3417L40.3304 51.6186V51.2944H36.3902L36.3653 51.4689L37.3877 52.3417V67.9776L36.2656 68.8254V69H40.48Z",fill:"white"}}),r("path",{attrs:{d:"M54.785 51.2694C53.3136 51.2944 50.7451 51.2944 50.1965 51.2944C49.6977 51.2944 46.2813 51.2694 45.4833 51.2694C44.9346 51.2694 44.4608 51.2445 43.9621 50.5712H43.7875L42.7152 53.9377L43.0145 54.1622C43.7626 52.9402 44.9845 52.0176 46.6803 52.0176H48.8997C49.0992 52.0176 49.199 52.1672 49.199 52.3667V67.8778L48.1516 68.6509V69H52.2413V68.6509L51.1191 67.8778V52.3667C51.1191 52.1672 51.2189 52.0176 51.4184 52.0176H52.7151C53.6628 52.0176 55.4084 51.8929 57.4034 53.9627L57.6528 53.7133L56.4807 50.5712H56.3061C55.8074 51.2445 55.3336 51.2694 54.785 51.2694Z",fill:"white"}}),r("path",{attrs:{d:"M67.3751 50.9203C62.2629 50.9203 58.3477 55.1098 58.3477 60.1971C58.3477 65.5586 62.238 69.3741 67.6245 69.3741C72.7366 69.3741 76.6518 65.1846 76.6518 60.0973C76.6518 54.7358 72.7616 50.9203 67.3751 50.9203ZM67.7491 68.5761C63.6843 68.5761 60.5422 65.1596 60.5422 59.9477C60.5422 55.0101 63.3601 51.7183 67.2504 51.7183C71.3152 51.7183 74.4573 55.1347 74.4573 60.3467C74.4573 65.2843 71.6394 68.5761 67.7491 68.5761Z",fill:"white"}}),r("path",{attrs:{d:"M79.9079 69H84.0725V68.7007L82.8755 67.9027V60.2719H83.9727C85.7433 60.2719 86.5912 61.419 87.1398 62.3916C87.6884 63.3392 89.4839 66.7806 89.6336 67.1047C90.257 68.4264 91.3293 69.2494 92.8754 69.2743C94.3966 69.2743 94.8206 68.8254 94.8206 68.8254L94.7707 68.6509C93.1996 68.7756 92.9004 68.3766 91.9029 66.8554C91.5537 66.3317 90.2819 63.7881 89.7582 62.7158C88.8854 61.02 87.7134 60.1971 87.7134 60.1971V60.0474C89.5837 59.5736 92.2769 58.4764 92.2769 55.6834C92.2769 52.8654 89.4341 51.2944 85.8431 51.2944H79.8331V51.5437L80.9304 52.5662V67.8529L79.9079 68.7007V69ZM82.8755 59.4489V52.0674H84.7209C86.5912 52.0674 90.0326 52.1173 90.0326 55.7083C90.0326 59.3492 86.0426 59.4489 84.0725 59.4489H82.8755Z",fill:"white"}})]),r("ul",{staticClass:"sidebar-menu"},[r("li",{class:{active:t.isMyRecords}},[r("router-link",{class:{active:t.isMyRecords},attrs:{to:"/myrecords"}},[t._v("My records")]),r("span",{class:{active:t.isMyRecords}},[t._v("CTRL+M")])],1),r("li",{class:{active:t.isAllRecords}},[r("router-link",{class:{active:t.isAllRecords},attrs:{to:"/allrecords"}},[t._v("Everyone's records")]),r("span",{class:{active:t.isAllRecords}},[t._v("CTRL+E")])],1),r("li",{class:{active:t.isNew}},[r("router-link",{class:{active:t.isNew},attrs:{to:"/new"}},[t._v("Create new record")]),r("span",{class:{active:t.isNew}},[t._v("CTRL+N")])],1),r("li",{class:{active:t.isLoad}},[r("router-link",{class:{active:t.isLoad},attrs:{to:"/load"}},[t._v("Load existing record")]),r("span",{class:{active:t.isLoad}},[t._v("CTRL+O")])],1),r("li",{class:{active:t.isSettings}},[r("router-link",{class:{active:t.isSettings},attrs:{to:"/settings"}},[t._v("Settings")]),r("span",{class:{active:t.isSettings}},[t._v("CTRL+I")])],1)])]),r("article",{attrs:{id:"home-content"}},[t.isNew?r("HomeNewComponent"):t._e(),t.isLoad?r("HomeLoadComponent"):t._e(),t.isSettings?r("HomeSettingsComponent"):t._e(),t.isMyRecords?r("HomeMyRecordsComponent"):t._e(),t.isAllRecords?r("HomeAllRecordsComponent"):t._e()],1)])],1)},p=[],f=(r("d3b7"),r("2ca0"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"home-new"}},[r("Keypress",{attrs:{"key-event":"keydown","key-code":40},on:{success:t.moveDown}}),r("Keypress",{attrs:{"key-event":"keydown","key-code":38},on:{success:t.moveUp}}),r("Keypress",{attrs:{"key-event":"keydown","key-code":13},on:{success:t.selectTemplate}}),r("h1",[t._v("Create new record")]),r("hr"),r("h3",[t._v("My templates")]),r("table",[r("thead",[r("tr",[r("th",{attrs:{scope:"col"}},[t._v("Name")]),r("th",{attrs:{scope:"col"}},[t._v("Based on profile")]),r("th",{attrs:{scope:"col"}},[t._v("Type")]),r("th",{attrs:{scope:"col"}},[t._v("Modified")]),r("th",{attrs:{scope:"col"}},[t._v("Hot Key")]),r("th",{attrs:{scope:"col"}},[r("svg",{attrs:{fill:"#FFFFFF",width:"1.2em",height:"1.2em",version:"1.1",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"m94.895 75.828l5.2305-12.797-5.9062-5.2852c-2.2539-2.0156-3.5508-4.8945-3.5664-7.918v-0.003906c-0.015625-3.0352 1.2578-5.9258 3.4961-7.9688l5.8594-5.3359-5.3477-12.75-7.9102 0.44141c-3.0234 0.16797-5.9883-0.95313-8.1367-3.0898 0 0-0.003906 0-0.003906-0.003906-2.1445-2.1289-3.2891-5.0703-3.1523-8.0938l0.37109-7.918-12.801-5.2305-5.2852 5.9102c-2.0156 2.2539-4.8984 3.5508-7.9219 3.5664h-0.007812c-3.0234 0.015626-5.9219-1.2578-7.9609-3.4961l-5.3398-5.8594-12.75 5.3477 0.44141 7.9102c0.16406 3.0273-0.95703 5.9844-3.0938 8.1367 0 0 0 0.003906-0.003906 0.003906-2.1289 2.1484-5.0703 3.293-8.0938 3.1523l-7.9219-0.37109-5.2305 12.797 5.9102 5.2852c2.2539 2.0156 3.5508 4.8945 3.5664 7.918v0.003907c0.015624 3.0312-1.2578 5.9258-3.4961 7.9688l-5.8594 5.3359 5.3516 12.75 7.9062-0.44141c3.0273-0.16406 5.9883 0.95703 8.1406 3.0938h0.003906c2.1484 2.1289 3.2891 5.0703 3.1523 8.0938l-0.37109 7.918 12.797 5.2305 5.2578-5.8672c2.0312-2.2773 4.9375-3.5859 7.9883-3.6055h0.003907c3.0039-0.019531 5.8711 1.2383 7.8945 3.4609l5.3711 5.8945 12.75-5.3516-0.44141-7.9141c-0.16406-3.0234 0.95703-5.9805 3.0859-8.125 0-0.003906 0.003906-0.003906 0.003906-0.003906 2.1289-2.1484 5.0742-3.2969 8.0977-3.1562zm-52.02-8.4023c-9.625-3.9375-14.238-14.93-10.301-24.551 3.9336-9.625 14.926-14.234 24.551-10.297 9.6211 3.9297 14.23 14.926 10.297 24.547-3.9375 9.6211-14.926 14.23-24.547 10.301z"}})])])])]),t._m(0)]),r("hr",{staticStyle:{"margin-top":"2em"}}),r("h3",[t._v("General templates")]),r("table",[r("thead",[r("tr",[r("th",{attrs:{scope:"col"}},[t._v("Name")]),r("th",{attrs:{scope:"col"}},[t._v("Type")]),r("th",{attrs:{scope:"col"}},[t._v("Modified")]),r("th",{attrs:{scope:"col"}},[r("svg",{attrs:{fill:"#FFFFFF",width:"1.2em",height:"1.2em",version:"1.1",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"m94.895 75.828l5.2305-12.797-5.9062-5.2852c-2.2539-2.0156-3.5508-4.8945-3.5664-7.918v-0.003906c-0.015625-3.0352 1.2578-5.9258 3.4961-7.9688l5.8594-5.3359-5.3477-12.75-7.9102 0.44141c-3.0234 0.16797-5.9883-0.95313-8.1367-3.0898 0 0-0.003906 0-0.003906-0.003906-2.1445-2.1289-3.2891-5.0703-3.1523-8.0938l0.37109-7.918-12.801-5.2305-5.2852 5.9102c-2.0156 2.2539-4.8984 3.5508-7.9219 3.5664h-0.007812c-3.0234 0.015626-5.9219-1.2578-7.9609-3.4961l-5.3398-5.8594-12.75 5.3477 0.44141 7.9102c0.16406 3.0273-0.95703 5.9844-3.0938 8.1367 0 0 0 0.003906-0.003906 0.003906-2.1289 2.1484-5.0703 3.293-8.0938 3.1523l-7.9219-0.37109-5.2305 12.797 5.9102 5.2852c2.2539 2.0156 3.5508 4.8945 3.5664 7.918v0.003907c0.015624 3.0312-1.2578 5.9258-3.4961 7.9688l-5.8594 5.3359 5.3516 12.75 7.9062-0.44141c3.0273-0.16406 5.9883 0.95703 8.1406 3.0938h0.003906c2.1484 2.1289 3.2891 5.0703 3.1523 8.0938l-0.37109 7.918 12.797 5.2305 5.2578-5.8672c2.0312-2.2773 4.9375-3.5859 7.9883-3.6055h0.003907c3.0039-0.019531 5.8711 1.2383 7.8945 3.4609l5.3711 5.8945 12.75-5.3516-0.44141-7.9141c-0.16406-3.0234 0.95703-5.9805 3.0859-8.125 0-0.003906 0.003906-0.003906 0.003906-0.003906 2.1289-2.1484 5.0742-3.2969 8.0977-3.1562zm-52.02-8.4023c-9.625-3.9375-14.238-14.93-10.301-24.551 3.9336-9.625 14.926-14.234 24.551-10.297 9.6211 3.9297 14.23 14.926 10.297 24.547-3.9375 9.6211-14.926 14.23-24.547 10.301z"}})])])])]),r("tbody",t._l(Object.keys(t.startingPoints),(function(e){return r("tr",{key:e},[r("td",{class:["selectable-template",{active:t.activeTemplateId==t.returnTemplateIdCount(e)}],staticStyle:{width:"50%"},attrs:{id:t.returnTemplateIdCount(e)},on:{click:t.selectTemplateClick}},[t._v(t._s(e))]),r("td",[t.startingPoints[e].work?r("span",[r("svg",{staticStyle:{width:"1.5em"},attrs:{version:"1.1",viewBox:"0 0 100 100"}},[r("path",{staticStyle:{fill:"#7BADAD",stroke:"#231F20","stroke-width":"0.5","stroke-miterlimit":"10"},attrs:{d:"M88.8,33.6c-2.1-5-5.2-9.5-9-13.4c-3.9-3.9-8.4-6.9-13.4-9C61.2,9,55.7,7.8,50,7.8S38.8,9,33.6,11.2\n  c-5,2.1-9.5,5.2-13.4,9c-3.9,3.9-6.9,8.4-9,13.4C9,38.8,7.8,44.3,7.8,50S9,61.2,11.2,66.4c2.1,5,5.2,9.5,9,13.4\n  c3.9,3.9,8.4,6.9,13.4,9c5.2,2.2,10.7,3.3,16.4,3.3c5.7,0,11.2-1.1,16.4-3.3c5-2.1,9.5-5.2,13.4-9c3.9-3.9,6.9-8.4,9-13.4\n  c2.2-5.2,3.3-10.7,3.3-16.4C92.1,44.3,91,38.8,88.8,33.6L88.8,33.6z"}})]),r("span",{staticClass:"general-template-type-label"},[t._v("Work")])]):t._e(),t.startingPoints[e].instance?r("span",[r("svg",{staticStyle:{width:"1.5em"},attrs:{version:"1.1",viewBox:"0 0 100 100"}},[r("path",{staticStyle:{fill:"#8B588B",stroke:"#0A131A","stroke-width":"0.5","stroke-miterlimit":"10"},attrs:{d:"M50,1.4l48.8,48.8L50,99.1L1.2,50.3L50,1.4z"}})]),r("span",{staticClass:"general-template-type-label"},[t._v("Instance")])]):t._e()]),r("td",{attrs:{colspan:"2"}})])})),0)])],1)}),m=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("tbody",[r("tr",[r("td",[t._v("No templates yet")]),r("td"),r("td"),r("td"),r("td"),r("td")])])}],h=(r("4160"),r("b64b"),r("159b"),r("2f62")),v={name:"HomeNewComponent",components:{Keypress:function(){return r.e("chunk-6ceba5e5").then(r.bind(null,"365a"))}},props:{},methods:{returnSpByTemplateId:function(t){var e=null,r=1;return Object.keys(this.startingPoints).forEach((function(o){"template-id-".concat(r++)===t&&(e=o)})),e},returnTemplateIdCount:function(t,e){var r={},o=1;return Object.keys(this.startingPoints).forEach((function(t){r[t]="template-id-".concat(o++)})),e?Object.keys(r).length:r[t]},selectTemplateClick:function(t){var e=this,r=this.returnSpByTemplateId(t.target.id);console.log(Object.assign({},this.profiles[r]),"Object.assign({},this.profiles[useStartingPoint])"),this.$store.dispatch("setActiveProfile",{self:this,profile:Object.assign({},this.profiles[r])}).then((function(){e.$router.push({path:"edit"})}))},selectTemplate:function(t){var e=this;if(this.actibveTemplateIdCount<=0)return!1;var r=this.returnSpByTemplateId(this.activeTemplateId);return this.$store.dispatch("setActiveProfile",{self:this,profile:this.profiles[r]}).then((function(){e.$router.push({path:"edit"})})),t.event.preventDefault(),!1},moveDown:function(t){return this.actibveTemplateIdCount>=this.returnTemplateIdCount(!0,!0)||(this.actibveTemplateIdCount++,this.activeTemplateId="template-id-"+this.actibveTemplateIdCount,document.getElementById(this.activeTemplateId).scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"}),t.event.preventDefault()),!1},moveUp:function(t){return this.actibveTemplateIdCount<=1||(this.actibveTemplateIdCount=this.actibveTemplateIdCount-1,this.activeTemplateId="template-id-"+this.actibveTemplateIdCount,document.getElementById(this.activeTemplateId).scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"}),t.event.preventDefault()),!1}},computed:Object(h["b"])({activeInput:"activeInput",activeProfile:"activeProfile",startingPoints:"startingPoints",profiles:"profiles",profilesClean:"profilesClean"}),data:function(){return{activeTemplateId:null,actibveTemplateIdCount:0}},created:function(){}},b=v,g=(r("94a1"),Object(n["a"])(b,f,m,!1,null,"5fdd360e",null)),y=g.exports,w=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"home-load"}},[r("h1",[t._v("Load existing records")]),r("hr"),r("h3",[t._v("From Bibframe Database")]),r("hr",{staticStyle:{"margin-top":"2em"}}),r("h3",[t._v("From id.loc.gov")]),r("ul",[r("li",{attrs:{id:"search-li"}},[t._v("Search Works On ID: "),r("input",{attrs:{value:"Woolf, Virginia, 1882-1941. To the lighthouse",autofocus:""},on:{keyup:t.search}})]),r("li",{attrs:{id:"profile-li"}},[t._v(" Use Resource Template: "),r("select",{on:{change:t.rtChange}},t._l(t.rtLookupWorks,(function(e){return r("option",{key:e,domProps:{selected:"lc:RT:bf2:Monograph:Work"===e}},[t._v(t._s(e))])})),0)]),t.searchActive?r("li",[r("MiscLoaderAnimation"),t._v("Searching now...")],1):t._e(),t._l(t.idWorkSearchResults,(function(e,o){return r("li",{key:o},[r("button",{on:{click:function(r){return t.load(e.id,!0)}}},[t._v("Load & Edit")]),t._v(" - "),r("a",{attrs:{target:"_blank",href:e.id}},[t._v(t._s(e.label))])])}))],2),r("hr",{staticStyle:{"margin-top":"2em"}}),r("h3",[t._v("From IBC")])])},k=[],C=(r("4de4"),r("c975"),r("8a79"),r("99af"),r("caad"),r("fb6a"),r("a434"),r("ac1f"),r("2532"),r("466d"),r("5319"),r("1276"),r("53ca")),L=r("b85c"),T=r("4360"),x={data:{work:[],instance:[],item:[]},namespace:{bf:"http://id.loc.gov/ontologies/bibframe/",bflc:"http://id.loc.gov/ontologies/bflc/",madsrdf:"http://www.loc.gov/mads/rdf/v1#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#"},isClass:function(t){return!!t.match(/bf:[A-Z]/)},namespaceUri:function(t){for(var e in this.namespace){var r=this.namespace[e];if(t.includes(r))return t.replace(r,"".concat(e,":"))}},UriNamespace:function(t){for(var e in this.namespace){var r=this.namespace[e];if(t.includes(e))return t.replace("".concat(e,":"),r)}},returnOneWhereParentIs:function(t,e){if(1==t.length)return t[0];console.log("here");var r,o=Object(L["a"])(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a.parentNode.tagName===e)return a}}catch(i){o.e(i)}finally{o.f()}return!1},activeDom:null,specialTransforms:{"bf:subject":function(t,e){var r=t.children[0];if(!r)return console.error("xml.children[0] for this subject does not exist"),e;e.userValue["@type"]=this.UriNamespace(r.tagName),e.userValue["URI"]=null;var o=null;r.attributes&&r.attributes["rdf:about"]&&(e.userValue["URI"]=r.attributes["rdf:about"].value),r.getElementsByTagName("madsrdf:authoritativeLabel").length>0&&(o=r.getElementsByTagName("madsrdf:authoritativeLabel")[0].innerHTML);var a=[];if(e.userValue["literal"]=o,r.getElementsByTagName("madsrdf:componentList").length>0){var i,n=Object(L["a"])(r.getElementsByTagName("madsrdf:componentList")[0].children);try{for(n.s();!(i=n.n()).done;){var s=i.value,l=this.UriNamespace(s.tagName),c=null;s.getElementsByTagName("madsrdf:authoritativeLabel").length>0&&(c=s.getElementsByTagName("madsrdf:authoritativeLabel")[0].innerHTML),a.push({literal:c,"@type":l})}}catch(u){n.e(u)}finally{n.f()}}return e.userValue["http://www.loc.gov/mads/rdf/v1#componentList"]=a,e},"bf:Work":function(t,e){console.log("~~~~~~~~~~~~~~~~~~~"),console.log(t),console.log(t.attributes["rdf:about"]),console.log(e);var r=t.attributes["rdf:about"].value,o=t.getElementsByTagName("bflc:aap")[0];return o&&(r=o.innerHTML),e.userValue["http://www.w3.org/2002/07/owl#sameAs"]={literal:r,URI:t.attributes["rdf:about"].value},e.userValue.URI=t.attributes["rdf:about"].value,e.userValue.literal=r,e},"bf:contribution":function(t,e){var r=t.getElementsByTagName("bf:agent")[0].children[0];if(!r)return console.error("xml.children[0] for this subject does not exist"),e;e.userValue["@type"]=this.UriNamespace(r.tagName),e.userValue["URI"]=null;var o=null;if(r.getElementsByTagName("rdf:type").length>0&&(e.userValue["@type"]=r.getElementsByTagName("rdf:type")[0].attributes["rdf:resource"].value),r.attributes&&r.attributes["rdf:about"]&&(e.userValue["URI"]=r.attributes["rdf:about"].value),r.getElementsByTagName("madsrdf:authoritativeLabel").length>0?o=r.getElementsByTagName("madsrdf:authoritativeLabel")[0].innerHTML:r.getElementsByTagName("rdfs:label").length>0&&(o=r.getElementsByTagName("rdfs:label")[0].innerHTML),e.userValue["literal"]=o,t.getElementsByTagName("bf:Role").length>0){var a=t.getElementsByTagName("bf:Role")[0],i=null,n=null;a.attributes&&a.attributes["rdf:about"]&&(i=a.attributes["rdf:about"].value),a.getElementsByTagName("rdfs:label").length>0&&(n=a.getElementsByTagName("rdfs:label")[0].innerHTML),e.userValue["http://id.loc.gov/ontologies/bibframe/role"]={URI:i,literal:n}}return e}},transform:function(t){var e=this;console.log(t);var r=function(r){var o="";r.endsWith(":Work")?o="bf:Work":r.endsWith(":Instance")?o="bf:Instance":r.endsWith(":Item")&&(o="bf:Item");var a=t.rt[r].pt,i=e.activeDom.getElementsByTagName(o);if(i=e.returnOneWhereParentIs(i,"rdf:RDF"),!i)return console.warn("Could not find the requested XML fragment, looking for ",o),"continue";var n,s=i.getElementsByTagName("bf:adminMetadata"),l=Array.prototype.slice.call(s),c=Object(L["a"])(s);try{for(c.s();!(n=c.n()).done;){var u=n.value;u.parentNode.removeChild(u)}}catch(rt){c.e(rt)}finally{c.f()}var d,p=i.getElementsByTagName("bf:hasSeries"),f=Array.prototype.slice.call(p),m=Object(L["a"])(p);try{for(m.s();!(d=m.n()).done;){var h=d.value;h.parentNode.removeChild(h)}}catch(rt){m.e(rt)}finally{m.f()}var v=[];for(var b in a){var g=a[b].propertyURI,y=e.namespaceUri(g),w=i.getElementsByTagName(y);if(w.length>0){v.push(y);var k,C=0,x=Object(L["a"])(w);try{for(x.s();!(k=x.n()).done;){var S=k.value,I=null;if(I=JSON.parse(JSON.stringify(a[b])),I.xmlSource=S.outerHTML,console.log(y),e.specialTransforms[y])I=e.specialTransforms[y].call(e,S,I);else{var R,_=Object(L["a"])(S.children);try{for(_.s();!(R=_.n()).done;){var D=R.value;if(e.isClass(D.tagName)){I.userValue["@type"]=e.UriNamespace(D.tagName);var O=null;D.attributes&&D.attributes["rdf:about"]&&(O=D.attributes["rdf:about"].value);var P,V=null,E=Object(L["a"])(D.children);try{for(E.s();!(P=E.n()).done;){var N=P.value;if(e.isClass(N.tagName))console.error("cant handle nested classes yet");else if("rdfs:label"==N.tagName)V=N.innerHTML;else if(e.UriNamespace(N.tagName)||console.error(N.tagName,"what is this"),0==N.children.length)I.userValue[e.UriNamespace(N.tagName)]=N.innerHTML;else{var M,j=null,A=null,U=null,F=Object(L["a"])(N.children);try{for(F.s();!(M=F.n()).done;){var H=M.value;if(e.isClass(H.tagName)){U=e.UriNamespace(H.tagName),H.attributes&&H.attributes["rdf:about"]&&(j=H.attributes["rdf:about"].value);var B,W=Object(L["a"])(H.children);try{for(W.s();!(B=W.n()).done;){var $=B.value;("rdfs:label"==$.tagName||"madsrdf:authoritativeLabel"==$.tagName||"bf:code"==$.tagName)&&(A=$.nnerHTML)}}catch(rt){W.e(rt)}finally{W.f()}j&&!A&&(A=j.split("/")[j.split("/").length-1])}else console.log("not nested class? what is this",H.innerHTML)}}catch(rt){F.e(rt)}finally{F.f()}j&&A&&U&&(I.userValue[e.UriNamespace(N.tagName)]={"@type":U,literal:A,URI:j})}}}catch(rt){E.e(rt)}finally{E.f()}O&&V?I.userValue[g]={literal:V,URI:O}:!O&&V&&1==Object.keys(I.userValue).length&&(I.userValue[g]={literal:V,URI:null})}}}catch(rt){_.e(rt)}finally{_.f()}}if(0===C)a[b]=I;else{var K="".concat(b,"_").concat(C),G=t.rt[r].ptOrder.indexOf(b);t.rt[r].ptOrder.splice(G+1,0,K),a[K]=I}C++}}catch(rt){x.e(rt)}finally{x.f()}}}for(var X=0,z=v;X<z.length;X++)for(var q=z[X],Y=i.getElementsByTagName(q),Z=Y.length-1;Z>=0;Z-=1)Y[Z].remove();t.rt[r].unusedXml=i.outerHTML;var J=0,Q={},tt=function(e){if(-1===Object.keys(Q).indexOf(t.rt[r].pt[e].propertyURI)&&(Q[t.rt[r].pt[e].propertyURI]={status:!1,data:[],resourceTemplates:{},unAssingedProperties:[]}),0==Object.keys(t.rt[r].pt[e].userValue).length)t.rt[r].pt[e].dataLoaded=!1;else{t.rt[r].pt[e].dataLoaded=!0,J++,Q[t.rt[r].pt[e].propertyURI].status=!0,Q[t.rt[r].pt[e].propertyURI].data.push({json:t.rt[r].pt[e].userValue,propertyLabel:t.rt[r].pt[e].propertyLabel,xml:t.rt[r].pt[e].xmlSource}),Q[t.rt[r].pt[e].propertyURI].resourceTemplates[e]=t.rt[r].pt[e];var o=[];t.rt[r].pt[e].valueConstraint.valueTemplateRefs.forEach((function(t){T["a"].state.rtLookup[t].propertyTemplates.forEach((function(t){-1==o.indexOf(t.propertyURI)&&o.push(t.propertyURI)}))})),t.rt[r].pt[e].missingProfile=[],Object.keys(t.rt[r].pt[e].userValue).forEach((function(a){"@value"!==a&&"@type"!==a&&"uri"!==a&&-1===o.indexOf(a)&&(console.log(a,"not found"),t.rt[r].pt[e].missingProfile.push(a),Q[t.rt[r].pt[e].propertyURI].unAssingedProperties.push(a))})),Q[t.rt[r].pt[e].propertyURI].unAssingedProperties.length>0&&(Q[t.rt[r].pt[e].propertyURI].status="mixed")}};for(var et in t.rt[r].pt)tt(et);return t.rt[r].propertyLoadReport=Q,t.rt[r].propertyLoadRatio=parseInt(Object.keys(Q).filter((function(t){return Q[t].status})).length/Object.keys(Q).length*100),console.log(J),console.log(l,f),{v:t}};for(var o in t.rt){var a=r(o);switch(a){case"continue":continue;default:if("object"===Object(C["a"])(a))return a.v}}},parse:function(t){if(t||(t=this.testXml),window.DOMParser){var e=new DOMParser;this.activeDom=e.parseFromString(t,"text/xml")}console.log(this.activeDom.getElementsByTagName("rdf:type")[0].attributes)},testXml:'<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n\t\t\t\t  <bf:Work rdf:about="http://id.loc.gov/resources/works/2998171" xmlns:bf="http://id.loc.gov/ontologies/bibframe/">\n\t\t\t\t    <bflc:aap xmlns:bflc="http://id.loc.gov/ontologies/bflc/">Woolf, Virginia, 1882-1941. To the lighthouse</bflc:aap>\n\t\t\t\t    <bflc:aap-normalized xmlns:bflc="http://id.loc.gov/ontologies/bflc/">woolfvirginia18821941tothelighthouse</bflc:aap-normalized>\n\t\t\t\t    <rdf:type rdf:resource="http://id.loc.gov/ontologies/bibframe/Text"/>\n\t\t\t\t    <bf:language>\n\t\t\t\t      <bf:Language rdf:about="http://id.loc.gov/vocabulary/languages/eng">\n\t\t\t\t        <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">English</rdfs:label>\n\t\t\t\t      </bf:Language>\n\t\t\t\t    </bf:language>\n\t\t\t\t    <bf:supplementaryContent>\n\t\t\t\t      <bf:SupplementaryContent rdf:about="http://id.loc.gov/authorities/genreForms/gf2014026048">\n\t\t\t\t        <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">bibliographies</rdfs:label>\n\t\t\t\t      </bf:SupplementaryContent>\n\t\t\t\t    </bf:supplementaryContent>\n\t\t\t\t    <bf:supplementaryContent>\n\t\t\t\t      <bf:SupplementaryContent rdf:about="http://id.loc.gov/vocabulary/msupplcont/index">\n\t\t\t\t        <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">Index present</rdfs:label>\n\t\t\t\t      </bf:SupplementaryContent>\n\t\t\t\t    </bf:supplementaryContent>\n\t\t\t\t    <bf:genreForm>\n\t\t\t\t      <bf:GenreForm rdf:about="http://id.loc.gov/authorities/genreForms/gf2014026339">\n\t\t\t\t        <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">fiction</rdfs:label>\n\t\t\t\t      </bf:GenreForm>\n\t\t\t\t    </bf:genreForm>\n\t\t\t\t    <bf:identifiedBy>\n\t\t\t\t      <bf:Lccn>\n\t\t\t\t        <rdf:value>93038757 </rdf:value>\n\t\t\t\t      </bf:Lccn>\n\t\t\t\t    </bf:identifiedBy>\n\t\t\t\t    <bf:geographicCoverage>\n\t\t\t\t      <bf:GeographicCoverage rdf:about="http://id.loc.gov/vocabulary/geographicAreas/e-uk-en">\n\t\t\t\t        <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">England</rdfs:label>\n\t\t\t\t      </bf:GeographicCoverage>\n\t\t\t\t    </bf:geographicCoverage>\n\t\t\t\t    <bf:classification>\n\t\t\t\t      <bf:ClassificationLcc>\n\t\t\t\t        <bf:source>\n\t\t\t\t          <bf:Source rdf:about="http://id.loc.gov/vocabulary/organizations/dlc"/>\n\t\t\t\t        </bf:source>\n\t\t\t\t        <bf:classificationPortion>PR6045.O72</bf:classificationPortion>\n\t\t\t\t        <bf:itemPortion>T6 1994</bf:itemPortion>\n\t\t\t\t      </bf:ClassificationLcc>\n\t\t\t\t    </bf:classification>\n\t\t\t\t    <bf:classification>\n\t\t\t\t      <bf:ClassificationDdc>\n\t\t\t\t        <bf:classificationPortion>823/.912</bf:classificationPortion>\n\t\t\t\t        <bf:edition rdf:datatype="http://www.w3.org/2001/XMLSchema#anyURI">http://id.loc.gov/vocabulary/classSchemes/ddc20</bf:edition>\n\t\t\t\t        <bf:edition>full</bf:edition>\n\t\t\t\t        <bf:assigner>\n\t\t\t\t          <bf:Agent rdf:about="http://id.loc.gov/vocabulary/organizations/dlc"/>\n\t\t\t\t        </bf:assigner>\n\t\t\t\t      </bf:ClassificationDdc>\n\t\t\t\t    </bf:classification>\n\t\t\t\t    <bf:contribution>\n\t\t\t\t      <bf:Contribution>\n\t\t\t\t        <rdf:type rdf:resource="http://id.loc.gov/ontologies/bflc/PrimaryContribution"/>\n\t\t\t\t        <bf:agent>\n\t\t\t\t          <bf:Agent rdf:about="http://id.loc.gov/rwo/agents/n79041870">\n\t\t\t\t            <rdf:type rdf:resource="http://id.loc.gov/ontologies/bibframe/Person"/>\n\t\t\t\t            <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">Woolf, Virginia, 1882-1941.</rdfs:label>\n\t\t\t\t            <madsrdf:isIdentifiedByAuthority rdf:resource="http://id.loc.gov/authorities/names/n79041870" xmlns:madsrdf="http://www.loc.gov/mads/rdf/v1#"/>\n\t\t\t\t          </bf:Agent>\n\t\t\t\t        </bf:agent>\n\t\t\t\t        <bf:role>\n\t\t\t\t          <bf:Role rdf:about="http://id.loc.gov/vocabulary/relators/ctb">\n\t\t\t\t            <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">Contributor</rdfs:label>\n\t\t\t\t          </bf:Role>\n\t\t\t\t        </bf:role>\n\t\t\t\t      </bf:Contribution>\n\t\t\t\t    </bf:contribution>\n\t\t\t\t    <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">To the lighthouse</rdfs:label>\n\t\t\t\t    <bf:title>\n\t\t\t\t      <bf:Title>\n\t\t\t\t        <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">To the lighthouse</rdfs:label>\n\t\t\t\t        <bf:mainTitle>To the lighthouse</bf:mainTitle>\n\t\t\t\t      </bf:Title>\n\t\t\t\t    </bf:title>\n\t\t\t\t    <bf:hasSeries>\n\t\t\t\t      <bf:Work rdf:about="http://id.loc.gov/resources/hubs/8a8cae2fea46062d5e392a9bdf369df0">\n\t\t\t\t        <bflc:aap xmlns:bflc="http://id.loc.gov/ontologies/bflc/">Routledge English texts</bflc:aap>\n\t\t\t\t        <bflc:aap-normalized xmlns:bflc="http://id.loc.gov/ontologies/bflc/">routledgeenglishtexts</bflc:aap-normalized>\n\t\t\t\t        <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">Routledge English texts</rdfs:label>\n\t\t\t\t        <bf:title>\n\t\t\t\t          <bf:Title>\n\t\t\t\t            <bf:mainTitle>Routledge English texts</bf:mainTitle>\n\t\t\t\t          </bf:Title>\n\t\t\t\t        </bf:title>\n\t\t\t\t      </bf:Work>\n\t\t\t\t    </bf:hasSeries>\n\t\t\t\t    <bf:supplementaryContent>\n\t\t\t\t      <bf:SupplementaryContent>\n\t\t\t\t        <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">Includes bibliographical references (p. 219-222) and index.</rdfs:label>\n\t\t\t\t      </bf:SupplementaryContent>\n\t\t\t\t    </bf:supplementaryContent>\n\t\t\t\t    <bf:subject>\n\t\t\t\t      <bf:Place>\n\t\t\t\t        <rdf:type rdf:resource="http://www.loc.gov/mads/rdf/v1#ComplexSubject"/>\n\t\t\t\t        <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">Skye, Island of (Scotland)--Fiction.</rdfs:label>\n\t\t\t\t        <madsrdf:authoritativeLabel xmlns:madsrdf="http://www.loc.gov/mads/rdf/v1#">Skye, Island of (Scotland)--Fiction.</madsrdf:authoritativeLabel>\n\t\t\t\t        <madsrdf:isMemberOfMADSScheme rdf:resource="http://id.loc.gov/authorities/subjects" xmlns:madsrdf="http://www.loc.gov/mads/rdf/v1#"/>\n\t\t\t\t        <madsrdf:componentList rdf:parseType="Collection" xmlns:madsrdf="http://www.loc.gov/mads/rdf/v1#">\n\t\t\t\t          <madsrdf:Geographic>\n\t\t\t\t            <madsrdf:authoritativeLabel>Skye, Island of (Scotland)</madsrdf:authoritativeLabel>\n\t\t\t\t          </madsrdf:Geographic>\n\t\t\t\t          <madsrdf:GenreForm>\n\t\t\t\t            <madsrdf:authoritativeLabel>Fiction</madsrdf:authoritativeLabel>\n\t\t\t\t          </madsrdf:GenreForm>\n\t\t\t\t        </madsrdf:componentList>\n\t\t\t\t        <bflc:aap-normalized xmlns:bflc="http://id.loc.gov/ontologies/bflc/">skyeislandof(scotland)fiction</bflc:aap-normalized>\n\t\t\t\t      </bf:Place>\n\t\t\t\t    </bf:subject>\n\t\t\t\t    <bf:subject>\n\t\t\t\t      <bf:Topic rdf:about="http://id.loc.gov/authorities/subjects/sh2009125026">\n\t\t\t\t        <rdf:type rdf:resource="http://www.loc.gov/mads/rdf/v1#ComplexSubject"/>\n\t\t\t\t        <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">English--Scotland--Fiction.</rdfs:label>\n\t\t\t\t        <madsrdf:authoritativeLabel xmlns:madsrdf="http://www.loc.gov/mads/rdf/v1#">English--Scotland--Fiction.</madsrdf:authoritativeLabel>\n\t\t\t\t        <madsrdf:isMemberOfMADSScheme rdf:resource="http://id.loc.gov/authorities/subjects" xmlns:madsrdf="http://www.loc.gov/mads/rdf/v1#"/>\n\t\t\t\t        <madsrdf:componentList rdf:parseType="Collection" xmlns:madsrdf="http://www.loc.gov/mads/rdf/v1#">\n\t\t\t\t          <madsrdf:Topic>\n\t\t\t\t            <madsrdf:authoritativeLabel>English</madsrdf:authoritativeLabel>\n\t\t\t\t          </madsrdf:Topic>\n\t\t\t\t          <madsrdf:Geographic>\n\t\t\t\t            <madsrdf:authoritativeLabel>Scotland</madsrdf:authoritativeLabel>\n\t\t\t\t          </madsrdf:Geographic>\n\t\t\t\t          <madsrdf:GenreForm>\n\t\t\t\t            <madsrdf:authoritativeLabel>Fiction</madsrdf:authoritativeLabel>\n\t\t\t\t          </madsrdf:GenreForm>\n\t\t\t\t        </madsrdf:componentList>\n\t\t\t\t        <bflc:aap-normalized xmlns:bflc="http://id.loc.gov/ontologies/bflc/">englishscotlandfiction</bflc:aap-normalized>\n\t\t\t\t      </bf:Topic>\n\t\t\t\t    </bf:subject>\n\t\t\t\t    <bf:subject>\n\t\t\t\t      <bf:Topic rdf:about="http://id.loc.gov/authorities/subjects/sh2008106913">\n\t\t\t\t        <rdf:type rdf:resource="http://www.loc.gov/mads/rdf/v1#ComplexSubject"/>\n\t\t\t\t        <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">Loss (Psychology)--Fiction.</rdfs:label>\n\t\t\t\t        <madsrdf:authoritativeLabel xmlns:madsrdf="http://www.loc.gov/mads/rdf/v1#">Loss (Psychology)--Fiction.</madsrdf:authoritativeLabel>\n\t\t\t\t        <madsrdf:isMemberOfMADSScheme rdf:resource="http://id.loc.gov/authorities/subjects" xmlns:madsrdf="http://www.loc.gov/mads/rdf/v1#"/>\n\t\t\t\t        <madsrdf:componentList rdf:parseType="Collection" xmlns:madsrdf="http://www.loc.gov/mads/rdf/v1#">\n\t\t\t\t          <madsrdf:Topic>\n\t\t\t\t            <madsrdf:authoritativeLabel>Loss (Psychology)</madsrdf:authoritativeLabel>\n\t\t\t\t          </madsrdf:Topic>\n\t\t\t\t          <madsrdf:GenreForm>\n\t\t\t\t            <madsrdf:authoritativeLabel>Fiction</madsrdf:authoritativeLabel>\n\t\t\t\t          </madsrdf:GenreForm>\n\t\t\t\t        </madsrdf:componentList>\n\t\t\t\t        <bflc:aap-normalized xmlns:bflc="http://id.loc.gov/ontologies/bflc/">loss(psychology)fiction</bflc:aap-normalized>\n\t\t\t\t      </bf:Topic>\n\t\t\t\t    </bf:subject>\n\t\t\t\t    <bf:subject>\n\t\t\t\t      <bf:Topic rdf:about="http://id.loc.gov/authorities/subjects/sh2008107230">\n\t\t\t\t        <rdf:type rdf:resource="http://www.loc.gov/mads/rdf/v1#ComplexSubject"/>\n\t\t\t\t        <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">Mothers--Death--Fiction.</rdfs:label>\n\t\t\t\t        <madsrdf:authoritativeLabel xmlns:madsrdf="http://www.loc.gov/mads/rdf/v1#">Mothers--Death--Fiction.</madsrdf:authoritativeLabel>\n\t\t\t\t        <madsrdf:isMemberOfMADSScheme rdf:resource="http://id.loc.gov/authorities/subjects" xmlns:madsrdf="http://www.loc.gov/mads/rdf/v1#"/>\n\t\t\t\t        <madsrdf:componentList rdf:parseType="Collection" xmlns:madsrdf="http://www.loc.gov/mads/rdf/v1#">\n\t\t\t\t          <madsrdf:Topic>\n\t\t\t\t            <madsrdf:authoritativeLabel>Mothers</madsrdf:authoritativeLabel>\n\t\t\t\t          </madsrdf:Topic>\n\t\t\t\t          <madsrdf:Topic>\n\t\t\t\t            <madsrdf:authoritativeLabel>Death</madsrdf:authoritativeLabel>\n\t\t\t\t          </madsrdf:Topic>\n\t\t\t\t          <madsrdf:GenreForm>\n\t\t\t\t            <madsrdf:authoritativeLabel>Fiction</madsrdf:authoritativeLabel>\n\t\t\t\t          </madsrdf:GenreForm>\n\t\t\t\t        </madsrdf:componentList>\n\t\t\t\t        <bflc:aap-normalized xmlns:bflc="http://id.loc.gov/ontologies/bflc/">mothersdeathfiction</bflc:aap-normalized>\n\t\t\t\t      </bf:Topic>\n\t\t\t\t    </bf:subject>\n\t\t\t\t    <bf:subject>\n\t\t\t\t      <bf:Topic rdf:about="http://id.loc.gov/authorities/subjects/sh2008111402">\n\t\t\t\t        <rdf:type rdf:resource="http://www.loc.gov/mads/rdf/v1#ComplexSubject"/>\n\t\t\t\t        <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">Summer resorts--Fiction.</rdfs:label>\n\t\t\t\t        <madsrdf:authoritativeLabel xmlns:madsrdf="http://www.loc.gov/mads/rdf/v1#">Summer resorts--Fiction.</madsrdf:authoritativeLabel>\n\t\t\t\t        <madsrdf:isMemberOfMADSScheme rdf:resource="http://id.loc.gov/authorities/subjects" xmlns:madsrdf="http://www.loc.gov/mads/rdf/v1#"/>\n\t\t\t\t        <madsrdf:componentList rdf:parseType="Collection" xmlns:madsrdf="http://www.loc.gov/mads/rdf/v1#">\n\t\t\t\t          <madsrdf:Topic>\n\t\t\t\t            <madsrdf:authoritativeLabel>Summer resorts</madsrdf:authoritativeLabel>\n\t\t\t\t          </madsrdf:Topic>\n\t\t\t\t          <madsrdf:GenreForm>\n\t\t\t\t            <madsrdf:authoritativeLabel>Fiction</madsrdf:authoritativeLabel>\n\t\t\t\t          </madsrdf:GenreForm>\n\t\t\t\t        </madsrdf:componentList>\n\t\t\t\t        <bflc:aap-normalized xmlns:bflc="http://id.loc.gov/ontologies/bflc/">summerresortsfiction</bflc:aap-normalized>\n\t\t\t\t      </bf:Topic>\n\t\t\t\t    </bf:subject>\n\t\t\t\t    <bf:subject>\n\t\t\t\t      <bf:Topic rdf:about="http://id.loc.gov/authorities/subjects/sh2008107177">\n\t\t\t\t        <rdf:type rdf:resource="http://www.loc.gov/mads/rdf/v1#ComplexSubject"/>\n\t\t\t\t        <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">Married people--Fiction.</rdfs:label>\n\t\t\t\t        <madsrdf:authoritativeLabel xmlns:madsrdf="http://www.loc.gov/mads/rdf/v1#">Married people--Fiction.</madsrdf:authoritativeLabel>\n\t\t\t\t        <madsrdf:isMemberOfMADSScheme rdf:resource="http://id.loc.gov/authorities/subjects" xmlns:madsrdf="http://www.loc.gov/mads/rdf/v1#"/>\n\t\t\t\t        <madsrdf:componentList rdf:parseType="Collection" xmlns:madsrdf="http://www.loc.gov/mads/rdf/v1#">\n\t\t\t\t          <madsrdf:Topic>\n\t\t\t\t            <madsrdf:authoritativeLabel>Married people</madsrdf:authoritativeLabel>\n\t\t\t\t          </madsrdf:Topic>\n\t\t\t\t          <madsrdf:GenreForm>\n\t\t\t\t            <madsrdf:authoritativeLabel>Fiction</madsrdf:authoritativeLabel>\n\t\t\t\t          </madsrdf:GenreForm>\n\t\t\t\t        </madsrdf:componentList>\n\t\t\t\t        <bflc:aap-normalized xmlns:bflc="http://id.loc.gov/ontologies/bflc/">marriedpeoplefiction</bflc:aap-normalized>\n\t\t\t\t      </bf:Topic>\n\t\t\t\t    </bf:subject>\n\t\t\t\t    <bf:subject>\n\t\t\t\t      <bf:Topic rdf:about="http://id.loc.gov/authorities/subjects/sh2008107119">\n\t\t\t\t        <rdf:type rdf:resource="http://www.loc.gov/mads/rdf/v1#ComplexSubject"/>\n\t\t\t\t        <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">Lighthouses--Fiction.</rdfs:label>\n\t\t\t\t        <madsrdf:authoritativeLabel xmlns:madsrdf="http://www.loc.gov/mads/rdf/v1#">Lighthouses--Fiction.</madsrdf:authoritativeLabel>\n\t\t\t\t        <madsrdf:isMemberOfMADSScheme rdf:resource="http://id.loc.gov/authorities/subjects" xmlns:madsrdf="http://www.loc.gov/mads/rdf/v1#"/>\n\t\t\t\t        <madsrdf:componentList rdf:parseType="Collection" xmlns:madsrdf="http://www.loc.gov/mads/rdf/v1#">\n\t\t\t\t          <madsrdf:Topic>\n\t\t\t\t            <madsrdf:authoritativeLabel>Lighthouses</madsrdf:authoritativeLabel>\n\t\t\t\t          </madsrdf:Topic>\n\t\t\t\t          <madsrdf:GenreForm>\n\t\t\t\t            <madsrdf:authoritativeLabel>Fiction</madsrdf:authoritativeLabel>\n\t\t\t\t          </madsrdf:GenreForm>\n\t\t\t\t        </madsrdf:componentList>\n\t\t\t\t        <bflc:aap-normalized xmlns:bflc="http://id.loc.gov/ontologies/bflc/">lighthousesfiction</bflc:aap-normalized>\n\t\t\t\t      </bf:Topic>\n\t\t\t\t    </bf:subject>\n\t\t\t\t    <bf:subject>\n\t\t\t\t      <bf:Topic rdf:about="http://id.loc.gov/authorities/subjects/sh2008113433">\n\t\t\t\t        <rdf:type rdf:resource="http://www.loc.gov/mads/rdf/v1#ComplexSubject"/>\n\t\t\t\t        <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">Widowers--Fiction.</rdfs:label>\n\t\t\t\t        <madsrdf:authoritativeLabel xmlns:madsrdf="http://www.loc.gov/mads/rdf/v1#">Widowers--Fiction.</madsrdf:authoritativeLabel>\n\t\t\t\t        <madsrdf:isMemberOfMADSScheme rdf:resource="http://id.loc.gov/authorities/subjects" xmlns:madsrdf="http://www.loc.gov/mads/rdf/v1#"/>\n\t\t\t\t        <madsrdf:componentList rdf:parseType="Collection" xmlns:madsrdf="http://www.loc.gov/mads/rdf/v1#">\n\t\t\t\t          <madsrdf:Topic>\n\t\t\t\t            <madsrdf:authoritativeLabel>Widowers</madsrdf:authoritativeLabel>\n\t\t\t\t          </madsrdf:Topic>\n\t\t\t\t          <madsrdf:GenreForm>\n\t\t\t\t            <madsrdf:authoritativeLabel>Fiction</madsrdf:authoritativeLabel>\n\t\t\t\t          </madsrdf:GenreForm>\n\t\t\t\t        </madsrdf:componentList>\n\t\t\t\t        <bflc:aap-normalized xmlns:bflc="http://id.loc.gov/ontologies/bflc/">widowersfiction</bflc:aap-normalized>\n\t\t\t\t      </bf:Topic>\n\t\t\t\t    </bf:subject>\n\t\t\t\t    <bf:genreForm>\n\t\t\t\t      <bf:GenreForm rdf:about="http://id.loc.gov/authorities/subjects/sh85108438">\n\t\t\t\t        <rdf:type rdf:resource="http://www.loc.gov/mads/rdf/v1#Topic"/>\n\t\t\t\t        <madsrdf:authoritativeLabel xmlns:madsrdf="http://www.loc.gov/mads/rdf/v1#">Psychological fiction.</madsrdf:authoritativeLabel>\n\t\t\t\t        <bf:source>\n\t\t\t\t          <bf:Source>\n\t\t\t\t            <bf:code>lcsh</bf:code>\n\t\t\t\t          </bf:Source>\n\t\t\t\t        </bf:source>\n\t\t\t\t        <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">Psychological fiction.</rdfs:label>\n\t\t\t\t      </bf:GenreForm>\n\t\t\t\t    </bf:genreForm>\n\t\t\t\t    <bf:genreForm>\n\t\t\t\t      <bf:GenreForm rdf:about="http://id.loc.gov/authorities/subjects/sh86004353">\n\t\t\t\t        <rdf:type rdf:resource="http://www.loc.gov/mads/rdf/v1#Topic"/>\n\t\t\t\t        <madsrdf:authoritativeLabel xmlns:madsrdf="http://www.loc.gov/mads/rdf/v1#">Domestic fiction.</madsrdf:authoritativeLabel>\n\t\t\t\t        <bf:source>\n\t\t\t\t          <bf:Source>\n\t\t\t\t            <bf:code>lcsh</bf:code>\n\t\t\t\t          </bf:Source>\n\t\t\t\t        </bf:source>\n\t\t\t\t        <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">Domestic fiction.</rdfs:label>\n\t\t\t\t      </bf:GenreForm>\n\t\t\t\t    </bf:genreForm>\n\t\t\t\t    <bf:contribution>\n\t\t\t\t      <bf:Contribution>\n\t\t\t\t        <bf:agent>\n\t\t\t\t          <bf:Agent rdf:about="http://id.loc.gov/rwo/agents/n87899079">\n\t\t\t\t            <rdf:type rdf:resource="http://id.loc.gov/ontologies/bibframe/Person"/>\n\t\t\t\t            <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">Kemp, Sandra.</rdfs:label>\n\t\t\t\t            <madsrdf:isIdentifiedByAuthority rdf:resource="http://id.loc.gov/authorities/names/n87899079" xmlns:madsrdf="http://www.loc.gov/mads/rdf/v1#"/>\n\t\t\t\t          </bf:Agent>\n\t\t\t\t        </bf:agent>\n\t\t\t\t        <bf:role>\n\t\t\t\t          <bf:Role rdf:about="http://id.loc.gov/vocabulary/relators/ctb">\n\t\t\t\t            <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">Contributor</rdfs:label>\n\t\t\t\t          </bf:Role>\n\t\t\t\t        </bf:role>\n\t\t\t\t      </bf:Contribution>\n\t\t\t\t    </bf:contribution>\n\t\t\t\t    <dcterms:isPartOf rdf:resource="http://id.loc.gov/resources/works" xmlns:dcterms="http://purl.org/dc/terms/"/>\n\t\t\t\t    <bf:hasInstance>\n\t\t\t\t      <bf:Instance rdf:about="http://id.loc.gov/resources/instances/2998171">\n\t\t\t\t        <bflc:aap xmlns:bflc="http://id.loc.gov/ontologies/bflc/">To the lighthouse</bflc:aap>\n\t\t\t\t      </bf:Instance>\n\t\t\t\t    </bf:hasInstance>\n\t\t\t\t    <bf:adminMetadata>\n\t\t\t\t      <bf:AdminMetadata>\n\t\t\t\t        <bf:generationProcess>\n\t\t\t\t          <bf:GenerationProcess>\n\t\t\t\t            <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">DLC marc2bibframe2 v1.5.0-SNAPSHOT: 2019-06-13T11:45:19-04:00</rdfs:label>\n\t\t\t\t          </bf:GenerationProcess>\n\t\t\t\t        </bf:generationProcess>\n\t\t\t\t        <bf:status>\n\t\t\t\t          <bf:Status>\n\t\t\t\t            <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">increase in encoding level from prepublication</rdfs:label>\n\t\t\t\t            <bf:code>p</bf:code>\n\t\t\t\t          </bf:Status>\n\t\t\t\t        </bf:status>\n\t\t\t\t        <bflc:encodingLevel xmlns:bflc="http://id.loc.gov/ontologies/bflc/">\n\t\t\t\t          <bflc:EncodingLevel rdf:about="http://id.loc.gov/vocabulary/menclvl/f">\n\t\t\t\t            <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">full</rdfs:label>\n\t\t\t\t          </bflc:EncodingLevel>\n\t\t\t\t        </bflc:encodingLevel>\n\t\t\t\t        <bf:descriptionConventions>\n\t\t\t\t          <bf:DescriptionConventions rdf:about="http://id.loc.gov/vocabulary/descriptionConventions/aacr">\n\t\t\t\t            <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">aacr</rdfs:label>\n\t\t\t\t          </bf:DescriptionConventions>\n\t\t\t\t        </bf:descriptionConventions>\n\t\t\t\t        <bf:identifiedBy>\n\t\t\t\t          <bf:Local>\n\t\t\t\t            <rdf:value>2998171</rdf:value>\n\t\t\t\t            <bf:assigner>\n\t\t\t\t              <bf:Agent rdf:about="http://id.loc.gov/vocabulary/organizations/dlc"/>\n\t\t\t\t            </bf:assigner>\n\t\t\t\t          </bf:Local>\n\t\t\t\t        </bf:identifiedBy>\n\t\t\t\t        <bf:changeDate rdf:datatype="http://www.w3.org/2001/XMLSchema#dateTime">2005-02-15T16:40:14</bf:changeDate>\n\t\t\t\t        <bf:creationDate rdf:datatype="http://www.w3.org/2001/XMLSchema#date">1993-10-12</bf:creationDate>\n\t\t\t\t        <bf:source>\n\t\t\t\t          <bf:Source rdf:about="http://id.loc.gov/vocabulary/organizations/dlc">\n\t\t\t\t            <rdf:type rdf:resource="http://id.loc.gov/ontologies/bibframe/Agent"/>\n\t\t\t\t            <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">DLC</rdfs:label>\n\t\t\t\t          </bf:Source>\n\t\t\t\t        </bf:source>\n\t\t\t\t        <bf:source>\n\t\t\t\t          <bf:Source rdf:about="http://id.loc.gov/vocabulary/organizations/dlc">\n\t\t\t\t            <rdf:type rdf:resource="http://id.loc.gov/ontologies/bibframe/Agent"/>\n\t\t\t\t            <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">DLC</rdfs:label>\n\t\t\t\t          </bf:Source>\n\t\t\t\t        </bf:source>\n\t\t\t\t        <bf:descriptionModifier>\n\t\t\t\t          <bf:Agent rdf:about="http://id.loc.gov/vocabulary/organizations/dlc">\n\t\t\t\t            <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">DLC</rdfs:label>\n\t\t\t\t          </bf:Agent>\n\t\t\t\t        </bf:descriptionModifier>\n\t\t\t\t      </bf:AdminMetadata>\n\t\t\t\t    </bf:adminMetadata>\n\t\t\t\t    <bf:expressionOf>\n\t\t\t\t      <bf:Work rdf:about="http://id.loc.gov/resources/hubs/03a711d5e5b9763d7a03d9f4d7d5c642">\n\t\t\t\t        <bflc:aap xmlns:bflc="http://id.loc.gov/ontologies/bflc/">Woolf, Virginia, 1882-1941. To the lighthouse</bflc:aap>\n\t\t\t\t      </bf:Work>\n\t\t\t\t    </bf:expressionOf>\n\t\t\t\t  </bf:Work>\n\t\t\t\t</rdf:RDF>'},S=x,I=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{width:"100px"},attrs:{id:"hourglass"}})},R=[],_={name:"MiscLoaderAnimation",components:{},props:{},methods:{hourglassFill:function(){var t=document.getElementById("hourglass");console.log(t,t,t,t),t.innerHTML='<svg height="100px" width="100px"  fill="#000000" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><g><path fill="#000000" d="M28.5,14h43c1.105,0,2,0.895,2,2v17.886c0,0.46-0.158,0.906-0.449,1.262L60.818,50.186   l12.226,14.855c0.295,0.358,0.456,0.807,0.456,1.271V84c0,1.105-0.895,2-2,2h-43c-1.105,0-2-0.895-2-2V66.312   c0-0.464,0.161-0.913,0.456-1.271l12.226-14.855L26.949,35.148c-0.29-0.357-0.449-0.802-0.449-1.262V16   C26.5,14.895,27.395,14,28.5,14z M68.5,19h-37v13.819l13.627,16.749c0.3,0.369,0.299,0.899-0.004,1.267L31.5,67.388V81h37V67.388   L54.877,50.835c-0.302-0.368-0.304-0.897-0.004-1.267L68.5,32.819V19z"></path><path fill="#000000" d="M64,23.5v7.924L52.137,46.097c-0.524,0.648-1.303,1.021-2.137,1.021   s-1.613-0.372-2.138-1.021L36,31.424V23.5H64z"></path></g></svg>',window.hourglassTimeout1=setTimeout((function(){t.innerHTML='<svg height="100px" width="100px"  fill="#000000" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><g><path fill="#000000" d="M28.5,14h43c1.105,0,2,0.895,2,2v17.886c0,0.46-0.158,0.906-0.449,1.262L60.818,50.186   l12.226,14.855c0.295,0.358,0.456,0.807,0.456,1.271V84c0,1.105-0.895,2-2,2h-43c-1.105,0-2-0.895-2-2V66.312   c0-0.464,0.161-0.913,0.456-1.271l12.226-14.855L26.949,35.148c-0.29-0.357-0.449-0.802-0.449-1.262V16   C26.5,14.895,27.395,14,28.5,14z M68.5,19h-37v13.819l13.627,16.749c0.3,0.369,0.299,0.899-0.004,1.267L31.5,67.388V81h37V67.388   L54.877,50.835c-0.302-0.368-0.304-0.897-0.004-1.267L68.5,32.819V19z"></path><path fill="#000000" d="M62.683,33.053L52.226,45.987c-0.423,0.523-0.994,0.937-1.652,1.072   c-1.041,0.213-2.068-0.166-2.711-0.962L37.317,33.053c-0.529-0.654-0.063-1.629,0.778-1.629h23.811   C62.746,31.424,63.212,32.399,62.683,33.053z"></path><path fill="#000000" d="M36,76.5v-5.218c0-0.423,0.266-0.799,0.663-0.942l11.99-4.285   c0.87-0.311,1.822-0.311,2.692,0l11.99,4.285C63.734,70.483,64,70.859,64,71.282V76.5H36z"></path></g></svg>'}),1e3),window.hourglassTimeout2=setTimeout((function(){t.innerHTML='<svg height="100px" width="100px"  fill="#000000" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><g><path fill="#000000" d="M36,76.301v-6.653l12.635-11.865c0.768-0.721,1.963-0.723,2.733-0.004l12.587,11.744   L64,76.301c0.001,0.11-0.088,0.199-0.198,0.199H36.199C36.089,76.5,36,76.411,36,76.301z"></path><g><path fill="#000000" d="M28.5,14h43c1.105,0,2,0.895,2,2v17.886c0,0.46-0.158,0.906-0.449,1.262L60.818,50.186    l12.226,14.855c0.295,0.358,0.456,0.807,0.456,1.271V84c0,1.105-0.895,2-2,2h-43c-1.105,0-2-0.895-2-2V66.312    c0-0.464,0.161-0.913,0.456-1.271l12.226-14.855L26.949,35.148c-0.29-0.357-0.449-0.802-0.449-1.262V16    C26.5,14.895,27.395,14,28.5,14z M68.5,19h-37v13.819l13.627,16.749c0.3,0.369,0.299,0.899-0.004,1.267L31.5,67.388V81h37V67.388    L54.877,50.835c-0.302-0.368-0.304-0.897-0.004-1.267L68.5,32.819V19z"></path><path fill="#000000" d="M43.66,40.899l4.112,5.086c0.423,0.523,0.994,0.938,1.653,1.073    c1.041,0.214,2.069-0.166,2.712-0.962l4.202-5.197c0.529-0.654,0.063-1.629-0.778-1.629H44.438    C43.597,39.271,43.132,40.245,43.66,40.899z"></path></g></g></svg>'}),1500),window.hourglassTimeout3=setTimeout((function(){t.innerHTML='<svg height="100px" width="100px"  fill="#000000" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><g><path fill="#000000" d="M71.5,86h-43c-1.105,0-2-0.895-2-2V66.114c0-0.46,0.158-0.906,0.449-1.262l12.234-15.037   L26.956,34.959c-0.295-0.358-0.456-0.807-0.456-1.271V16c0-1.105,0.895-2,2-2h43c1.105,0,2,0.895,2,2v17.688   c0,0.464-0.161,0.913-0.456,1.271L60.818,49.814l12.234,15.037c0.29,0.357,0.449,0.802,0.449,1.262V84   C73.5,85.105,72.605,86,71.5,86z M31.5,81h37V67.181L54.873,50.432c-0.3-0.369-0.299-0.899,0.004-1.267L68.5,32.612V19h-37v13.612   l13.623,16.553c0.302,0.368,0.304,0.897,0.004,1.267L31.5,67.181V81z"></path><path fill="#000000" d="M36,76.5v-7.924l11.863-14.673c0.524-0.648,1.303-1.021,2.137-1.021   s1.613,0.372,2.138,1.021L64,68.576V76.5H36z"></path></g></svg>'}),2e3),setTimeout((function(){t.classList.toggle("rotated")}),3e3),window.hourglassTimeout4=setTimeout((function(){t.classList.toggle("rotated"),t.innerHTML='<svg height="100px" width="100px"  fill="#000000" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><g><path fill="#000000" d="M28.5,14h43c1.105,0,2,0.895,2,2v17.886c0,0.46-0.158,0.906-0.449,1.262L60.818,50.186   l12.226,14.855c0.295,0.358,0.456,0.807,0.456,1.271V84c0,1.105-0.895,2-2,2h-43c-1.105,0-2-0.895-2-2V66.312   c0-0.464,0.161-0.913,0.456-1.271l12.226-14.855L26.949,35.148c-0.29-0.357-0.449-0.802-0.449-1.262V16   C26.5,14.895,27.395,14,28.5,14z M68.5,19h-37v13.819l13.627,16.749c0.3,0.369,0.299,0.899-0.004,1.267L31.5,67.388V81h37V67.388   L54.877,50.835c-0.302-0.368-0.304-0.897-0.004-1.267L68.5,32.819V19z"></path><path fill="#000000" d="M64,23.5v7.924L52.137,46.097c-0.524,0.648-1.303,1.021-2.137,1.021   s-1.613-0.372-2.138-1.021L36,31.424V23.5H64z"></path></g></svg>'}),3500)}},data:function(){return{test:null}},mounted:function(){clearTimeout(window.hourglassTimeout1),clearTimeout(window.hourglassTimeout2),clearTimeout(window.hourglassTimeout3),clearTimeout(window.hourglassTimeout4),clearTimeout(window.hourglassTimeout5),this.hourglassFill(),window.hourglassTimeout5=setInterval(this.hourglassFill,4e3)},beforeDestroy:function(){clearTimeout(window.hourglassTimeout1),clearTimeout(window.hourglassTimeout2),clearTimeout(window.hourglassTimeout3),clearTimeout(window.hourglassTimeout4),clearTimeout(window.hourglassTimeout5)}},D=_,O=(r("6e51"),Object(n["a"])(D,I,R,!1,null,"7bb5161c",null)),P=O.exports,V={name:"HomeNewComponent",components:{MiscLoaderAnimation:P},props:{},methods:{search:function(t){var e=this;window.clearTimeout(this.searchTimeout),this.searchActive=!0,this.searchTimeout=window.setTimeout((function(){e.$store.dispatch("fetchIdWorkSearch",{self:e,searchValue:t.target.value}).then((function(){e.searchActive=!1}))}),500)},rtChange:function(t){this.useRtSelected=t.target.value},load:function(t,e){var r=this;this.$store.dispatch("fetchIdXML",{self:this,url:t}).then((function(){S.parse(r.idXML);var t=null;for(var o in r.profiles)r.profiles[o].rtOrder.indexOf(r.useRtSelected)>-1&&(t=JSON.parse(JSON.stringify(r.profiles[o])));r.transformResults=S.transform(t);var a=r.transformResults.rtOrder.filter((function(t){return t.endsWith(":Work")}))[0];r.transformResultsDisplay=r.transformResults.rt[a],e&&r.$store.dispatch("setActiveProfile",{self:r,profile:r.transformResults}).then((function(){r.$router.push({path:"edit"})}))}))}},computed:Object(h["b"])({activeInput:"activeInput",activeProfile:"activeProfile",startingPoints:"startingPoints",profiles:"profiles",profilesLoaded:"profilesLoaded",idWorkSearchResults:"idWorkSearchResults",rtLookup:"rtLookup",idXML:"idXML",rtLookupWorks:function(t){for(var e=[],r=0,o=Object.keys(t.rtLookup);r<o.length;r++){var a=o[r];a.endsWith(":Work")&&e.push(a)}return e}}),data:function(){return{useRtSelected:"lc:RT:bf2:Monograph:Work",searchTimeout:null,transformResults:null,transformResultsDisplay:null,activeTemplateId:null,actibveTemplateIdCount:0,searchActive:!0}},created:function(){var t=this;this.$store.dispatch("fetchIdWorkSearch",{self:this,searchValue:"Woolf, Virginia, 1882-1941. To the lighthouse"}).then((function(){t.searchActive=!1}))}},E=V,N=(r("4082"),Object(n["a"])(E,w,k,!1,null,"46833cd3",null)),M=N.exports,j=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"home-settings"}},[r("div",{staticClass:"grid"},[r("aside",{staticClass:"sidebar-left",staticStyle:{"background-color":"#4b4b4b",color:"#ffffff"}},[r("ul",{staticClass:"sidebar-menu"},[r("p",[t._v("(There is only one setting so far)")]),r("li",{class:{active:t.isDiacritics}},[r("router-link",{class:{active:t.isDiacritics},attrs:{to:"/settings/diacritics"}},[t._v("Diacritics")])],1)])]),r("article",{attrs:{id:"settings-content"}},[t.isDiacritics?r("HomeSettingsDiacriticsComponent"):t._e()],1)])])},A=[],U=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"home-settings-diacritics"}},[r("h1",[t._v("Diacritics")]),r("hr"),r("h3",[t._v("Your custom defined diacritics")]),t._l(t.locatStorageDiacritics,(function(e,o){return r("div",{key:o,staticClass:"current-diacritics"},[r("div",{staticClass:"component-container-input-container current-diacritics-display"},[r("div",{class:["component-container-fake-input","no-lower-right-border-radius"],staticStyle:{"background-color":"#eaeaea"}},[r("form",{attrs:{autocomplete:"off"}},[r("div",{staticClass:"component-nested-container-title"},[t._v("diacritic")]),r("input",{staticClass:"input-nested selectable-input",attrs:{disabled:"",autocomplete:"off",type:"text"},domProps:{value:t.locatStorageDiacritics[o].letter}})])]),r("div",{class:["component-container-fake-input","no-upper-border","no-lower-border","no-upper-right-border-radius","no-lower-right-border-radius"],staticStyle:{"background-color":"#eaeaea"}},[r("form",{attrs:{autocomplete:"off"}},[r("div",{staticClass:"component-nested-container-title"},[t._v("trigger key")]),r("input",{staticClass:"input-nested selectable-input",attrs:{disabled:"",bfeType:"EditLiteralComponent-nested",autocomplete:"off",type:"text"},domProps:{value:'"'+t.locatStorageDiacritics[o].trigger+'"'}})])]),r("div",{class:["component-container-fake-input","no-upper-border","no-upper-right-border-radius"],staticStyle:{"background-color":"#eaeaea"}},[r("form",{attrs:{autocomplete:"off"}},[r("div",{staticClass:"component-nested-container-title"},[t._v("description")]),r("input",{staticClass:"input-nested selectable-input",attrs:{disabled:"",autocomplete:"off",type:"text"},domProps:{value:t.locatStorageDiacritics[o].desc}})])])]),r("div",{staticClass:"current-diacritics-button"},[r("button",{on:{click:function(e){return t.removeExisting(t.locatStorageDiacritics[o].keycode)}}},[t._v("Remove")])])])})),r("hr"),r("h3",[t._v("Add new definition")]),t._m(0),r("div",{staticClass:"component-container-input-container"},[r("div",{class:["component-container-fake-input","no-lower-right-border-radius"]},[r("form",{attrs:{autocomplete:"off"}},[r("div",{staticClass:"component-nested-container-title"},[t._v("diacritic")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.newCutomDiacriticLetter,expression:"newCutomDiacriticLetter"}],staticClass:"input-nested selectable-input",attrs:{id:"newDiacriticDiacritic",bfeType:"EditLiteralComponent-nested",autocomplete:"off",type:"text"},domProps:{value:t.newCutomDiacriticLetter},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()},keyup:t.nav,input:function(e){e.target.composing||(t.newCutomDiacriticLetter=e.target.value)}}})])]),r("div",{class:["component-container-fake-input","no-upper-border","no-lower-border","no-upper-right-border-radius","no-lower-right-border-radius"]},[r("form",{attrs:{autocomplete:"off"}},[r("div",{staticClass:"component-nested-container-title"},[t._v("trigger key")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.newCutomDiacriticKey,expression:"newCutomDiacriticKey"}],staticClass:"input-nested selectable-input",attrs:{id:"newDiacriticKey",bfeType:"EditLiteralComponent-nested",autocomplete:"off",type:"text",placeholder:"(press the key you want to use to select this diacritic from the menu)"},domProps:{value:t.newCutomDiacriticKey},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()},keyup:t.nav,keypress:t.selectKeyField,focus:t.clearKeyField,input:function(e){e.target.composing||(t.newCutomDiacriticKey=e.target.value)}}})])]),r("div",{class:["component-container-fake-input","no-upper-border","no-upper-right-border-radius"]},[r("form",{attrs:{autocomplete:"off"}},[r("div",{staticClass:"component-nested-container-title"},[t._v("description")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.newCutomDiacriticDesc,expression:"newCutomDiacriticDesc"}],staticClass:"input-nested selectable-input",attrs:{id:"newDiacriticDesc",bfeType:"EditLiteralComponent-nested",autocomplete:"off",type:"text"},domProps:{value:t.newCutomDiacriticDesc},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()},keyup:t.nav,input:function(e){e.target.composing||(t.newCutomDiacriticDesc=e.target.value)}}})])]),r("button",{on:{click:t.addDiacritic}},[t._v("Add")])])],2)},F=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("details",[r("summary",[t._v("Help")]),t._v(' The system provided a quick menu for inserting diacritic characters into a text field. You can add another diacritic to your quick menu below. The "diacritic" field is the character you would like to insert into text, for example , , , etc.. The "trigger key" is the key, once the diacritic quick menue is open, that will insert the diacritic charater. Once you are in that field press the key you want to trigger it. The "description" field is a short description of this diacritic mark, like "acute e" or "umlaut u", etc.. ')])}],H=(r("498a"),{name:"HomeSettingsDiacriticsComponent",components:{},props:{},methods:{removeExisting:function(t){var e=this.locatStorageDiacritics;e=e.filter((function(e){return e.keycode!=t})),localStorage.setItem("bfeDiacritics",JSON.stringify(e)),this.locatStorageDiacritics=e},addDiacritic:function(){if(null===this.newCutomDiacriticLetter||""===this.newCutomDiacriticLetter.trim())return alert("Please fill out the 'diacritic' field"),!1;if(null===this.newCutomDiacriticKeyCode||""===this.newCutomDiacriticKeyCode)return alert("Please fill out the 'trigger key' field"),!1;if(null===this.newCutomDiacriticDesc||""===this.newCutomDiacriticDesc.trim())return alert("Please fill out the 'description' field"),!1;var t=localStorage.getItem("bfeDiacritics");t=null===t?[]:JSON.parse(t);var e={letter:this.newCutomDiacriticLetter,trigger:this.newCutomDiacriticKey.replace('"',"").replace('"',""),keycode:this.newCutomDiacriticKeyCode,desc:this.newCutomDiacriticDesc};if(t.filter((function(t){return t.keycode==e.keycode})).length>0)return alert("You are already using this trigger key, please pick a different one"),!1;t.push(e),localStorage.setItem("bfeDiacritics",JSON.stringify(t)),this.locatStorageDiacritics=t,this.newCutomDiacriticLetter=null,this.newCutomDiacriticKey="",this.newCutomDiacriticKeyCode=null,this.newCutomDiacriticDesc=null,document.getElementById("newDiacriticDiacritic").focus()},nav:function(t){"ArrowDown"==t.key&&("newDiacriticDiacritic"===t.target.id&&document.getElementById("newDiacriticKey").focus(),"newDiacriticKey"===t.target.id&&document.getElementById("newDiacriticDesc").focus()),"ArrowUp"==t.key&&("newDiacriticDesc"===t.target.id&&document.getElementById("newDiacriticKey").focus(),"newDiacriticKey"===t.target.id&&document.getElementById("newDiacriticDiacritic").focus()),"Enter"==t.key&&"newDiacriticDesc"===t.target.id&&this.addDiacritic()},clearKeyField:function(){this.newCutomDiacriticKey="",this.newCutomDiacriticKeyCode=null},selectKeyField:function(t){return this.newCutomDiacriticKeyCode=t.keyCode,this.newCutomDiacriticKey='"'.concat(t.key,'"'),t.preventDefault(),document.getElementById("newDiacriticDesc").focus(),!1}},computed:Object(h["b"])({profiles:"profiles",profilesLoaded:"profilesLoaded"}),data:function(){return{newCutomDiacriticLetter:null,newCutomDiacriticKey:null,newCutomDiacriticDesc:null,newCutomDiacriticKeyCode:null,locatStorageDiacritics:[]}},created:function(){var t=localStorage.getItem("bfeDiacritics");t=null===t?[]:JSON.parse(t),this.locatStorageDiacritics=t}}),B=H,W=(r("6b29"),Object(n["a"])(B,U,F,!1,null,"26e77543",null)),$=W.exports,K={name:"HomeSettingsComponent",components:{HomeSettingsDiacriticsComponent:$},props:{},methods:{},computed:Object(h["b"])({profiles:"profiles",profilesLoaded:"profilesLoaded",isDiacritics:function(){return"/settings/diacritics"===this.$route.fullPath||"/settings"===this.$route.fullPath}}),data:function(){return{}},created:function(){}},G=K,X=(r("d6dd"),Object(n["a"])(G,j,A,!1,null,"0a1e1970",null)),z=X.exports,q=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"home-load"}},[t._v(" Nothing Here Yet ")])},Y=[],Z={name:"HomeMyRecordsComponent",components:{},props:{},methods:{},computed:Object(h["b"])({activeProfile:"activeProfile",startingPoints:"startingPoints",profiles:"profiles",profilesLoaded:"profilesLoaded"}),data:function(){return{}},created:function(){}},J=Z,Q=Object(n["a"])(J,q,Y,!1,null,"37a1778c",null),tt=Q.exports,et=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"home-load"}},[t._v(" Nothing Here Yet ")])},rt=[],ot={name:"HomeAllRecordsComponent",components:{},props:{},methods:{},computed:Object(h["b"])({activeProfile:"activeProfile",startingPoints:"startingPoints",profiles:"profiles",profilesLoaded:"profilesLoaded"}),data:function(){return{}},created:function(){}},at=ot,it=Object(n["a"])(at,et,rt,!1,null,"292d3752",null),nt=it.exports,st={name:"Home",components:{HomeNewComponent:y,HomeLoadComponent:M,HomeSettingsComponent:z,HomeMyRecordsComponent:tt,HomeAllRecordsComponent:nt,Keypress:function(){return r.e("chunk-6ceba5e5").then(r.bind(null,"365a"))}},data:function(){return{activeTemplate:null}},methods:{moveDown:function(){console.log("home press")},navRoute:function(t){77==t.event.keyCode&&"/myrecords"!=this.$route.fullPath&&this.$router.push({path:"/myrecords"}),69==t.event.keyCode&&"/allrecords"!=this.$route.fullPath&&this.$router.push({path:"/allrecords"}),78==t.event.keyCode&&"/new"!=this.$route.fullPath&&this.$router.push({path:"/new"}),79==t.event.keyCode&&"/load"!=this.$route.fullPath&&this.$router.push({path:"/load"}),73==t.event.keyCode&&"/settings"!=this.$route.fullPath&&this.$router.push({path:"/settings"})}},computed:Object(h["b"])({profilesLoaded:"profilesLoaded",startingPoints:"startingPoints",isMyRecords:function(){return"/myrecords"===this.$route.fullPath},isAllRecords:function(){return"/allrecords"===this.$route.fullPath},isNew:function(){return"/new"===this.$route.fullPath||"/"===this.$route.fullPath},isLoad:function(){return"/load"===this.$route.fullPath},isSettings:function(){return this.$route.fullPath.startsWith("/settings")}}),created:function(){this.$store.dispatch("fetchProfiles",{self:this}),console.log(this.$route)},beforeCreate:function(){document.body.classList.add("height-100"),console.log(document.getElementById("app")),document.getElementById("app").classList.add("height-100")}},lt=st,ct=(r("d05e"),Object(n["a"])(lt,d,p,!1,null,"78259126",null)),ut=ct.exports,dt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"grid"},[r("header",[r("div",{staticStyle:{display:"none"}},[t._v("loaded profile -- "+t._s(t.profilesLoaded)+" ")])]),r("Keypress",{attrs:{"key-event":"keydown","key-code":40},on:{success:t.moveDown}}),r("Keypress",{attrs:{"key-event":"keydown","key-code":38},on:{success:t.moveUp}}),r("Keypress",{attrs:{"key-event":"keydown","key-code":34},on:{success:t.movePageDown}}),r("Keypress",{attrs:{"key-event":"keydown","key-code":33},on:{success:t.movePageUp}}),r("Keypress",{attrs:{"key-event":"keydown","multiple-keys":[{keyCode:187,modifiers:["ctrlKey"],preventDefault:!0}]},on:{success:t.dupeProperty}}),r("aside",{staticClass:"sidebar-left",staticStyle:{"background-color":"#2a2a2a",color:"#ffffff"},attrs:{id:"edit-left-menu"}},[t.profilesLoaded?r("div",{ref:"editLeftMenuFixed",staticStyle:{height:"100vh","overflow-y":"scroll",position:"fixed",width:"20%"},attrs:{id:"edit-left-menu-fixed"}},t._l(t.activeProfile.rtOrder,(function(e){return r("div",{key:e},[r("div",[r("div",{staticClass:"container-type-icon",staticStyle:{color:"#ffffff"}},[r("div",["Work"==e.split(":").slice(-1)[0]?r("svg",{attrs:{width:"1.5em",height:"1.1em",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[r("circle",{attrs:{fill:"#7badad",cx:"0.55em",cy:"0.6em",r:"0.45em"}})]):t._e(),"Instance"==e.split(":").slice(-1)[0]?r("div",{staticClass:"temp-icon-instance",staticStyle:{height:"1em",width:"1em",display:"inline-block"}}):t._e(),r("span",[t._v(t._s(e.split(":").slice(-1)[0]))])])]),r("ul",{key:"leftmenu"+t.activeEditCounter,staticStyle:{"padding-left":"0"}},t._l(t.activeProfile.rt[e].ptOrder,(function(o){return r("li",{key:o,class:["left-menu-list-item",{"left-menu-list-item-has-data":t.liHasData(t.activeProfile.rt[e].pt[o])&&""!=t.returnOpacFormat(t.activeProfile.rt[e].pt[o].userValue),"left-menu-list-item-active":t.activeComponent==o&&t.activeProfileName==e}],attrs:{id:"menu"+o}},[r("a",{attrs:{href:"#"},on:{click:function(e){t.scrollFieldContainerIntoView(e,o.replace(/\(|\)|\s|\/|:|\.|\|/g,"_"))}}},[t._v(t._s(t.activeProfile.rt[e].pt[o].propertyLabel))])])})),0)])])})),0):t._e()]),r("article",[t.profilesLoaded?r("div",t._l(t.activeProfile.rtOrder,(function(e){return r("div",{key:e},[r("div",{class:["container-"+e.split(":").slice(-1)[0]]},[r("div",{staticClass:"container-type-icon"},[r("div",[t._v(t._s(e.split(":").slice(-1)[0]))]),r("div",["Work"==e.split(":").slice(-1)[0]?r("svg",{attrs:{width:"3em",height:"2.5em",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[r("circle",{attrs:{fill:"#7badad",cx:"1.5em",cy:"1em",r:"0.75em"}})]):t._e(),"Instance"==e.split(":").slice(-1)[0]?r("div",{staticClass:"temp-icon-instance",staticStyle:{height:"1.75em",width:"2em","margin-left":"1.5em"}}):t._e()])]),t._l(t.activeProfile.rt[e].ptOrder,(function(o){return r("div",{key:o,attrs:{id:"container-for-"+o.replace(/\(|\)|\s|\/|:|\.|\|/g,"_")}},[r("EditMainComponent",{staticClass:"component",attrs:{activeTemplate:t.activeProfile.rt[e].pt[o],profileName:e,profileCompoent:o,topLevelComponent:!0,parentStructure:t.activeProfile.rtOrder,structure:t.activeProfile.rt[e].pt[o]}})],1)})),t.activeProfile.rt[e].unusedXml?r("div",{staticStyle:{"background-color":"#fde4b7","overflow-x":"hidden"}},[r("h3",[t._v("There was some XML that could not be loaded into this profile ("+t._s(e)+"):")]),r("code",[r("pre",[t._v(t._s(t.prettifyXml(t.activeProfile.rt[e].unusedXml)))])])]):t._e()],2)])})),0):t._e()]),r("aside",{key:t.activeEditCounter,staticClass:"sidebar-right",staticStyle:{"background-color":"white"}},[t.profilesLoaded?r("div",{ref:"editRightMenuFixed",staticStyle:{height:"100vh","overflow-y":"scroll",position:"fixed",width:"100%"}},[t._l(t.activeProfile.rtOrder,(function(e){return r("div",{key:e},[r("div",{staticClass:"container-type-icon",staticStyle:{color:"#2c3e50"}},[r("div",["Work"==e.split(":").slice(-1)[0]?r("div",["Work"==e.split(":").slice(-1)[0]?r("svg",{attrs:{width:"1.5em",height:"1.1em",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[r("circle",{attrs:{fill:"#7badad",cx:"0.55em",cy:"0.6em",r:"0.45em"}})]):t._e(),r("span",[t._v("Work")])]):t._e()])]),r("div",{staticStyle:{"margin-left":"1%","border-left":"1px solid rgba(44, 62, 80, 0.25)","padding-left":"0.2em"}},t._l(t.activeProfile.rt[e].ptOrder,(function(o){return r("div",{key:o},[Object.keys(t.activeProfile.rt[e].pt[o].userValue).length>0&&""!=t.returnOpacFormat(t.activeProfile.rt[e].pt[o].userValue)?r("div",{class:[{"opac-field-active":t.activeComponent==o&&t.activeProfileName==e}],staticStyle:{"margin-bottom":"1em"}},[r("span",{staticClass:"opac-field-title"},[t._v(t._s(t.activeProfile.rt[e].pt[o].propertyLabel))]),r("div",{staticClass:"opac-field-value"},[t._v(t._s(t.returnOpacFormat(t.activeProfile.rt[e].pt[o].userValue)))])]):t._e()])})),0)])})),r("button",{on:{click:t.triggerXMLExport}},[t._v("EXPORT")])],2):t._e()]),r("footer",{staticStyle:{display:"none"}},[t._v(" Footer ")])],1)},pt=[],ft=r("718b"),mt=r("8ad1"),ht=r("1bca"),vt={toBFXML:function(t){return t}},bt=vt,gt={name:"Edit",components:{EditMainComponent:ft["default"],Keypress:function(){return r.e("chunk-6ceba5e5").then(r.bind(null,"365a"))}},computed:Object(h["b"])({profilesLoaded:"profilesLoaded",profiles:"profiles",sartingPoint:"sartingPoint",activeInput:"activeInput",activeProfile:"activeProfile",activeComponent:"activeComponent",activeProfileName:"activeProfileName",activeEditCounter:"activeEditCounter"}),created:function(){var t=this;this.profilesLoaded?this.$nextTick((function(){t.sideBarGrabDragInit(),t.loadProfileOntologyLookupsBuild()})):this.$store.dispatch("fetchProfiles",{self:this}).then((function(){t.sideBarGrabDragInit(),t.loadProfileOntologyLookupsBuild()})),this.$nextTick((function(){mt["a"].renderBorders(),window.setTimeout((function(){document.getElementsByTagName("input")[0].focus()}),500)}))},mounted:function(){},updated:function(){this.$nextTick((function(){mt["a"].renderBorders()}))},data:function(){return{labels:ht["a"],ontologyLookupTodo:[]}},methods:{prettifyXml:mt["a"].prettifyXml,moveDown:mt["a"].globalMoveDown,moveUp:mt["a"].globalMoveUp,movePageDown:mt["a"].globalMovePageDown,movePageUp:mt["a"].globalMovePageUp,dupeProperty:mt["a"].dupeProperty,triggerXMLExport:function(){console.log(bt.toBFXML(this.activeProfile))},scrollFieldContainerIntoView:function(t,e){return document.getElementById("container-for-"+e).scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),window.setTimeout((function(){document.querySelector("#container-for-"+e+" input")&&document.querySelector("#container-for-"+e+" input").focus()}),400),t.preventDefault(),!1},sideBarGrabDragInit:function(){var t=this.$refs.editLeftMenuFixed;t.style.cursor="grab";var e={top:0,left:0,x:0,y:0},r=function(r){t.style.cursor="grabbing",t.style.userSelect="none",e={left:t.scrollLeft,top:t.scrollTop,x:r.clientX,y:r.clientY},document.addEventListener("mousemove",o),document.addEventListener("mouseup",a)},o=function(r){var o=r.clientX-e.x,a=r.clientY-e.y;t.scrollTop=e.top-a,t.scrollLeft=e.left-o},a=function e(){t.style.cursor="grab",t.style.removeProperty("user-select"),document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",e)};t.addEventListener("mousedown",r);var i=this.$refs.editRightMenuFixed;i.style.cursor="grab";var n={top:0,left:0,x:0,y:0},s=function(e){i.style.cursor="grabbing",i.style.userSelect="none",n={left:t.scrollLeft,top:t.scrollTop,x:e.clientX,y:e.clientY},document.addEventListener("mousemove",l),document.addEventListener("mouseup",c)},l=function(t){var e=t.clientX-n.x,r=t.clientY-n.y;i.scrollTop=n.top-r,i.scrollLeft=n.left-e},c=function t(){i.style.cursor="grab",i.style.removeProperty("user-select"),document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",t)};i.addEventListener("mousedown",s)},loadProfileOntologyLookupsBuild:function(){var t=this;Object.keys(this.activeProfile.rt).forEach((function(e){Object.keys(t.activeProfile.rt[e].pt).forEach((function(r){"http://id.loc.gov/ontologies/bibframe/title"==t.activeProfile.rt[e].pt[r].propertyURI&&-1==t.ontologyLookupTodo.indexOf(t.activeProfile.rt[e].pt[r].propertyURI)&&t.ontologyLookupTodo.push(t.activeProfile.rt[e].pt[r].propertyURI)}))})),this.loadProfileOntologyLookupsRequest()},loadProfileOntologyLookupsRequest:function(){var t=this;if(this.ontologyLookupTodo.length>0){var e=this.ontologyLookupTodo.pop();this.$store.dispatch("fetchOntology",{self:this,uri:e}).then((function(){t.loadProfileOntologyLookupsRequest()}))}},returnOpacFormat:function(t){var e="";return Object.keys(t).forEach((function(r){"string"!=typeof t[r]||t[r].includes("http")||e.includes(t[r])?t[r]&&t[r].literal&&!t[r].literal.includes("http")&&!e.includes(t[r].literal)&&(e=e+t[r].literal+" "):e+=t[r]})),e=e.trim(),e},liHasData:function(t){return Object.keys(t.userValue).length>0||!!(t.valueConstraint&&t.valueConstraint.defaults&&t.valueConstraint.defaults.length>0)}}},yt=gt,wt=(r("d572"),Object(n["a"])(yt,dt,pt,!1,null,null,null)),kt=wt.exports,Ct=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"test-id"}},[r("ul",[r("li",{attrs:{id:"search-li"}},[t._v("Search Works On ID: "),r("input",{attrs:{value:"Woolf, Virginia, 1882-1941. To the lighthouse",autofocus:""},on:{keyup:t.search}})]),r("li",{attrs:{id:"profile-li"}},[t._v(" Use Resource Template: "),r("select",{on:{change:t.rtChange}},t._l(t.rtLookupWorks,(function(e){return r("option",{key:e,domProps:{selected:"lc:RT:bf2:Monograph:Work"===e}},[t._v(t._s(e))])})),0)]),t._l(t.idWorkSearchResults,(function(e,o){return r("li",{key:o},[r("button",{on:{click:function(r){return t.load(e.id,!1)}}},[t._v("Load")]),t._v(" "),r("button",{on:{click:function(r){return t.load(e.id,!0)}}},[t._v("Load & Edit")]),t._v(" - "),r("a",{attrs:{target:"_blank",href:e.id}},[t._v(t._s(e.label))])])}))],2),null!=t.transformResultsDisplay?r("div",{staticStyle:{padding:"2%"}},[r("h1",[t._v("Load Results:")]),r("div",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.transformResultsDisplay.propertyLoadRatio)+"% properties assigned from data")]),r("div",{staticStyle:{"font-weight":"bold"}},[t._v("Unused XML:")]),r("code",{staticStyle:{"background-color":"whitesmoke"}},[r("pre",{staticStyle:{"background-color":"whitesmoke"}},[t._v(t._s(t.prettifyXml(t.transformResultsDisplay.unusedXml)))])]),r("hr"),t._l(t.transformResultsDisplay.propertyLoadReport,(function(e,o){return r("div",{key:o},[!1===e.status?r("h3",{staticStyle:{color:"red"}},[t._v(t._s(o))]):t._e(),!0===e.status?r("h3",{staticStyle:{color:"green"}},[t._v(t._s(o))]):t._e(),"mixed"===e.status?r("h3",{staticStyle:{color:"orange"}},[t._v(t._s(o))]):t._e(),!1!==e.status?r("div",[e.unAssingedProperties.length>0?r("div",[r("div",[t._v("Unassinged Properties:")]),t._l(e.unAssingedProperties,(function(e,o){return r("div",{key:o},[t._v(t._s(e))])}))],2):t._e(),t._l(e.data,(function(e,o){return r("div",{key:o},[r("div",[t._v(t._s(e.propertyLabel))]),r("code",{staticStyle:{"background-color":"whitesmoke"}},[r("pre",{staticStyle:{"background-color":"whitesmoke"}},[t._v(t._s(t.prettifyXml(e.xml)))])]),r("vue-json-pretty",{attrs:{path:"res",highlightMouseoverNode:!0,collapsedOnClickBrackets:!0,data:e.json}})],1)}))],2):t._e(),r("hr")])}))],2):t._e()])},Lt=[],Tt=r("d538"),xt=r.n(Tt),St={name:"TestParseId",components:{VueJsonPretty:xt.a},data:function(){return{useRtSelected:"lc:RT:bf2:Monograph:Work",searchTimeout:null,transformResults:null,transformResultsDisplay:null}},computed:Object(h["b"])({profilesLoaded:"profilesLoaded",activeProfile:"activeProfile",idWorkSearchResults:"idWorkSearchResults",rtLookup:"rtLookup",profiles:"profiles",idXML:"idXML",prettyIDXML:function(t){return null===t.idXML||""===t.idXML?"":mt["a"].prettifyXml(t.idXML)},rtLookupWorks:function(t){for(var e=[],r=0,o=Object.keys(t.rtLookup);r<o.length;r++){var a=o[r];a.endsWith(":Work")&&e.push(a)}return e}}),methods:{prettifyXml:mt["a"].prettifyXml,search:function(t){var e=this;window.clearTimeout(this.searchTimeout),this.searchTimeout=window.setTimeout((function(){e.$store.dispatch("fetchIdWorkSearch",{self:e,searchValue:t.target.value}).then((function(){}))}),500)},rtChange:function(t){this.useRtSelected=t.target.value},load:function(t,e){var r=this;this.$store.dispatch("fetchIdXML",{self:this,url:t}).then((function(){S.parse(r.idXML);var t=null;for(var o in r.profiles)r.profiles[o].rtOrder.indexOf(r.useRtSelected)>-1&&(t=r.profiles[o]);r.transformResults=S.transform(t);var a=r.transformResults.rtOrder.filter((function(t){return t.endsWith(":Work")}))[0];r.transformResultsDisplay=r.transformResults.rt[a],e&&r.$store.dispatch("setActiveProfile",{self:r,profile:r.transformResults}).then((function(){r.$router.push({path:"edit"})}))}))}},created:function(){var t=this;this.$store.dispatch("fetchProfiles",{self:this}).then((function(){S.parse(),t.$store.dispatch("fetchIdWorkSearch",{self:t,searchValue:"Woolf, Virginia, 1882-1941. To the lighthouse"}).then((function(){}))}))}},It=St,Rt=(r("724c"),Object(n["a"])(It,Ct,Lt,!1,null,null,null)),_t=Rt.exports,Dt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticStyle:{display:"flex"}},[r("div",{staticStyle:{flex:"1"},attrs:{id:"test-id"}},[r("ul",[r("li",{attrs:{id:"search-li"}},[t._v("Search Works On ID: "),r("input",{attrs:{value:"Woolf, Virginia, 1882-1941. To the lighthouse",autofocus:""},on:{keyup:t.search}})]),r("li",{attrs:{id:"profile-li"}},[t._v(" Use Work Resource Template: "),r("select",{on:{change:t.rtChange}},t._l(t.rtLookupWorks,(function(e){return r("option",{key:e,domProps:{selected:"lc:RT:bf2:Monograph:Work"===e}},[t._v(t._s(e))])})),0)]),t._l(t.idWorkSearchResults,(function(e,o){return r("li",{key:o},[r("button",{on:{click:function(r){return t.load(e.id,!1)}}},[t._v("Load")]),t._v(" "),r("button",{on:{click:function(r){return t.load(e.id,!0)}}},[t._v("Load & Edit")]),t._v(" - "),r("a",{attrs:{target:"_blank",href:e.id}},[t._v(t._s(e.label))])])}))],2)]),r("div",{staticStyle:{flex:"1"},attrs:{id:"test-instance"}},[r("ul",[r("li",{attrs:{id:"search-li"}},[t._v("Search Instances On BFDB: "),r("input",{attrs:{value:"Woolf, Virginia, 1882-1941. To the lighthouse",autofocus:""},on:{keyup:t.search}})]),r("li",{attrs:{id:"search-li"}},[t._v("... Or: URI of BFDB Instance: "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.instanceUri,expression:"instanceUri"}],attrs:{placeholder:"BFDB URL"},domProps:{value:t.instanceUri},on:{keyup:t.instanceUriChange,input:function(e){e.target.composing||(t.instanceUri=e.target.value)}}}),r("button",{on:{click:t.loadInstance}},[t._v("Load")])]),r("li",{attrs:{id:"profile-li"}},[t._v(" Use Instance Resource Template: "),r("select",{on:{change:t.rtChange}},t._l(t.rtLookupInstances,(function(e){return r("option",{key:e,domProps:{selected:"lc:RT:bf2:Monograph:Instance"===e}},[t._v(t._s(e))])})),0)]),t._l(t.idWorkSearchResults,(function(e,o){return r("li",{key:o},[r("button",{on:{click:function(r){return t.load(e.id,!1)}}},[t._v("Load")]),t._v(" "),r("button",{on:{click:function(r){return t.load(e.id,!0)}}},[t._v("Load & Edit")]),t._v(" - "),r("a",{attrs:{target:"_blank",href:e.id}},[t._v(t._s(e.label))])])}))],2)])]),null!=t.transformResultsDisplay?r("div",{staticStyle:{padding:"2%"}},[r("h1",[t._v("Load Results:")]),r("div",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.transformResultsDisplay.propertyLoadRatio)+"% properties assigned from data")]),r("div",{staticStyle:{"font-weight":"bold"}},[t._v("Unused XML:")]),r("code",{staticStyle:{"background-color":"whitesmoke"}},[r("pre",{staticStyle:{"background-color":"whitesmoke"}},[t._v(t._s(t.prettifyXml(t.transformResultsDisplay.unusedXml)))])]),r("hr"),t._l(t.transformResultsDisplay.propertyLoadReport,(function(e,o){return r("div",{key:o},[!1===e.status?r("h3",{staticStyle:{color:"red"}},[t._v(t._s(o))]):t._e(),!0===e.status?r("h3",{staticStyle:{color:"green"}},[t._v(t._s(o))]):t._e(),"mixed"===e.status?r("h3",{staticStyle:{color:"orange"}},[t._v(t._s(o))]):t._e(),!1!==e.status?r("div",[e.unAssingedProperties.length>0?r("div",[r("div",[t._v("Unassinged Properties:")]),t._l(e.unAssingedProperties,(function(e,o){return r("div",{key:o},[t._v(t._s(e))])}))],2):t._e(),t._l(e.data,(function(e,o){return r("div",{key:o},[r("div",[t._v(t._s(e.propertyLabel))]),r("code",{staticStyle:{"background-color":"whitesmoke"}},[r("pre",{staticStyle:{"background-color":"whitesmoke"}},[t._v(t._s(t.prettifyXml(e.xml)))])]),r("vue-json-pretty",{attrs:{path:"res",highlightMouseoverNode:!0,collapsedOnClickBrackets:!0,data:e.json}})],1)}))],2):t._e(),r("hr")])}))],2):t._e()])},Ot=[],Pt={data:{work:[],instance:[],item:[]},namespace:{bf:"http://id.loc.gov/ontologies/bibframe/",bflc:"http://id.loc.gov/ontologies/bflc/",madsrdf:"http://www.loc.gov/mads/rdf/v1#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#"},isClass:function(t){return!!t.match(/bf:[A-Z]/)},namespaceUri:function(t){for(var e in this.namespace){var r=this.namespace[e];if(t.includes(r))return t.replace(r,"".concat(e,":"))}},UriNamespace:function(t){for(var e in this.namespace){var r=this.namespace[e];if(t.includes(e))return t.replace("".concat(e,":"),r)}},returnOneWhereParentIs:function(t,e){if(1==t.length)return t[0];console.log("here");var r,o=Object(L["a"])(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a.parentNode.tagName===e)return a}}catch(i){o.e(i)}finally{o.f()}return!1},activeDom:null,specialTransforms:{"bf:subject":function(t,e){var r=t.children[0];if(!r)return console.error("xml.children[0] for this subject does not exist"),e;e.userValue["@type"]=this.UriNamespace(r.tagName),e.userValue["URI"]=null;var o=null;r.attributes&&r.attributes["rdf:about"]&&(e.userValue["URI"]=r.attributes["rdf:about"].value),r.getElementsByTagName("madsrdf:authoritativeLabel").length>0&&(o=r.getElementsByTagName("madsrdf:authoritativeLabel")[0].innerHTML);var a=[];if(e.userValue["literal"]=o,r.getElementsByTagName("madsrdf:componentList").length>0){var i,n=Object(L["a"])(r.getElementsByTagName("madsrdf:componentList")[0].children);try{for(n.s();!(i=n.n()).done;){var s=i.value,l=this.UriNamespace(s.tagName),c=null;s.getElementsByTagName("madsrdf:authoritativeLabel").length>0&&(c=s.getElementsByTagName("madsrdf:authoritativeLabel")[0].innerHTML),a.push({literal:c,"@type":l})}}catch(u){n.e(u)}finally{n.f()}}return e.userValue["http://www.loc.gov/mads/rdf/v1#componentList"]=a,e},"bf:Work":function(t,e){console.log("~~~~~~~~~~~~~~~~~~~"),console.log(t),console.log(t.attributes["rdf:about"]),console.log(e);var r=t.attributes["rdf:about"].value,o=t.getElementsByTagName("bflc:aap")[0];return o&&(r=o.innerHTML),e.userValue["http://www.w3.org/2002/07/owl#sameAs"]={literal:r,URI:t.attributes["rdf:about"].value},e.userValue.URI=t.attributes["rdf:about"].value,e.userValue.literal=r,e},"bf:contribution":function(t,e){var r=t.getElementsByTagName("bf:agent")[0].children[0];if(!r)return console.error("xml.children[0] for this subject does not exist"),e;e.userValue["@type"]=this.UriNamespace(r.tagName),e.userValue["URI"]=null;var o=null;if(r.getElementsByTagName("rdf:type").length>0&&(e.userValue["@type"]=r.getElementsByTagName("rdf:type")[0].attributes["rdf:resource"].value),r.attributes&&r.attributes["rdf:about"]&&(e.userValue["URI"]=r.attributes["rdf:about"].value),r.getElementsByTagName("madsrdf:authoritativeLabel").length>0?o=r.getElementsByTagName("madsrdf:authoritativeLabel")[0].innerHTML:r.getElementsByTagName("rdfs:label").length>0&&(o=r.getElementsByTagName("rdfs:label")[0].innerHTML),e.userValue["literal"]=o,t.getElementsByTagName("bf:Role").length>0){var a=t.getElementsByTagName("bf:Role")[0],i=null,n=null;a.attributes&&a.attributes["rdf:about"]&&(i=a.attributes["rdf:about"].value),a.getElementsByTagName("rdfs:label").length>0&&(n=a.getElementsByTagName("rdfs:label")[0].innerHTML),e.userValue["http://id.loc.gov/ontologies/bibframe/role"]={URI:i,literal:n}}return e}},transform:function(t){var e=this;console.log(t);var r=function(r){var o="";r.endsWith(":Work")?o="bf:Work":r.endsWith(":Instance")?o="bf:Instance":r.endsWith(":Item")&&(o="bf:Item");var a=t.rt[r].pt,i=e.activeDom.getElementsByTagName(o);if(i=e.returnOneWhereParentIs(i,"rdf:RDF"),console.log("Doing",o),!i)return console.warn("Could not find the requested XML fragment, looking for ",o),"continue";var n,s=i.getElementsByTagName("bf:adminMetadata"),l=Array.prototype.slice.call(s),c=Object(L["a"])(s);try{for(c.s();!(n=c.n()).done;){var u=n.value;u.parentNode.removeChild(u)}}catch(rt){c.e(rt)}finally{c.f()}var d,p=i.getElementsByTagName("bf:hasSeries"),f=Array.prototype.slice.call(p),m=Object(L["a"])(p);try{for(m.s();!(d=m.n()).done;){var h=d.value;h.parentNode.removeChild(h)}}catch(rt){m.e(rt)}finally{m.f()}var v=[];for(var b in a){var g=a[b].propertyURI,y=e.namespaceUri(g),w=i.getElementsByTagName(y);if(w.length>0){v.push(y);var k,C=0,x=Object(L["a"])(w);try{for(x.s();!(k=x.n()).done;){var S=k.value,I=null;if(I=JSON.parse(JSON.stringify(a[b])),I.xmlSource=S.outerHTML,console.log(y),e.specialTransforms[y])I=e.specialTransforms[y].call(e,S,I);else if(0==S.children.length)console.log("GOT NO KIDS",!0===S.innerHTML,S.innerHTML.length),S.attributes&&S.attributes["rdf:about"]&&0==S.innerHTML.length&&(I.userValue={URI:S.attributes["rdf:about"].value,label:null}),S.attributes&&S.attributes["rdf:resource"]&&(I.userValue={URI:S.attributes["rdf:resource"].value,label:null}),S.innerHTML&&0!=S.innerHTML.length&&(I.userValue={URI:null,label:S.innerHTML});else{var R,_=Object(L["a"])(S.children);try{for(_.s();!(R=_.n()).done;){var D=R.value;if(console.log(D.tagName,"~~~~",e.isClass(D.tagName)),e.isClass(D.tagName)){I.userValue["@type"]=e.UriNamespace(D.tagName);var O=null;D.attributes&&D.attributes["rdf:about"]&&(O=D.attributes["rdf:about"].value),D.attributes&&D.attributes["rdf:resource"]&&(O=D.attributes["rdf:resource"].value);var P,V=null,E=Object(L["a"])(D.children);try{for(E.s();!(P=E.n()).done;){var N=P.value;if(e.isClass(N.tagName))console.error("cant handle nested classes yet");else if("rdfs:label"==N.tagName)V=N.innerHTML;else if("rdf:type"==N.tagName)console.log("rdf:type rdf:type rdf:type rdf:typerdf:type"),console.log(N),console.log(N.attributes),console.log(N.attributes["rdf:resource"]),console.log(N.attributes["rdf:resource"].value),N.attributes["rdf:resource"]?I.userValue["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]=N.attributes["rdf:resource"].value:console.log("something strange going on with rdf:resource of rdf:type");else if(e.UriNamespace(N.tagName)||console.error(N.tagName,"what is this"),0==N.children.length)I.userValue[e.UriNamespace(N.tagName)]=N.innerHTML;else{var M,j=null,A=null,U=null,F=Object(L["a"])(N.children);try{for(F.s();!(M=F.n()).done;){var H=M.value;if(e.isClass(H.tagName)){U=e.UriNamespace(H.tagName),H.attributes&&H.attributes["rdf:about"]&&(j=H.attributes["rdf:about"].value);var B,W=Object(L["a"])(H.children);try{for(W.s();!(B=W.n()).done;){var $=B.value;("rdfs:label"==$.tagName||"madsrdf:authoritativeLabel"==$.tagName||"bf:code"==$.tagName)&&(A=$.nnerHTML)}}catch(rt){W.e(rt)}finally{W.f()}j&&!A&&(A=j.split("/")[j.split("/").length-1])}else console.log("not nested class? what is this",H.innerHTML)}}catch(rt){F.e(rt)}finally{F.f()}j&&A&&U&&(I.userValue[e.UriNamespace(N.tagName)]={"@type":U,literal:A,URI:j})}}}catch(rt){E.e(rt)}finally{E.f()}O&&V?I.userValue[g]={literal:V,URI:O}:!O&&V&&1==Object.keys(I.userValue).length?I.userValue[g]={literal:V,URI:null}:O&&!V&&(V=O.includes("id.loc.gov/vocabulary/")?O.split("/")[O.split("/").length-1]:O,I.userValue[g]={literal:V,URI:O})}}}catch(rt){_.e(rt)}finally{_.f()}}if(0===C)a[b]=I;else{var K="".concat(b,"_").concat(C),G=t.rt[r].ptOrder.indexOf(b);t.rt[r].ptOrder.splice(G+1,0,K),a[K]=I}C++}}catch(rt){x.e(rt)}finally{x.f()}}}for(var X=0,z=v;X<z.length;X++)for(var q=z[X],Y=i.getElementsByTagName(q),Z=Y.length-1;Z>=0;Z-=1)Y[Z].remove();t.rt[r].unusedXml=i.outerHTML;var J=0,Q={},tt=function(e){if(-1===Object.keys(Q).indexOf(t.rt[r].pt[e].propertyURI)&&(Q[t.rt[r].pt[e].propertyURI]={status:!1,data:[],resourceTemplates:{},unAssingedProperties:[]}),0==Object.keys(t.rt[r].pt[e].userValue).length)t.rt[r].pt[e].dataLoaded=!1;else{t.rt[r].pt[e].dataLoaded=!0,J++,Q[t.rt[r].pt[e].propertyURI].status=!0,Q[t.rt[r].pt[e].propertyURI].data.push({json:t.rt[r].pt[e].userValue,propertyLabel:t.rt[r].pt[e].propertyLabel,xml:t.rt[r].pt[e].xmlSource}),Q[t.rt[r].pt[e].propertyURI].resourceTemplates[e]=t.rt[r].pt[e];var o=[];t.rt[r].pt[e].valueConstraint.valueTemplateRefs.forEach((function(t){T["a"].state.rtLookup[t].propertyTemplates.forEach((function(t){-1==o.indexOf(t.propertyURI)&&o.push(t.propertyURI)}))})),t.rt[r].pt[e].missingProfile=[],Object.keys(t.rt[r].pt[e].userValue).forEach((function(a){"@value"!==a&&"@type"!==a&&"uri"!==a&&-1===o.indexOf(a)&&(console.log(a,"not found"),t.rt[r].pt[e].missingProfile.push(a),Q[t.rt[r].pt[e].propertyURI].unAssingedProperties.push(a))})),Q[t.rt[r].pt[e].propertyURI].unAssingedProperties.length>0&&(Q[t.rt[r].pt[e].propertyURI].status="mixed")}};for(var et in t.rt[r].pt)tt(et);return t.rt[r].propertyLoadReport=Q,t.rt[r].propertyLoadRatio=parseInt(Object.keys(Q).filter((function(t){return Q[t].status})).length/Object.keys(Q).length*100),console.log(J),console.log(l,f),console.log("profile",t),{v:t}};for(var o in t.rt){var a=r(o);switch(a){case"continue":continue;default:if("object"===Object(C["a"])(a))return a.v}}},parse:function(t){if(t||(t=this.testXml),window.DOMParser){var e=new DOMParser;this.activeDom=e.parseFromString(t,"text/xml")}console.log(this.activeDom.getElementsByTagName("rdf:type")[0].attributes)},testXmlInstance:'<?xml version="1.0" encoding="UTF-8"?>\n\t\t\t\t\t\t<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n\t\t\t\t\t\t  <bf:Instance rdf:about="http://id.loc.gov/resources/instances/c0010058400001" xmlns:bf="http://id.loc.gov/ontologies/bibframe/">\n\t\t\t\t\t\t    <rdf:type rdf:resource="http://id.loc.gov/ontologies/bibframe/Print"/>\n\t\t\t\t\t\t    <bf:issuance>\n\t\t\t\t\t\t      <bf:Issuance rdf:about="http://id.loc.gov/vocabulary/issuance/mono"/>\n\t\t\t\t\t\t    </bf:issuance>\n\t\t\t\t\t\t    <bf:provisionActivity>\n\t\t\t\t\t\t      <bf:ProvisionActivity>\n\t\t\t\t\t\t        <rdf:type rdf:resource="http://id.loc.gov/ontologies/bibframe/Publication"/>\n\t\t\t\t\t\t        <bf:date rdf:datatype="http://id.loc.gov/datatypes/edtf">1988</bf:date>\n\t\t\t\t\t\t        <bf:place>\n\t\t\t\t\t\t          <bf:Place rdf:about="http://id.loc.gov/vocabulary/countries/nyu"/>\n\t\t\t\t\t\t        </bf:place>\n\t\t\t\t\t\t      </bf:ProvisionActivity>\n\t\t\t\t\t\t    </bf:provisionActivity>\n\t\t\t\t\t\t    <bf:identifiedBy>\n\t\t\t\t\t\t      <bf:Lccn>\n\t\t\t\t\t\t        <rdf:value>87023915 </rdf:value>\n\t\t\t\t\t\t      </bf:Lccn>\n\t\t\t\t\t\t    </bf:identifiedBy>\n\t\t\t\t\t\t    <bf:acquisitionTerms>$24.50</bf:acquisitionTerms>\n\t\t\t\t\t\t    <bf:identifiedBy>\n\t\t\t\t\t\t      <bf:Isbn>\n\t\t\t\t\t\t        <rdf:value>1555460348</rdf:value>\n\t\t\t\t\t\t        <bf:qualifier>alk. paper</bf:qualifier>\n\t\t\t\t\t\t      </bf:Isbn>\n\t\t\t\t\t\t    </bf:identifiedBy>\n\t\t\t\t\t\t    <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">Virginia Woolf\'s To the lighthouse</rdfs:label>\n\t\t\t\t\t\t    <bf:title>\n\t\t\t\t\t\t      <bf:Title>\n\t\t\t\t\t\t        <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">Virginia Woolf\'s To the lighthouse</rdfs:label>\n\t\t\t\t\t\t        <bflc:titleSortKey xmlns:bflc="http://id.loc.gov/ontologies/bflc/">Virginia Woolf\'s To the lighthouse</bflc:titleSortKey>\n\t\t\t\t\t\t        <bf:mainTitle>Virginia Woolf\'s To the lighthouse</bf:mainTitle>\n\t\t\t\t\t\t      </bf:Title>\n\t\t\t\t\t\t    </bf:title>\n\t\t\t\t\t\t    <bf:responsibilityStatement>edited and with an introduction by Harold Bloom</bf:responsibilityStatement>\n\t\t\t\t\t\t    <bf:provisionActivity>\n\t\t\t\t\t\t      <bf:ProvisionActivity>\n\t\t\t\t\t\t        <rdf:type rdf:resource="http://id.loc.gov/ontologies/bibframe/Publication"/>\n\t\t\t\t\t\t        <bf:place>\n\t\t\t\t\t\t          <bf:Place>\n\t\t\t\t\t\t            <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">New York</rdfs:label>\n\t\t\t\t\t\t          </bf:Place>\n\t\t\t\t\t\t        </bf:place>\n\t\t\t\t\t\t        <bf:agent>\n\t\t\t\t\t\t          <bf:Agent rdf:about="https://id.loc.gov/entities/providers/c1d5943c1d6758970d330c5ac19b7955">\n\t\t\t\t\t\t            <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">Chelsea House</rdfs:label>\n\t\t\t\t\t\t          </bf:Agent>\n\t\t\t\t\t\t        </bf:agent>\n\t\t\t\t\t\t        <bf:date>1988</bf:date>\n\t\t\t\t\t\t      </bf:ProvisionActivity>\n\t\t\t\t\t\t    </bf:provisionActivity>\n\t\t\t\t\t\t    <bf:provisionActivityStatement>New York : Chelsea House, 1988.</bf:provisionActivityStatement>\n\t\t\t\t\t\t    <bf:extent>\n\t\t\t\t\t\t      <bf:Extent>\n\t\t\t\t\t\t        <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">vii, 164 p.</rdfs:label>\n\t\t\t\t\t\t      </bf:Extent>\n\t\t\t\t\t\t    </bf:extent>\n\t\t\t\t\t\t    <bf:dimensions>24 cm.</bf:dimensions>\n\t\t\t\t\t\t    <bf:seriesStatement>Modern critical interpretations</bf:seriesStatement>\n\t\t\t\t\t\t    <bf:note>\n\t\t\t\t\t\t      <bf:Note>\n\t\t\t\t\t\t        <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">Includes index.</rdfs:label>\n\t\t\t\t\t\t      </bf:Note>\n\t\t\t\t\t\t    </bf:note>\n\t\t\t\t\t\t    <bf:instanceOf rdf:resource="http://id.loc.gov/resources/works/c001005840"/>\n\t\t\t\t\t\t    <bf:adminMetadata>\n\t\t\t\t\t\t      <bf:AdminMetadata>\n\t\t\t\t\t\t        <bf:generationProcess>\n\t\t\t\t\t\t          <bf:GenerationProcess>\n\t\t\t\t\t\t            <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">DLC marc2bibframe2 v1.6.0-SNAPSHOT</rdfs:label>\n\t\t\t\t\t\t            <bf:generationDate rdf:datatype="http://www.w3.org/2001/XMLSchema#dateTime">2020-06-26T05:25:04-04:00</bf:generationDate>\n\t\t\t\t\t\t          </bf:GenerationProcess>\n\t\t\t\t\t\t        </bf:generationProcess>\n\t\t\t\t\t\t        <bf:status>\n\t\t\t\t\t\t          <bf:Status>\n\t\t\t\t\t\t            <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">increase in encoding level from prepublication</rdfs:label>\n\t\t\t\t\t\t            <bf:code>p</bf:code>\n\t\t\t\t\t\t          </bf:Status>\n\t\t\t\t\t\t        </bf:status>\n\t\t\t\t\t\t        <bflc:encodingLevel xmlns:bflc="http://id.loc.gov/ontologies/bflc/">\n\t\t\t\t\t\t          <bflc:EncodingLevel rdf:about="http://id.loc.gov/vocabulary/menclvl/f">\n\t\t\t\t\t\t            <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">full</rdfs:label>\n\t\t\t\t\t\t          </bflc:EncodingLevel>\n\t\t\t\t\t\t        </bflc:encodingLevel>\n\t\t\t\t\t\t        <bf:descriptionConventions>\n\t\t\t\t\t\t          <bf:DescriptionConventions rdf:about="http://id.loc.gov/vocabulary/descriptionConventions/aacr">\n\t\t\t\t\t\t            <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">aacr</rdfs:label>\n\t\t\t\t\t\t          </bf:DescriptionConventions>\n\t\t\t\t\t\t        </bf:descriptionConventions>\n\t\t\t\t\t\t        <bf:identifiedBy>\n\t\t\t\t\t\t          <bf:Local>\n\t\t\t\t\t\t            <rdf:value>1005840</rdf:value>\n\t\t\t\t\t\t            <bf:assigner>\n\t\t\t\t\t\t              <bf:Agent rdf:about="http://id.loc.gov/vocabulary/organizations/dlc"/>\n\t\t\t\t\t\t            </bf:assigner>\n\t\t\t\t\t\t          </bf:Local>\n\t\t\t\t\t\t        </bf:identifiedBy>\n\t\t\t\t\t\t        <bf:changeDate rdf:datatype="http://www.w3.org/2001/XMLSchema#dateTime">1988-07-25T00:00:00</bf:changeDate>\n\t\t\t\t\t\t        <bf:creationDate rdf:datatype="http://www.w3.org/2001/XMLSchema#date">1987-08-13</bf:creationDate>\n\t\t\t\t\t\t        <bf:source>\n\t\t\t\t\t\t          <bf:Source rdf:about="http://id.loc.gov/vocabulary/organizations/dlc">\n\t\t\t\t\t\t            <rdf:type rdf:resource="http://id.loc.gov/ontologies/bibframe/Agent"/>\n\t\t\t\t\t\t            <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">DLC</rdfs:label>\n\t\t\t\t\t\t          </bf:Source>\n\t\t\t\t\t\t        </bf:source>\n\t\t\t\t\t\t        <bf:source>\n\t\t\t\t\t\t          <bf:Source rdf:about="http://id.loc.gov/vocabulary/organizations/dlc">\n\t\t\t\t\t\t            <rdf:type rdf:resource="http://id.loc.gov/ontologies/bibframe/Agent"/>\n\t\t\t\t\t\t            <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">DLC</rdfs:label>\n\t\t\t\t\t\t          </bf:Source>\n\t\t\t\t\t\t        </bf:source>\n\t\t\t\t\t\t        <bf:descriptionModifier>\n\t\t\t\t\t\t          <bf:Agent rdf:about="http://id.loc.gov/vocabulary/organizations/dlc">\n\t\t\t\t\t\t            <rdfs:label xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">DLC</rdfs:label>\n\t\t\t\t\t\t          </bf:Agent>\n\t\t\t\t\t\t        </bf:descriptionModifier>\n\t\t\t\t\t\t      </bf:AdminMetadata>\n\t\t\t\t\t\t    </bf:adminMetadata>\n\t\t\t\t\t\t  </bf:Instance>\n\t\t\t\t\t\t</rdf:RDF>',testXmlWork:""},Vt=Pt,Et={name:"TestParseId",components:{VueJsonPretty:xt.a},data:function(){return{useRtSelected:"lc:RT:bf2:Monograph:Work",useRtInstanceSelected:"lc:RT:bf2:Monograph:Instance",searchTimeout:null,transformResults:null,transformResultsDisplay:null,instanceUri:null}},computed:Object(h["b"])({profilesLoaded:"profilesLoaded",activeProfile:"activeProfile",idWorkSearchResults:"idWorkSearchResults",rtLookup:"rtLookup",profiles:"profiles",idXML:"idXML",prettyIDXML:function(t){return null===t.idXML||""===t.idXML?"":mt["a"].prettifyXml(t.idXML)},rtLookupWorks:function(t){for(var e=[],r=0,o=Object.keys(t.rtLookup);r<o.length;r++){var a=o[r];a.endsWith(":Work")&&e.push(a)}return e},rtLookupInstances:function(t){for(var e=[],r=0,o=Object.keys(t.rtLookup);r<o.length;r++){var a=o[r];a.endsWith(":Instance")&&e.push(a)}return e}}),methods:{prettifyXml:mt["a"].prettifyXml,search:function(t){var e=this;window.clearTimeout(this.searchTimeout),this.searchTimeout=window.setTimeout((function(){e.$store.dispatch("fetchIdWorkSearch",{self:e,searchValue:t.target.value}).then((function(){}))}),500)},rtChange:function(t){this.useRtSelected=t.target.value},rtInstanceChange:function(t){this.useRtInstanceSelected=t.target.value},instanceUriChange:function(t){return t},loadInstance:function(){Vt.parse(Vt.testXmlInstance),console.log(Vt);var t=null;for(var e in this.profiles)this.profiles[e].rtOrder.indexOf(this.useRtInstanceSelected)>-1&&(t=this.profiles[e]);this.transformResults=Vt.transform(t);var r=this.transformResults.rtOrder.filter((function(t){return t.endsWith(":Instance")}))[0];this.transformResultsDisplay=this.transformResults.rt[r]},load:function(t,e){var r=this;this.$store.dispatch("fetchIdXML",{self:this,url:t}).then((function(){S.parse(r.idXML);var t=null;for(var o in r.profiles)r.profiles[o].rtOrder.indexOf(r.useRtSelected)>-1&&(t=r.profiles[o]);r.transformResults=S.transform(t);var a=r.transformResults.rtOrder.filter((function(t){return t.endsWith(":Work")}))[0];r.transformResultsDisplay=r.transformResults.rt[a],e&&r.$store.dispatch("setActiveProfile",{self:r,profile:r.transformResults}).then((function(){r.$router.push({path:"edit"})}))}))}},created:function(){var t=this;this.$store.dispatch("fetchProfiles",{self:this}).then((function(){S.parse(),t.$store.dispatch("fetchIdWorkSearch",{self:t,searchValue:"Woolf, Virginia, 1882-1941. To the lighthouse"}).then((function(){}))}))}},Nt=Et,Mt=(r("9440"),Object(n["a"])(Nt,Dt,Ot,!1,null,null,null)),jt=Mt.exports;o["a"].use(u["a"]);var At=[{path:"/",name:"Home",component:ut},{path:"/TestParseId",name:"TestParseId",component:_t},{path:"/TestParseBfdb",name:"TestParseBfdb",component:jt},{path:"/edit",name:"Edit",component:kt},{path:"/settings/:action",name:"Home",component:ut},{path:"/:action",name:"Home",component:ut}],Ut=new u["a"]({mode:"history",base:"/editor/",routes:At}),Ft=Ut,Ht=r("dd89"),Bt=r("adac");r("845f");o["a"].config.productionTip=!1;new o["a"]({router:Ft,store:T["a"],render:function(t){return t(c)}}).$mount("#app");Ht["a"].buildProfiles().then((function(t){return Bt["a"].fetchAllOntology(t)})),null===localStorage.getItem("bfeDiacritics")&&localStorage.setItem("bfeDiacritics",JSON.stringify([{letter:"",trigger:"c",keycode:99,desc:"cedilla"},{letter:"",trigger:"e",keycode:101,desc:"acute e"},{letter:"",trigger:"1",keycode:49,desc:"circumflex a"},{letter:"",trigger:"2",keycode:50,desc:"circumflex e"},{letter:"",trigger:"3",keycode:51,desc:"circumflex i"},{letter:"",trigger:"4",keycode:52,desc:"circumflex o"},{letter:"",trigger:"5",keycode:53,desc:"circumflex u"},{letter:"",trigger:"6",keycode:54,desc:"grave accent a"},{letter:"",trigger:"7",keycode:55,desc:"grave accent e"},{letter:"",trigger:"8",keycode:56,desc:"grave accent i"},{letter:"",trigger:"9",keycode:57,desc:"grave accent o"},{letter:"",trigger:"0",keycode:48,desc:"grave accent u"},{letter:"",trigger:"z",keycode:122,desc:"trema e"},{letter:"",trigger:"x",keycode:120,desc:"trema i"},{letter:"",trigger:"v",keycode:118,desc:"trema u"}]))},"5cd6":function(t,e,r){},6653:function(t,e,r){},"6b29":function(t,e,r){"use strict";var o=r("2382"),a=r.n(o);a.a},"6e51":function(t,e,r){"use strict";var o=r("6653"),a=r.n(o);a.a},"718b":function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"main-component-container"},[0==t.nested?r("div",{staticStyle:{display:"flex",position:"relative"},attrs:{id:t.profileName+"|"+t.profileCompoent}},[r("div",{staticStyle:{flex:"4"}},["literal"==t.structure.type?r("EditLiteralComponent",{attrs:{nested:t.nested,structure:t.structure,profileName:t.profileName,profileCompoent:t.profileCompoent,parentStructureObj:t.parentStructureObj,parentStructure:t.parentStructure,activeTemplate:t.activeTemplate}}):"simple"==t.returnLookupType(t.structure)?r("EditSimpleLookupComponent",{attrs:{structure:t.structure,parentStructureObj:t.parentStructureObj,parentStructure:t.parentStructure,nested:t.nested,profileName:t.profileName,profileCompoent:t.profileCompoent,activeTemplate:t.activeTemplate}}):"complex"==t.returnLookupType(t.structure)?r("EditComplexLookupComponent",{attrs:{structure:t.structure,parentStructureObj:t.parentStructureObj,parentStructure:t.parentStructure,nested:t.nested,profileName:t.profileName,profileCompoent:t.profileCompoent,activeTemplate:t.activeTemplate}}):t.structure.valueConstraint.valueTemplateRefs.length>0?r("EditTemplateRefComponent",{attrs:{structure:t.structure,parentStructureObj:t.parentStructureObj,parentStructure:t.parentStructure,nested:t.nested,profileName:t.profileName,profileCompoent:t.profileCompoent,activeTemplate:t.activeTemplate}}):t._e()],1),r("div",{staticClass:"property-button-container"},[r("button",{staticClass:"property-button property-duplicate simptip-position-left",attrs:{tabindex:"-1","data-tooltip":t.labels.propertyDuplicateTip},on:{click:t.duplicateProperty}},[t._v(t._s(t.labels.propertyDuplicateSymbol))]),r("button",{staticClass:"property-button property-remove",attrs:{tabindex:"-1"},on:{click:t.removeProperty}},[t._v(t._s(t.labels.propertyRemoveSymbol))])]),r("div",{staticClass:"debug-toggle",staticStyle:{position:"relative",visibility:"hidden",color:"red",left:"-26%","font-size":"0.85em","font-family":"monospace",top:"8px",cursor:"pointer",height:"0.85em"},on:{click:t.toggleDebug}},[t._v("debug")])]):r("div",["literal"==t.structure.type?r("EditLiteralComponent",{attrs:{activeTemplate:t.activeTemplate,nested:t.nested,structure:t.structure,profileName:t.profileName,profileCompoent:t.profileCompoent,parentStructureObj:t.parentStructureObj,parentStructure:t.parentStructure}}):"simple"==t.returnLookupType(t.structure)?r("EditSimpleLookupComponent",{attrs:{activeTemplate:t.activeTemplate,structure:t.structure,parentStructureObj:t.parentStructureObj,parentStructure:t.parentStructure,nested:t.nested,profileName:t.profileName,profileCompoent:t.profileCompoent}}):"complex"==t.returnLookupType(t.structure)?r("EditComplexLookupComponent",{attrs:{activeTemplate:t.activeTemplate,structure:t.structure,parentStructureObj:t.parentStructureObj,parentStructure:t.parentStructure,nested:t.nested,profileName:t.profileName,profileCompoent:t.profileCompoent}}):t.structure.valueConstraint.valueTemplateRefs.length>0?r("EditTemplateRefComponent",{attrs:{activeTemplate:t.activeTemplate,structure:t.structure,parentStructureObj:t.parentStructureObj,parentStructure:t.parentStructure,profileName:t.profileName,profileCompoent:t.profileCompoent,nested:t.nested}}):t._e()],1),0==t.nested&&t.displayDebug?r("div",{staticStyle:{"font-family":"monospace",width:"69%","background-color":"whitesmoke","margin-left":"5%"}},[t.structure.xmlSource?r("code",[r("pre",[t._v(t._s(t.prettifyXml(t.structure.xmlSource)))])]):t._e(),r("vue-json-pretty",{attrs:{path:"res",highlightMouseoverNode:!0,collapsedOnClickBrackets:!0,data:t.structure}})],1):t._e()])},a=[],i=(r("4160"),r("159b"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return 1!=t.nested?r("div",{staticClass:"component-container"},[r("Keypress",{attrs:{"key-event":"keydown","multiple-keys":[{keyCode:68,modifiers:["ctrlKey","shiftKey"],preventDefault:!1}]},on:{success:t.openDiacriticSelect}}),r("div",{staticClass:"component-container-title"},[t._v(t._s(t.structure.propertyLabel))]),r("div",{staticClass:"component-container-input-container"},[r("div",{class:"component-container-fake-input no-upper-right-border-radius no-lower-right-border-radius no-upper-border"},[r("div",{staticStyle:{display:"flex"}},[r("div",{staticStyle:{flex:"1"}},[r("form",{attrs:{autocomplete:"off"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],staticClass:"input-single selectable-input",attrs:{bfeType:"EditLiteralComponent-unnested",id:t.assignedId,name:t.assignedId,autocomplete:"off",type:"text"},domProps:{value:t.inputValue},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.submitField(e))},t.nav],focus:t.focused,keyup:t.change,input:function(e){e.target.composing||(t.inputValue=e.target.value)}}})])]),r("button",{staticClass:"temp-icon-keyboard fake-real-button simptip-position-top",attrs:{tabindex:"-1","data-tooltip":"Diacritics [CTRL-SHIFT-D]"},on:{click:t.openDiacriticSelect}})])])]),1==t.showDiacritics?r("div",{staticClass:"diacritic-modal"},[t._m(0),r("hr",{staticStyle:{margin:"2px"}}),r("div",{staticClass:"diacritic-list-holder"},[r("table",t._l(t.diacriticData,(function(e,o){return r("tr",{key:o,ref:"diacriticTable",refInFor:!0,attrs:{"data-id":o},on:{click:t.diacriticSelect}},[r("td",[r("span",{staticClass:"diacritic-modal-list-diacritic"},[t._v(t._s(e.letter))]),r("span",{staticStyle:{"padding-left":"2em"}},[t._v(t._s(e.desc))])]),r("td",[t._v(t._s(e.trigger))])])})),0)])]):t._e()],1):r("div",[r("Keypress",{attrs:{"key-event":"keydown","multiple-keys":[{keyCode:68,modifiers:["ctrlKey","shiftKey"],preventDefault:!0}]},on:{success:t.openDiacriticSelect}}),r("div",{class:["component-container-fake-input no-upper-right-border-radius no-lower-right-border-radius no-upper-border",{"component-container-fake-input-note":t.isNoteField(t.structure.propertyLabel)}]},[r("div",{staticStyle:{display:"flex"}},[r("div",{staticStyle:{flex:"1"}},[r("form",{attrs:{autocomplete:"off"}},[r("div",{staticClass:"component-nested-container-title"},[t._v(t._s(t.structure.propertyLabel))]),t.isNoteField(t.structure.propertyLabel)?t._e():r("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],staticClass:"input-nested selectable-input",attrs:{bfeType:"EditLiteralComponent-nested",id:t.assignedId,name:t.assignedId,autocomplete:"off",type:"text"},domProps:{value:t.inputValue},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.submitField(e))},t.nav],focus:t.focused,keyup:t.change,input:function(e){e.target.composing||(t.inputValue=e.target.value)}}}),t.isNoteField(t.structure.propertyLabel)?r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],staticClass:"input-nested selectable-input",attrs:{bfeType:"EditLiteralComponent-nested",id:t.assignedId,name:t.assignedId,autocomplete:"off",type:"text"},domProps:{value:t.inputValue},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.submitField(e))},t.nav],focus:t.focused,keyup:t.change,input:function(e){e.target.composing||(t.inputValue=e.target.value)}}}):t._e()])]),r("button",{staticClass:"temp-icon-keyboard fake-real-button simptip-position-top",attrs:{tabindex:"-1","data-tooltip":"Diacritics [CTRL-SHIFT-D]"},on:{click:t.openDiacriticSelect}})])]),1==t.showDiacritics?r("div",{staticClass:"diacritic-modal"},[t._m(1),r("hr",{staticStyle:{margin:"2px"}}),r("div",{staticClass:"diacritic-list-holder"},[r("table",t._l(t.diacriticData,(function(e,o){return r("tr",{key:o,ref:"diacriticTable",refInFor:!0,attrs:{"data-id":o},on:{click:t.diacriticSelect}},[r("td",[r("span",{staticClass:"diacritic-modal-list-diacritic"},[t._v(t._s(e.letter))]),r("span",{staticStyle:{"padding-left":"2em"}},[t._v(t._s(e.desc))])]),r("td",[t._v(t._s(e.trigger))])])})),0)])]):t._e()],1)}),n=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"diacritic-modal-script-list"},[r("li",{staticStyle:{"font-weight":"bold"}},[t._v("Custom")]),r("li",{staticStyle:{color:"lightgrey"}},[t._v("Other")]),r("li",{staticStyle:{color:"lightgrey"}},[t._v("Langs")]),r("li",{staticStyle:{color:"lightgrey"}},[t._v("Here")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"diacritic-modal-script-list"},[r("li",{staticStyle:{"font-weight":"bold"}},[t._v("Custom")]),r("li",{staticStyle:{color:"lightgrey"}},[t._v("Other")]),r("li",{staticStyle:{color:"lightgrey"}},[t._v("Langs")]),r("li",{staticStyle:{color:"lightgrey"}},[t._v("Here")])])}],s=(r("d3b7"),r("498a"),r("b85c")),l=r("2f62"),c=r("8ad1"),u={name:"EditLiteralComponent",components:{Keypress:function(){return r.e("chunk-6ceba5e5").then(r.bind(null,"365a"))}},props:{structure:Object,parentStructure:Array,profileCompoent:String,profileName:String,activeTemplate:Object,nested:Boolean},methods:{focused:function(t){this.$store.dispatch("setActiveInput",{self:this,id:t.target.id,profileCompoent:this.profileCompoent,profileName:this.profileName}).then((function(){c["a"].focusSidebars()}))},submitField:c["a"].globalMoveDown,isNoteField:function(t){return"Note Text"==t||("Note"==t||"Contents note"==t)},openDiacriticSelect:function(t){var e=this;if(this.assignedId!=this.activeInput)return!1;this.$store.dispatch("disableMacroNav"),this.showDiacritics=!0,this.$nextTick((function(){e.$refs.diacriticTable[e.diacriticDataNav].style.backgroundColor="#dfe5f1"})),t&&t.target&&t.target.localName&&"button"==t.target.localName&&t.target.parentNode.querySelector("input").focus()},diacriticSelect:function(t){var e=this,r=t.target.parentNode.dataset.id?t.target.parentNode.dataset.id:t.target.parentNode.parentNode.dataset.id;this.inputValue?this.inputValue=this.inputValue+this.diacriticData[r].letter:this.inputValue=this.diacriticData[r].letter,this.showDiacritics=!1,this.$store.dispatch("enableMacroNav"),setTimeout((function(){document.getElementById(e.assignedId).focus()}),0)},nav:function(t){if(t&&t.key&&1==this.showDiacritics){if("Escape"==t.key)this.showDiacritics=!1,this.$store.dispatch("enableMacroNav");else if("ArrowDown"==t.key||"ArrowUp"==t.key)"ArrowDown"==t.key&&this.diacriticDataNav<this.$refs.diacriticTable.length-1?this.diacriticDataNav++:"ArrowUp"==t.key&&this.diacriticDataNav>0&&(this.diacriticDataNav=this.diacriticDataNav-1),this.$refs.diacriticTable.forEach((function(t){t.style.backgroundColor="transparent"})),this.$refs.diacriticTable[this.diacriticDataNav].style.backgroundColor="#dfe5f1",this.$refs.diacriticTable[this.diacriticDataNav].scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"});else if("Enter"==t.key){var e=this.diacriticData[this.diacriticDataNav].letter;this.inputValue?this.inputValue=this.inputValue+e:this.inputValue=e,this.showDiacritics=!1,this.$store.dispatch("enableMacroNav")}else{var r,o=Object(s["a"])(this.diacriticData);try{for(o.s();!(r=o.n()).done;){var a=r.value;t.key==a.trigger&&(this.inputValue?this.inputValue=this.inputValue+a.letter:this.inputValue=a.letter,this.showDiacritics=!1,this.$store.dispatch("enableMacroNav"))}}catch(i){o.e(i)}finally{o.f()}}return t.preventDefault(),!1}},change:function(t){return t.target&&t.target.localName&&"textarea"==t.target.localName&&(t.target.style.height="",t.target.style.height=t.target.scrollHeight+"px"),null!==this.inputValue&&(""!==this.inputValue.trim()&&void this.$store.dispatch("addValueLiteral",{self:this,profileComponet:this.profileCompoent,structure:this.structure,template:this.activeTemplate,value:this.inputValue}).then((function(){})))}},computed:Object(l["b"])({activeInput:"activeInput",activeProfile:"activeProfile",assignedId:function(){return c["a"].assignID(this.structure,this.parentStructure)}}),data:function(){return{inputValue:null,showDiacritics:!1,diacriticData:[],diacriticDataNav:0}},created:function(){var t=this.activeProfile.rt[this.profileName].pt[this.profileCompoent];t.userValue[this.structure.propertyURI]&&(this.inputValue=t.userValue[this.structure.propertyURI]);var e=localStorage.getItem("bfeDiacritics");e&&(this.diacriticData=JSON.parse(e))}},d=u,p=(r("b980"),r("2877")),f=Object(p["a"])(d,i,n,!1,null,"19334486",null),m=f.exports,h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return 1!=t.nested?r("div",{staticClass:"component-container"},[r("div",{staticClass:"component-container-title"},[t._v(t._s(t.structure.propertyLabel))]),r("div",{staticClass:"component-container-input-container"},[r("div",{staticClass:"component-container-fake-input no-upper-right-border-radius no-lower-right-border-radius no-upper-border temp-icon-search"},[r("form",{attrs:{autocomplete:"off"},on:{submit:function(t){t.preventDefault()}}},[r("div",{staticStyle:{display:"flex",height:"100%"}},[t._l(t.activeLookupValue,(function(e,o){return r("div",{key:o,staticClass:"selected-value-container"},[r("span",{staticStyle:{"padding-right":"0.3em","font-weight":"bold"}},[t._v(t._s(e.literal))]),r("span",{staticStyle:{"border-left":"solid 1px black",padding:"0 0.5em","font-size":"1em"}},[t._v("x")])])})),r("input",{ref:"lookupInput",staticClass:"input-single selectable-input",attrs:{bfeType:"EditSimpleLookupComponent-unnested",id:t.assignedId,autocomplete:"off",type:"text"},domProps:{value:t.activeValue},on:{blur:t.blur,focus:function(e){return t.autoFocus(e)},keydown:function(e){return t.keyDownEvent(e)},keyup:function(e){return t.keyUpEvent(e)}}})],2)])]),1==t.displayAutocomplete?r("div",{staticClass:"autocomplete-container"},[r("ul",t._l(t.displayList,(function(e,o){return r("li",{key:o,attrs:{"data-idx":o},on:{click:t.clickAdd}},[e==t.activeSelect?r("span",{staticClass:"selected",attrs:{"data-idx":o}},[t._v(t._s(e))]):r("span",{attrs:{"data-idx":o}},[t._v(t._s(e))])])})),0)]):t._e()])]):r("div",{staticStyle:{position:"relative"}},[r("div",{class:["component-container-fake-input no-upper-right-border-radius no-lower-right-border-radius no-upper-border temp-icon-search"]},[r("form",{attrs:{autocomplete:"off"},on:{submit:function(t){t.preventDefault()}}},[r("div",{},[r("div",{staticClass:"component-nested-container-title component-nested-container-title-simple-lookup"},[t._v(t._s(t.structure.propertyLabel))]),r("div",{staticStyle:{display:"flex"}},[t._l(t.activeLookupValue,(function(e,o){return r("div",{key:o,staticClass:"selected-value-container-nested"},[r("span",{staticStyle:{"padding-right":"0.3em","font-weight":"bold"}},[t._v(t._s(e.literal))]),r("span",{staticStyle:{"border-left":"solid 1px black",padding:"0 0.5em","font-size":"1em",cursor:"pointer"},on:{click:t.removeValue}},[t._v("x")])])})),r("input",{ref:"lookupInput",staticClass:"input-nested selectable-input",attrs:{bfeType:"EditSimpleLookupComponent-nested",id:t.assignedId,autocomplete:"off",type:"text"},domProps:{value:t.activeValue},on:{blur:t.blur,focus:function(e){return t.autoFocus(e)},keydown:function(e){return t.keyDownEvent(e)},keyup:function(e){return t.keyUpEvent(e)}}})],2)])])]),1==t.displayAutocomplete?r("div",{staticClass:"autocomplete-container"},[r("ul",t._l(t.displayList,(function(e,o){return r("li",{key:o,attrs:{"data-idx":o},on:{click:t.clickAdd}},[e==t.activeSelect?r("span",{staticClass:"selected",attrs:{"data-idx":o}},[t._v(t._s(e))]):r("span",{attrs:{"data-idx":o}},[t._v(t._s(e))])])})),0)]):t._e()])},v=[],b=(r("4de4"),r("c975"),r("fb6a"),r("a434"),r("b64b"),r("ac1f"),r("1276"),r("2ca0"),r("ddb0"),{name:"EditSimpleLookupComponent",props:{structure:Object,parentStructure:Array,nested:Boolean,profileName:String,activeTemplate:Object,profileCompoent:String},data:function(){return{displayAutocomplete:!1,uri:this.structure.valueConstraint.useValuesFrom[0],displayList:[],activeFilter:"",activeSelect:"",activeValue:"",doubleDelete:!1,activeLookupValue:[]}},created:function(){this.structure.valueConstraint.defaults.length>0&&(this.activeLookupValue.push({}),this.activeLookupValue[0].literal=this.structure.valueConstraint.defaults[0].defaultLiteral,this.activeLookupValue[0].URI=this.structure.valueConstraint.defaults[0].defaultURI);var t=this.activeProfile.rt[this.profileName].pt[this.profileCompoent],e=t.userValue[t.propertyURI];if(t.userValue[this.structure.propertyURI]?e=t.userValue[this.structure.propertyURI]:t.userValue["@type"]&&t.userValue[t.userValue["@type"]]&&(e=t.userValue[this.structure.propertyURI],console.log("okay",e)),t.userValue&&e){var r={};e.literal&&(r.literal=e.literal),e.URI&&(r.URI=e.URI),!r.literal&&r.URI&&(r.literal=r.URI.split("/").slice(-1)[0]+" (label missing)"),this.activeLookupValue.push(r)}},computed:Object(l["b"])({lookupLibrary:"lookupLibrary",activeInput:"activeInput",activeProfile:"activeProfile",assignedId:function(){return c["a"].assignID(this.structure,this.parentStructure)},lookupVocab:function(t){return t.lookupLibrary[this.structure.valueConstraint.useValuesFrom[0]]}}),methods:{removeValue:function(){this.activeLookupValue.length>1?this.activeLookupValue.splice(-1,1):this.activeLookupValue=[]},filter:function(){var t=this;this.displayList=[],this.activeSelect="",Object.keys(this.lookupLibrary[this.uri]).forEach((function(e){if("metadata"===e)return!1;""===t.activeFilter.trim()?t.lookupLibrary[t.uri][e].forEach((function(e){-1==t.displayList.indexOf(e)&&t.displayList.push(e)})):t.lookupLibrary[t.uri][e].forEach((function(e){e.toLowerCase().startsWith(t.activeFilter.toLowerCase())&&-1==t.displayList.indexOf(e)&&t.displayList.push(e)}))})),this.displayList.length>0&&this.activeFilter.length>0&&(this.activeSelect=this.displayList[0],this.displayAutocomplete=!0),0==this.displayList.length&&(this.displayList.push("No Match"),this.displayAutocomplete=!0),0==this.activeFilter.length&&(this.displayAutocomplete=!0),this.displayAutocomplete?this.$store.dispatch("disableMacroNav"):this.$store.dispatch("enableMacroNav")},autoFocus:function(t){this.$store.dispatch("setActiveInput",{self:this,id:t.target.id,profileCompoent:this.profileCompoent,profileName:this.profileName}).then((function(){c["a"].focusSidebars()})),this.activeFilter=t.target.value,this.$store.dispatch("fetchLookupValues",{self:this,url:this.structure.valueConstraint.useValuesFrom[0]}).then((function(){}))},keyUpEvent:function(t){t&&t.key&&"ArrowUp"!==t.key&&"ArrowDown"!==t.key&&"Escape"!==t.key&&"Backspace"!==t.key&&"Enter"!==t.key&&"PageUp"!==t.key&&"PageDown"!==t.key&&(this.activeValue=t.target.value,this.doubleDelete=!1,this.activeValue=t.target.value,this.activeFilter=t.target.value,this.displayAutocomplete=!0,this.$store.dispatch("disableMacroNav"),this.filter())},keyDownEvent:function(t){var e=this;if(this.activeValue=t.target.value,t&&t.key&&1==this.displayAutocomplete&&("ArrowUp"===t.key||"ArrowDown"===t.key)){if(this.doubleDelete=!1,this.displayList.length<=1)return!1;if(this.displayAutocomplete||(this.displayAutocomplete=!0),this.activeFilter="",this.activeValue="",""==this.activeSelect.trim()&&this.displayList.length>0)this.activeSelect=this.displayList[0],this.activeValue=this.displayList[0];else for(var r=0;r<this.displayList.length;r++)if(this.displayList[r]===this.activeSelect){if("ArrowDown"===t.key&&r+1<this.displayList.length){this.activeSelect=this.displayList[r+1],this.activeValue=this.displayList[r+1];break}if("ArrowUp"===t.key&&r-1>=0){this.activeSelect=this.displayList[r-1],this.activeValue=this.displayList[r-1];break}}return!1}if(t&&t.key&&"Escape"===t.key)this.doubleDelete=!1,this.activeFilter="",this.activeValue="",this.displayAutocomplete=!1;else if(t&&t.key&&"Backspace"===t.key){if(!this.doubleDelete&&""===this.activeValue)return this.doubleDelete=!0,!1;""==this.activeValue&&this.doubleDelete?(this.doubleDelete=!1,this.activeLookupValue.length>1?this.activeLookupValue.splice(-1,1):this.activeLookupValue=[],this.doubleDelete=!1,this.displayAutocomplete=!1):""==this.activeValue&&this.activeValue}else if(t&&t.key&&"Enter"===t.key){this.doubleDelete=!1;var o=this.lookupLibrary[this.uri].metadata.values;Object.keys(o).forEach((function(t){var r=o[t].displayLabel.indexOf(e.activeSelect);r>-1&&(e.activeLookupValue.push({literal:o[t].label[r],URI:o[t].uri}),e.activeFilter="",e.activeValue="",e.activeSelect="",e.displayAutocomplete=!1,e.$store.dispatch("addValueLiteral",{self:e,profileComponet:e.profileCompoent,structure:e.structure,template:e.activeTemplate,value:e.activeLookupValue}).then((function(){})))})),""==t.target.value&&this.submitField(),t.preventDefault()}else""==t.target.value&&(this.activeFilter="",this.activeValue="",this.activeSelect="",this.displayAutocomplete=!1);this.displayAutocomplete?this.$store.dispatch("disableMacroNav"):this.$store.dispatch("enableMacroNav")},blur:function(){var t=this;this.$store.dispatch("enableMacroNav"),setTimeout((function(){t.displayAutocomplete=!1,t.$store.dispatch("enableMacroNav")}),500)},clickAdd:function(t){var e=this;this.displayAutocomplete=!1;var r=this.displayList[t.target.dataset.idx],o=this.lookupLibrary[this.uri].metadata.values;Object.keys(o).forEach((function(t){var a=o[t].displayLabel.indexOf(r);a>-1&&(e.activeLookupValue.push({literal:o[t].label[a],URI:o[t].uri}),e.activeFilter="",e.activeValue="",e.activeSelect="",e.displayAutocomplete=!1,e.$store.dispatch("addValueLiteral",{self:e,profileComponet:e.profileCompoent,structure:e.structure,template:e.activeTemplate,value:e.activeLookupValue}).then((function(){})),e.$store.dispatch("enableMacroNav"))})),this.$refs.lookupInput.focus()},submitField:c["a"].globalMoveDown}}),g=b,y=(r("0b60"),Object(p["a"])(g,h,v,!1,null,"abebc5b0",null)),w=y.exports,k=function(){var t=this,e=t.$createElement,r=t._self._c||e;return 1!=t.nested?r("div",{staticClass:"component-container"},[r("div",{staticClass:"component-container-title"},[t._v(t._s(t.structure.propertyLabel))]),r("div",{staticClass:"component-container-input-container"},[t.structure.valueConstraint.valueTemplateRefs.length>1?[r("div",{staticClass:"component-container-fake-input no-upper-right-border-radius no-lower-right-border-radius no-upper-border",staticStyle:{flex:"4"}},[r("div",{staticStyle:{display:"flex"}},[r("div",{staticStyle:{flex:"1"}},[r("form",{attrs:{autocomplete:"off"}},[r("input",{staticClass:"selectable-input",staticStyle:{width:"95%",border:"none",height:"90%","font-size":"1.5em",padding:"0.1em",background:"none"},attrs:{bfeType:"EditTemplateRefComponent-nested",id:t.assignedId,autocomplete:"off",type:"text"},domProps:{value:t.multiTemplateSelect},on:{focus:t.focused,keydown:function(e){return t.multiTemplateSelectKeydown(e)}}})])]),r("button",{staticClass:"temp-icon-switch fake-real-button simptip-position-top",attrs:{tabindex:"-1","data-tooltip":t.labels.refComponentSwitchButton},on:{click:function(e){return t.multiTemplateSelectKeydown(e,!0)}}})])])]:t._e(),null!=t.activeTemplate&&t.activeTemplate.propertyTemplates.length>0?r("div",t._l(t.activeTemplate.propertyTemplates,(function(e,o){return r("EditMainComponent",{key:o,attrs:{activeTemplate:t.activeTemplate,structure:t.activeTemplate.propertyTemplates[o],parentStructureObj:t.structure,parentStructure:["nothing"],profileCompoent:t.profileCompoent,profileName:t.profileName,nested:!0}})})),1):r("div",[r("span",[t._v("Missing resource template "+t._s(t.structure.valueConstraint.valueTemplateRefs))]),t._v(" "+t._s(t.activeTemplate)+" ")])],2)]):r("div",{staticClass:"yehh"},[t.structure.valueConstraint.valueTemplateRefs.length>1?[r("div",{staticClass:"component-container-fake-input no-upper-right-border-radius no-lower-right-border-radius no-upper-border",staticStyle:{flex:"4"}},[r("div",{staticStyle:{display:"flex"}},[r("div",{staticStyle:{flex:"1"}},[r("form",{attrs:{autocomplete:"off"}},[r("input",{staticClass:"selectable-input",staticStyle:{width:"95%",border:"none",height:"90%","font-size":"1.5em",padding:"0.1em",background:"none"},attrs:{bfeType:"EditTemplateRefComponent-unnested",id:t.assignedId,autocomplete:"off",type:"text"},domProps:{value:t.multiTemplateSelect},on:{focus:t.focused,keydown:function(e){return t.multiTemplateSelectKeydown(e)}}})])]),r("button",{staticClass:"temp-icon-switch fake-real-button simptip-position-top",attrs:{tabindex:"-1","data-tooltip":t.labels.refComponentSwitchButton},on:{click:function(e){return t.multiTemplateSelectKeydown(e,!0)}}})])])]:t._e(),null!=t.activeTemplate&&t.activeTemplate.propertyTemplates.length>0?t._l(t.activeTemplate.propertyTemplates,(function(e,o){return r("EditMainComponent",{key:o,attrs:{position:o,activeTemplate:Object.assign({nested:!0},t.activeTemplate),structure:t.activeTemplate.propertyTemplates[o],profileCompoent:t.profileCompoent,profileName:t.profileName,parentStructureObj:t.structure,parentStructure:["nothing"],nested:!0}})})):t._e()],2)},C=[],L=r("1bca"),T={name:"EditTemplateRefComponent",components:{EditMainComponent:function(){return Promise.resolve().then(r.bind(null,"718b"))}},props:{structure:Object,parentStructure:Array,profileCompoent:String,profileName:String,nested:Boolean},data:function(){return{multiTemplateSelect:"",multiTemplateSelectURI:"",multiTemplateSelectOptions:[],activeTemplate:null,propertyTemplatesOrderLookup:{},propertyTemplatesOrderTypeLookup:{},labels:L["a"]}},computed:Object(l["b"])({rtLookup:"rtLookup",activeInput:"activeInput",activeProfile:"activeProfile",assignedId:function(){return c["a"].assignID(this.structure,this.parentStructure)}}),created:function(){var t=this,e=this.structure.valueConstraint.valueTemplateRefs[0],r=!1;this.structure.userValue["@type"]&&this.structure.valueConstraint.valueTemplateRefs.forEach((function(o){if(r)return!1;t.rtLookup[o].resourceURI===t.structure.userValue["@type"]&&(e=o,r=!0)})),this.parentStructure&&-1==this.parentStructure.indexOf(e)?this.rtLookup[e]&&(this.multiTemplateSelect=this.rtLookup[e].resourceLabel,this.multiTemplateSelectURI=e,this.activeTemplate=this.rtLookup[e],this.buildPropertyTemplatesOrderLookup()):"lc:RT:bf2:Monograph:Dissertation"==e&&(this.multiTemplateSelect=this.rtLookup[e].resourceLabel,this.multiTemplateSelectURI=e,this.activeTemplate=this.rtLookup[e],this.buildPropertyTemplatesOrderLookup())},methods:{buildPropertyTemplatesOrderLookup:function(){var t=this;if(this.activeTemplate.propertyTemplates.forEach((function(e,r){t.propertyTemplatesOrderLookup[e.propertyURI+e.propertyLabel]=r})),1==this.activeTemplate.propertyTemplates.length){var e=this.activeTemplate.propertyTemplates[0].propertyURI+this.activeTemplate.propertyTemplates[0].propertyLabel;this.propertyTemplatesOrderTypeLookup[e]="solo"}else if(2==this.activeTemplate.propertyTemplates.length){var r=this.activeTemplate.propertyTemplates[0].propertyURI+this.activeTemplate.propertyTemplates[0].propertyLabel;this.propertyTemplatesOrderTypeLookup[r]="start",r=this.activeTemplate.propertyTemplates[1].propertyURI+this.activeTemplate.propertyTemplates[1].propertyLabel,this.propertyTemplatesOrderTypeLookup[r]="end"}else this.activeTemplate.propertyTemplates.length>2&&this.activeTemplate.propertyTemplates.forEach((function(e,r){0==r?t.propertyTemplatesOrderTypeLookup[e.propertyURI+e.propertyLabel]="start":r==t.activeTemplate.propertyTemplates.length-1?t.propertyTemplatesOrderTypeLookup[e.propertyURI+e.propertyLabel]="end":t.propertyTemplatesOrderTypeLookup[e.propertyURI+e.propertyLabel]="middle"}))},multiTemplateSelectKeydown:function(t,e){if(!0===e&&(t={key:"ArrowRight",target:t.target.parentNode.querySelector("input")},t.target.parentNode.querySelector("input").focus()),"ArrowRight"===t.key){var r=this.structure.valueConstraint.valueTemplateRefs.indexOf(this.multiTemplateSelectURI);r+1>this.structure.valueConstraint.valueTemplateRefs.length-1&&(r=-1);var o=this.structure.valueConstraint.valueTemplateRefs[r+1];this.multiTemplateSelect=this.rtLookup[o].resourceLabel,this.multiTemplateSelectURI=o,this.activeTemplate=this.rtLookup[o],this.buildPropertyTemplatesOrderLookup(),this.focused(t),c["a"].renderBorders(!0)}else{if("ArrowLeft"!==t.key)return"Tab"===t.key||(t.preventDefault(),!1);var a=this.structure.valueConstraint.valueTemplateRefs.indexOf(this.multiTemplateSelectURI);0==a&&(a=this.structure.valueConstraint.valueTemplateRefs.length);var i=this.structure.valueConstraint.valueTemplateRefs[a-1];this.multiTemplateSelect=this.rtLookup[i].resourceLabel,this.multiTemplateSelectURI=i,this.activeTemplate=this.rtLookup[i],this.buildPropertyTemplatesOrderLookup(),this.focused(t),c["a"].renderBorders(!0)}},focused:function(t){this.$store.dispatch("setActiveInput",{self:this,id:t.target.id,profileCompoent:this.profileCompoent,profileName:this.profileName}).then((function(){c["a"].focusSidebars()}))}}},x=T,S=(r("1303"),Object(p["a"])(x,k,C,!1,null,"791e2d80",null)),I=S.exports,R=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Keypress",{attrs:{"key-event":"keydown","key-code":27},on:{success:t.closeModal}}),r("Keypress",{attrs:{"key-event":"keydown","multiple-keys":[{keyCode:66,modifiers:["ctrlKey"],preventDefault:!0}]},on:{success:t.togglePreCoordinated}}),0==t.nested?r("div",{staticClass:"component-container"},[r("div",{staticClass:"component-container-title"},[t._v(t._s(t.structure.propertyLabel))]),r("div",{staticClass:"component-container-input-container"},[r("div",{staticClass:"component-container-fake-input no-upper-right-border-radius no-lower-right-border-radius no-upper-border temp-icon-search"},[t.userData[t.structure.propertyURI]?r("div",[t._v(" Data ")]):r("input",{staticClass:"selectable-input input-single",attrs:{bfeType:"EditComplexLookupComponent",id:t.assignedId,type:"text"},on:{focus:t.focused,keydown:function(e){return t.activate(e)}}})])])]):r("div",[r("div",{class:["component-container-fake-input no-upper-right-border-radius no-lower-right-border-radius no-upper-border temp-icon-search"]},[r("div",{staticClass:"component-nested-container-title",staticStyle:{top:"0"}},[t._v(t._s(t.structure.propertyLabel))]),t.userData.literal?r("div",{staticStyle:{position:"absolute"}},[r("div",{staticClass:"selected-value-container-nested",staticStyle:{display:"inline-block",position:"relative",bottom:"7px"}},[r("span",{staticStyle:{"padding-right":"0.3em","font-weight":"bold"},on:{click:t.toggleSelectedDetails}},[r("span",{staticClass:"selected-value-icon",domProps:{innerHTML:t._s(t.returnAuthIcon(t.userData["@type"]))}}),t._v(t._s(t.userData.literal))]),r("span",{staticStyle:{"border-left":"solid 1px black",padding:"0 0.5em","font-size":"1em"},on:{click:t.removeValue}},[t._v("x")])]),r("form",{staticStyle:{display:"inline-block"},attrs:{autocomplete:"off"},on:{submit:function(t){t.preventDefault()}}},[r("input",{staticClass:"selectable-input input-nested",staticStyle:{display:"inline-block"},attrs:{bfeType:"EditComplexLookupComponent",type:"text",id:t.assignedId},on:{keydown:t.doubleDeleteCheck,focus:t.focused}})]),1==t.displaySelectedDetails?r("div",{staticClass:"selected-value-details"},[r("button",{staticClass:"selected-value-details-close",on:{click:t.toggleSelectedDetails}},[t._v("Close")]),r("a",{staticStyle:{color:"white","text-decoration":"none"},attrs:{target:"_blank",href:t.userData.URI}},[t._v("View Entity")]),r("div",{staticClass:"modal-context-data-title"},[t._v(t._s(t.userData["@type"]))]),t.userData.context?r("div",[t.userData.context.variant.length>0?r("div",[r("div",{staticClass:"modal-context-data-title"},[t._v("Varients:")]),r("ul",t._l(t.userData.context.variant,(function(e,o){return r("li",{key:"var"+o,staticClass:"modal-context-data-li"},[t._v(t._s(e))])})),0)]):t._e(),t._l(Object.keys(t.userData.context.nodeMap),(function(e){return r("div",{key:e},[r("div",{staticClass:"modal-context-data-title"},[t._v(t._s(e)+":")]),r("ul",t._l(t.userData.context.nodeMap[e],(function(e){return r("li",{key:e,staticClass:"modal-context-data-li"},[t._v(t._s(e))])})),0)])})),t.userData.context.source.length>0?r("div",[r("div",{staticClass:"modal-context-data-title"},[t._v("Sources:")]),r("ul",t._l(t.userData.context.source,(function(e){return r("li",{key:e,staticClass:"modal-context-data-li"},[t._v(t._s(e))])})),0)]):t._e()],2):t._e()]):t._e()]):r("form",{attrs:{autocomplete:"off"},on:{submit:function(t){t.preventDefault()}}},[r("input",{staticClass:"selectable-input input-nested",attrs:{bfeType:"EditComplexLookupComponent",type:"text",id:t.assignedId},on:{focus:t.focused,keydown:function(e){return t.activate(e)}}})])])]),r("div",{class:["modaloverlay",{"modal-display":t.displayModal}],attrs:{id:t.assignedId},on:{click:t.closeModal}},[r("div",{class:["modal"]},[r("div",[r("div",{staticClass:"close temp-icon-close",on:{click:t.closeModal}}),r("div",{staticClass:"modal-title"},[t._v("Lookup")]),r("div",{staticClass:"modal-content"},[r("div",{class:["modal-content-flex-container",{"modal-content-flex-container-complex":1==t.canBuildComplex()&&1==t.displayPreCoordinated,"modal-content-flex-container-complex-prompt":0==t.displayPreCoordinated,"modal-content-flex-container-complex-hide":0==t.canBuildComplex()}]},[r("div",{staticClass:"modal-content-left"},[r("div",{staticStyle:{height:"20%"}},[r("div",{staticClass:"modal-switch-values-container component-container-fake-input no-lower-right-border-radius",staticStyle:{flex:"4","border-top-left-radius":"0.5em"}},[r("div",{staticStyle:{display:"flex"}},[r("div",{staticStyle:{flex:"1"}},[r("form",{attrs:{autocomplete:"off"}},[r("input",{staticClass:"no-lower-right-border-radius",staticStyle:{width:"95%",border:"none",height:"90%","font-size":"1.5em",padding:"0.1em",background:"none"},attrs:{id:t.assignedId+"switch",bfeType:"",autocomplete:"off",type:"text"},domProps:{value:t.modeSelect},on:{focus:t.focused,keydown:function(e){return t.switchTypes(e)}}})])]),r("button",{staticClass:"temp-icon-switch fake-real-button simptip-position-top",attrs:{"data-tooltip":"Select subset of the vocabulary to use [Left] or [Right Arrow]"},on:{click:function(e){return t.switchTypes(e,!0)}}})])]),r("div",{class:["component-container-fake-input no-upper-right-border-radius no-upper-border modal-switch-values-container"],staticStyle:{"border-bottom-left-radius":"0.5em"}},[r("form",{attrs:{autocomplete:"off"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.searchValue,expression:"searchValue"}],ref:"searchInput",staticStyle:{width:"95%",border:"none",height:"90%","font-size":"2em",padding:"0.2em 0.1em 0.2em 0.1em",background:"none"},attrs:{bfeType:"",id:t.assignedId+"search",name:t.assignedId,autocomplete:"off",type:"text"},domProps:{value:t.searchValue},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.submitField(e))},function(e){return t.searchNav(e)}],focus:t.focused,keyup:function(e){return t.search(e)},input:function(e){e.target.composing||(t.searchValue=e.target.value)}}})])])]),r("div",{class:["complex-lookup-results",{"complex-lookup-results-complex":t.canBuildComplex()}]},[0==t.activeComplexSearch.length&&0==t.activeComplexSearchInProgress&&1!=t.initalSearchState?r("div",[r("h5",[t._v("No results found.")])]):t._e(),1==t.activeComplexSearchInProgress?r("div",[r("h5",[t._v("Searching...")])]):t._e(),r("select",{staticClass:"modal-entity-select",staticStyle:{height:"100%"},attrs:{size:"10",id:t.assignedId+"select"},on:{change:function(e){return t.selectChange(e)},keydown:function(e){return t.selectNav(e)}}},t._l(t.activeComplexSearch,(function(e,o){return r("option",{key:o,staticClass:"complex-lookup-result",domProps:{value:e.uri,innerHTML:t._s(t.returnAuthIcon(e)+" "+e.label)}})})),0)])]),r("div",{staticClass:"modal-content-right"},[Object.keys(t.contextData).length>0?r("div",{staticClass:"modal-context"},[r("h3",[r("span",{staticClass:"modal-context-icon simptip-position-top",attrs:{"data-tooltip":"Type: "+t.contextData.type},domProps:{innerHTML:t._s(t.returnAuthIcon(t.contextData.type))}}),t._v(t._s(t.contextData.title))]),r("div",{staticClass:"modal-context-data-title"},[t._v(t._s(t.contextData.type))]),t.contextData.variant.length>0?r("div",[r("div",{staticClass:"modal-context-data-title"},[t._v("Varients:")]),r("ul",t._l(t.contextData.variant,(function(e,o){return r("li",{key:"var"+o,staticClass:"modal-context-data-li"},[t._v(t._s(e))])})),0)]):t._e(),t._l(Object.keys(t.contextData.nodeMap),(function(e){return r("div",{key:e},[r("div",{staticClass:"modal-context-data-title"},[t._v(t._s(e)+":")]),r("ul",t._l(t.contextData.nodeMap[e],(function(e){return r("li",{key:e,staticClass:"modal-context-data-li"},[t._v(t._s(e))])})),0)])})),t.contextData.source.length>0?r("div",[r("div",{staticClass:"modal-context-data-title"},[t._v("Sources:")]),r("ul",t._l(t.contextData.source,(function(e){return r("li",{key:e,staticClass:"modal-context-data-li"},[t._v(t._s(e))])})),0)]):t._e()],2):t._e(),0!=Object.keys(t.contextData).length?r("div",{staticClass:"modal-context-add-menu"},[0==t.precoordinated.length?r("button",{on:{click:t.add}},[t._v("Add Selected [Enter]")]):r("button",{staticClass:"simptip-position-left",attrs:{"data-tooltip":""},on:{click:t.add}},[t._v("Add Pre-Coordinated [Enter]")])]):t._e()])]),1==t.displayPreCoordinated?r("div",{staticClass:"modal-context-build-manual"},[r("div",{staticClass:"modal-context-build-manual-buttons"},[r("div",[t._v("Build manual pre-coordinated: Add selected as a subdivision: ")]),r("button",{staticStyle:{width:"11em"},on:{click:function(e){return t.precoordinatedAddSubdivision("Topic")}}},[t._v("Heading or Topical [CRTL+1] ")]),r("button",{staticStyle:{width:"9em"},on:{click:function(e){return t.precoordinatedAddSubdivision("Geographic")}}},[t._v("Geographic [CRTL+2] ")]),r("button",{staticStyle:{width:"9em"},on:{click:function(e){return t.precoordinatedAddSubdivision("Temporal")}}},[t._v("Chronological [CRTL+3] ")]),r("button",{staticStyle:{width:"6em"},on:{click:function(e){return t.precoordinatedAddSubdivision("GenreForm")}}},[t._v("Form [CRTL+4] ")]),r("button",{staticStyle:{width:"7em"},on:{click:function(e){return t.precoordinatedRemoveLast()}}},[t._v("Remove Last [CRTL+5] ")])]),r("div",{staticClass:"modal-context-build-manual-precoordinted-display"},[0==t.precoordinated.length?r("span",[t._v("Your pre-coordinated heading will display here when you add subdivisions")]):t._e(),r("span",[t._v(" "+t._s(t.precoordinated.map((function(t){return t.label})).join("--"))+" ")])])]):r("div",{staticClass:"modal-context-build-manual",staticStyle:{"text-align":"center",cursor:"pointer"},on:{click:t.togglePreCoordinated}},[t._v(" Build [CTRL+B] a pre-coordinated heading. ")])])])])])],1)},_=[],D=(r("99af"),r("a15b"),r("d81d"),r("5319"),r("841c"),r("1a1e")),O=r("dd89"),P={name:"EditComplexLookupComponent",components:{Keypress:function(){return r.e("chunk-6ceba5e5").then(r.bind(null,"365a"))}},props:{structure:Object,parentStructure:Array,profileCompoent:String,parentStructureObj:Object,profileName:String,activeTemplate:Object,nested:Boolean},data:function(){return{displayModal:!1,lookups:this.structure.valueConstraint.useValuesFrom,lookupConfig:D["a"].lookupConfig,modeSelect:"All",searchValue:"",searchTimeout:null,selectLastIndex:null,initalSearchState:!0,selectNavTimeout:null,componentKey:0,displaySelectedDetails:!1,doubleDelete:!1,precoordinated:[],displayPreCoordinated:!1,userData:{}}},created:function(){this.checkForUserData()},computed:Object(l["b"])({lookupLibrary:"lookupLibrary",activeInput:"activeInput",activeProfile:"activeProfile",activeComplexSearch:"activeComplexSearch",activeComplexSearchInProgress:"activeComplexSearchInProgress",contextData:"contextData",assignedId:function(){return c["a"].assignID(this.structure,this.parentStructure,D["a"])},modalSelectOptions:function(){var t=this,e=[];return e.push({label:"All",urls:null,processor:null}),this.structure.valueConstraint.useValuesFrom.forEach((function(r){t.lookupConfig[r]&&t.lookupConfig[r].modes.forEach((function(o){Object.keys(o).forEach((function(a){e.push({label:a,urls:o[a].url,processor:t.lookupConfig[r].processor,all:o[a].all})}))}))})),e},modalSelectOptionsLabels:function(){return this.modalSelectOptions.map((function(t){return t.label}))},lookupVocab:function(t){return t.lookupLibrary[this.structure.valueConstraint.useValuesFrom[0]]}}),methods:{focusCurrentInput:c["a"].focusCurrentInput,returnAuthIcon:c["a"].returnAuthIcon,camelize:function(t){return t.replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,(function(t,e){return 0===+t?"":0===e?t.toLowerCase():t.toUpperCase()}))},submitField:function(){return this.add()},precoordinatedAddSubdivision:function(t){if(0==Object.keys(this.contextData).length)return!1;var e=this.contextData.title,r=this.contextData.uri,o=this.contextData.type;if(o!=t)return alert("".concat(e," is not a ").concat(t," type heading")),!1;this.precoordinated.push({uri:r,label:e,type:o}),this.$refs.searchInput.focus()},precoordinatedRemoveLast:function(){this.precoordinated.length>0&&this.precoordinated.splice(-1,1),console.log(this.precoordinated)},canBuildComplex:function(){return this.structure.valueConstraint.useValuesFrom.indexOf("http://id.loc.gov/authorities/subjects")>-1},togglePreCoordinated:function(t){if(0==this.displayPreCoordinated&&1==this.displayModal){if(this.displayPreCoordinated=!0,console.log("hery heree",this.displayPreCoordinated),t&&t.event)return t.event.preventDefault(),!1}else if(this.displayPreCoordinated=!1,t&&t.event)return t.event.preventDefault(),!1},removeValue:function(){var t=this;this.userData={},this.$store.dispatch("clearContext",{self:this}).then((function(){t.$store.dispatch("addValue",{self:t,profileComponet:t.profileCompoent,template:t.activeTemplate,structure:t.structure}).then((function(){t.checkForUserData(),setTimeout((function(){document.getElementById(t.assignedId).focus()}),0)}))}))},doubleDeleteCheck:function(t){if(t&&t.key&&"Backspace"===t.key)this.doubleDelete?this.removeValue():this.doubleDelete=!0;else if("ArrowUp"!=t.key&&"ArrowDown"!=t.key&&"Tab"!=t.key)return t.preventDefault(),!1},toggleSelectedDetails:function(){var t=this;this.displaySelectedDetails?(this.displaySelectedDetails=!1,setTimeout((function(){document.getElementById(t.assignedId).focus()}),0)):this.displaySelectedDetails=!0},checkForUserData:function(){var t=O["a"].returnUserValues(this.activeProfile,this.profileCompoent,this.structure.propertyURI);t[this.structure.propertyURI]?this.userData=t[this.structure.propertyURI]:t[this.parentStructureObj.propertyURI]?this.userData=t[this.parentStructureObj.propertyURI]:this.userData={}},activate:function(t){var e=this;return"ArrowDown"===t.key||"ArrowUp"===t.key||"PageUp"===t.key||"PageDown"===t.key||"Tab"===t.key||"Control"===t.key||"Meta"===t.key||"Alt"===t.key||"Shift"===t.key||"CapsLock"===t.key||"="===t.key||"Backspace"===t.key||"Home"===t.key||(this.displayModal=!0,this.initalSearchState=!0,this.searchValue=t.key,this.$store.dispatch("clearContext",{self:this}),this.$store.dispatch("clearLookupValuesComplex",{self:this}).then((function(){""!=e.searchValue&&e.search()})),t.preventDefault(),setTimeout((function(){document.getElementById(e.assignedId+"search").focus()}),0)),!1},focused:function(t){this.$store.dispatch("setActiveInput",{self:this,id:t.target.id,profileCompoent:this.profileCompoent,profileName:this.profileName}).then((function(){c["a"].focusSidebars()}))},closeModal:function(t){if(t&&t.target&&t.target.classList.contains("close")&&(this.displayModal=!1),t&&t.target&&!t.target.classList.contains("modaloverlay"))return!1;this.displayModal=!1,this.displayPreCoordinated=!1,this.precoordinated=[],this.prec,t&&t.event&&t.event.preventDefault(),this.focusCurrentInput()},selectChange:function(t){var e=this;t||(t={target:document.getElementById(this.assignedId+"select")}),window.clearTimeout(this.selectNavTimeout),this.selectNavTimeout=window.setTimeout((function(){t.target.options.forEach((function(t){t.selected&&(e.$store.dispatch("clearContext",{self:e}),e.$store.dispatch("fetchContext",{self:e,searchPayload:t.value}).then((function(){})))}))}),300)},selectNav:function(t){return 0==t.target.selectedIndex&&"ArrowUp"===t.key?(document.getElementById(this.assignedId+"search").focus(),t.preventDefault(),!1):t.target.selectedIndex==t.target.options.length-1&&"ArrowDown"===t.key?(t.preventDefault(),!1):"1"===t.key&&!0===t.ctrlKey?(this.precoordinatedAddSubdivision("Topic"),t.preventDefault(),!1):"2"===t.key&&!0===t.ctrlKey?(this.precoordinatedAddSubdivision("Geographic"),t.preventDefault(),!1):"3"===t.key&&!0===t.ctrlKey?(this.precoordinatedAddSubdivision("Temporal"),t.preventDefault(),!1):"4"===t.key&&!0===t.ctrlKey?(this.precoordinatedAddSubdivision("GenreForm"),t.preventDefault(),!1):"5"===t.key&&!0===t.ctrlKey?(this.precoordinatedRemoveLast(),t.preventDefault(),!1):("Enter"===t.key&&this.add(),void(this.selectLastIndex=t.target.selectedIndex))},switchTypes:function(t,e){if(!0===e&&(t={key:"ArrowRight",target:t.target.parentNode.querySelector("input")},t.target.parentNode.querySelector("input").focus()),"ArrowRight"===t.key){var r=this.modalSelectOptionsLabels.indexOf(this.modeSelect);r+1>this.modalSelectOptionsLabels.length-1&&(r=-1),this.modeSelect=this.modalSelectOptionsLabels[r+1],this.search()}else{if("ArrowLeft"!==t.key)return"ArrowDown"===t.key?(document.getElementById(this.assignedId+"search").focus(),t.preventDefault(),!1):(t.preventDefault(),!1);var o=this.modalSelectOptionsLabels.indexOf(this.modeSelect);0==o&&(o=this.modalSelectOptionsLabels.length),this.modeSelect=this.modalSelectOptionsLabels[o-1],this.search()}},searchNav:function(t){return"ArrowUp"===t.key?(document.getElementById(this.assignedId+"switch").focus(),t.preventDefault(),!1):"ArrowDown"===t.key?(document.getElementById(this.assignedId+"select").firstChild&&(document.getElementById(this.assignedId+"select").focus(),document.getElementById(this.assignedId+"select").firstChild.selected=!0,this.selectChange()),t.preventDefault(),!1):void 0},search:function(t){var e=this;if(t){if(this.searchValue=t.target.value,"ArrowUp"===t.key)return!1;if("ArrowDown"===t.key)return!1}if(""==this.searchValue.trim())return!1;window.clearTimeout(this.searchTimeout);var r={processor:null,url:[]};"All"==this.modeSelect?this.modalSelectOptions.forEach((function(t){!0===t.all&&(r.processor=t.processor,r.url.push(t.urls.replace("<QUERY>",e.searchValue)))})):this.modalSelectOptions.forEach((function(t){t.label==e.modeSelect&&(r.processor=t.processor,r.url.push(t.urls.replace("<QUERY>",e.searchValue)))})),this.searchTimeout=window.setTimeout((function(){e.$store.dispatch("fetchLookupValuesComplex",{self:e,searchPayload:r}).then((function(){e.initalSearchState=!1}))}),400)},add:function(){var t=this;if(this.precoordinated.length>0){var e=this.precoordinated.map((function(t){return t.label})).join("--"),r={contextValue:!0,source:[],type:"ComplexSubject",variant:[],uri:null,title:e,contributor:[],date:null,genreForm:null,nodeMap:{},precoordinated:this.precoordinated};this.$store.dispatch("setContextManually",{self:this,context:r}).then((function(){t.$store.dispatch("addValue",{self:t,profileComponet:t.profileCompoent,template:t.activeTemplate,structure:t.structure}).then((function(){t.componentKey++,t.displayModal=!1,t.checkForUserData(),setTimeout((function(){document.getElementById(t.assignedId).focus()}),0)}))}))}else{if(0==Object.keys(this.contextData).length)return!1;this.$store.dispatch("addValue",{self:this,profileComponet:this.profileCompoent,template:this.activeTemplate,structure:this.structure}).then((function(){t.componentKey++,t.displayModal=!1,t.checkForUserData(),setTimeout((function(){document.getElementById(t.assignedId).focus()}),0)}))}}}},V=P,E=(r("aa4b"),Object(p["a"])(V,R,_,!1,null,"d012efb0",null)),N=E.exports,M=r("d538"),j=r.n(M),A={name:"EditMainComponent",components:{EditLiteralComponent:m,EditSimpleLookupComponent:w,EditTemplateRefComponent:I,EditComplexLookupComponent:N,VueJsonPretty:j.a},props:{structure:Object,parentStructure:Array,parentStructureObj:Object,nested:Boolean,profileCompoent:String,profileName:String,activeTemplate:Object},data:function(){return{labels:L["a"],displayDebug:!1,lookupType:D["a"].lookupConfig}},methods:{prettifyXml:c["a"].prettifyXml,toggleDebug:function(){this.displayDebug?this.displayDebug=!1:this.displayDebug=!0},duplicateProperty:function(){this.$store.dispatch("duplicateProperty",{self:this,id:this.profileCompoent,profile:this.profileName}).then((function(){}))},removeProperty:function(){this.$store.dispatch("removeProperty",{self:this,id:this.profileCompoent,profile:this.profileName}).then((function(){}))},returnLookupType:function(t){var e=this,r="simple";return 0==t.valueConstraint.useValuesFrom.length?null:(t.valueConstraint.useValuesFrom.forEach((function(t){e.lookupType[t]&&"complex"==e.lookupType[t].type&&(r="complex")})),r)}}},U=A,F=(r("3f2f"),Object(p["a"])(U,o,a,!1,null,"4c8aaddf",null));e["default"]=F.exports},"724c":function(t,e,r){"use strict";var o=r("b608"),a=r.n(o);a.a},"845f":function(t,e,r){},"85ec":function(t,e,r){},"8ad1":function(t,e,r){"use strict";r("99af"),r("a15b"),r("ac1f"),r("5319");var o=r("4360"),a={globalMoveDown:function(){if(o["a"].state.disableMacroKeyNav)return!1;for(var t=document.getElementsByClassName("selectable-input"),e=-1,r=0;r<t.length;r++)t[r].id==this.activeInput&&(e=r);-1!=e&&t[e+1]&&t[e+1].focus()},globalMoveUp:function(){if(o["a"].state.disableMacroKeyNav)return!1;for(var t=document.getElementsByClassName("selectable-input"),e=-1,r=0;r<t.length;r++)t[r].id==this.activeInput&&(e=r);-1!=e&&t[e-1]&&t[e-1].focus()},globalMovePageDown:function(t){return this.moveDown(),this.moveDown(),this.moveDown(),this.moveDown(),this.moveDown(),t.event.preventDefault(),!1},globalMovePageUp:function(t){return this.moveUp(),this.moveUp(),this.moveUp(),this.moveUp(),this.moveUp(),t.event.preventDefault(),!1},focusCurrentInput:function(){for(var t=document.getElementsByClassName("selectable-input"),e=0;e<t.length;e++)t[e].id!=this.activeInput&&t[e].id!=this.activeInput.replace("switch","")&&t[e].id!=this.activeInput.replace("search","")||t[e].focus()},focusSidebars:function(){document.getElementsByClassName("left-menu-list-item-active")[0].scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),document.getElementsByClassName("opac-field-active").length>0&&document.getElementsByClassName("opac-field-active")[0].scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},returnAuthIcon:function(t){var e="&#xe800;",r="&#xe801;",o="&#xe802;",a="&#xe800; + &#xe802;",i="&#xe803;",n="&#xe805;",s="&#xe806;",l="&#xe807;",c="&#xe808;";if(t){if("PersonalName"==t)return e;if("CorporateName"==t)return r;if("NameTitle"==t)return a;if("Title"==t)return o;if("ConferenceName"==t)return i;if("Geographic"==t)return n;if("GenreForm"==t)return s;if("ComplexSubject"==t)return l;if("Topic"==t)return c;if("http://id.loc.gov/ontologies/bibframe/Person"==t)return e;if("http://id.loc.gov/ontologies/bibframe/Place"==t)return n;if("http://id.loc.gov/ontologies/bibframe/Topic"==t)return c}return"&nbsp;"},dupeProperty:function(){var t=document.getElementById(this.activeInput).parentElement;while(!1===t.classList.contains("component"))t=t.parentElement;t.getElementsByClassName("property-duplicate")[0].click()},assignID:function(t){var e="".concat(t.propertyURI,"|").concat(t.propertyLabel);return o["a"].state.activeProfileIdCounter[e]||(o["a"].state.activeProfileIdCounter[e]=0),o["a"].state.activeProfileIdCounter[e]++,"".concat(t.propertyURI,"|").concat(t.propertyLabel,"-").concat(o["a"].state.activeProfileIdCounter[e])},renderBorders:function(t){setTimeout((function(){for(var e=document.querySelectorAll(".component-container-input-container"),r=0;r<e.length;r++){var o=e[r].getElementsByClassName("component-container-fake-input");if(t)for(var a=0;a<o.length;a++)o[a].classList.add("no-upper-right-border-radius"),o[a].classList.add("no-upper-border"),o[a].classList.add("no-lower-right-border-radius");o.length>0&&(o[0].classList.remove("no-upper-right-border-radius"),o[0].classList.remove("no-upper-border"),o[o.length-1].classList.remove("no-lower-right-border-radius"))}}),0)},prettifyXml:function(t){try{var e=(new DOMParser).parseFromString(t,"application/xml"),r=(new DOMParser).parseFromString(['<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform">','  <xsl:strip-space elements="*"/>','  <xsl:template match="para[content-style][not(text())]">','    <xsl:value-of select="normalize-space(.)"/>',"  </xsl:template>",'  <xsl:template match="node()|@*">','    <xsl:copy><xsl:apply-templates select="node()|@*"/></xsl:copy>',"  </xsl:template>",'  <xsl:output indent="yes"/>',"</xsl:stylesheet>"].join("\n"),"application/xml"),o=new XSLTProcessor;o.importStylesheet(r);var a=o.transformToDocument(e),i=(new XMLSerializer).serializeToString(a);return i}catch(n){return"Because you are using Firefox or IE Edge I can't make this XML look nice, but here you go anyway:\n\n\n"+t}}};e["a"]=a},9440:function(t,e,r){"use strict";var o=r("b581"),a=r.n(o);a.a},"94a1":function(t,e,r){"use strict";var o=r("c5ec"),a=r.n(o);a.a},aa4b:function(t,e,r){"use strict";var o=r("ac05"),a=r.n(o);a.a},ac05:function(t,e,r){},adac:function(t,e,r){"use strict";r("99af"),r("4160"),r("caad"),r("c975"),r("d81d"),r("b64b"),r("d3b7"),r("ac1f"),r("8a79"),r("2532"),r("466d"),r("5319"),r("1276"),r("2ca0"),r("498a"),r("159b"),r("ddb0");var o=r("b85c"),a=r("53ca"),i=(r("96cf"),r("1da1")),n=r("1a1e"),s={possibleLabelURIs:["http://www.loc.gov/mads/rdf/v1#authoritativeLabel","http://www.w3.org/2004/02/skos/core#prefLabel"],lookupLibrary:{},fetchSimpleLookup:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,r){var o,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=e||n["a"].profileUrl,e=e.replace("http://","https://"),o={},r&&(o={headers:{"Content-Type":"application/json",Accept:"application/json"},mode:"cors"}),t.prev=4,t.next=7,fetch(e,o);case 7:if(a=t.sent,i=null,!e.endsWith(".rdf")){t.next=15;break}return t.next=12,a.text();case 12:i=t.sent,t.next=18;break;case 15:return t.next=17,a.json();case 17:i=t.sent;case 18:return t.abrupt("return",i);case 21:t.prev=21,t.t0=t["catch"](4),console.error(t.t0);case 24:case"end":return t.stop()}}),t,null,[[4,21]])})));function e(e,r){return t.apply(this,arguments)}return e}(),returnValue:function(t){var e=[];return Array.isArray(t)&&t.forEach((function(t){"object"===Object(a["a"])(t)?t["@value"]?e.push(t["@value"]):console.error("lookupUtility: lookup parse error, Was expecting a @value in this object:",t):"string"===typeof t||"number"===typeof t?e.push(t):console.error("lookupUtility: lookup parse error, Was expecting some sort of value here:",t)})),e},simpleLookupProcess:function(t,e){var r=this,o={metadata:{uri:e,values:{}}};return Array.isArray(t)?t.forEach((function(t){var a=null,i=null;return!t["@id"]||t["@id"]==e||t["@id"].includes("_:")?(t["http://id.loc.gov/ontologies/RecordInfo#recordStatus"],!1):(r.possibleLabelURIs.forEach((function(e){if(t[e]&&!o[t["@id"]]){a=r.returnValue(t[e]);var n=[],s={uri:t["@id"],label:[],code:[],displayLabel:[]};a.forEach((function(e){n.push("".concat(e," (").concat(t["@id"].split("/").pop(),")")),s.displayLabel.push("".concat(e," (").concat(t["@id"].split("/").pop(),")")),s.label.push(e),s.code.push(t["@id"].split("/").pop())})),i=s,a=n}})),null===a?(console.error("lookupUtility: Was expecting this to have a label",t),!1):(o[t["@id"]]=a,void(o.metadata.values[t["@id"]]=i)))})):o=t,o},loadSimpleLookup:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e,e.includes(".json")||(r+=".json"),this.lookupLibrary[r]){t.next=11;break}return t.next=5,this.fetchSimpleLookup(r);case 5:return o=t.sent,o=this.simpleLookupProcess(o,e),this.lookupLibrary[r]=o,t.abrupt("return",o);case 11:return t.abrupt("return",this.lookupLibrary[r]);case 12:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),searchComplex:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var r,a,i,n,s,l,c,u,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.url,Array.isArray(r)||(r=[r]),a=[],i=Object(o["a"])(r),t.prev=4,i.s();case 6:if((n=i.n()).done){t.next=14;break}return s=n.value,t.next=10,this.fetchSimpleLookup(s);case 10:if(l=t.sent,"lcAuthorities"==e.processor)for(c=l[1],u=l[3],d=0;d<=c.length;d++)void 0!=u[d]&&a.push({label:c[d],uri:u[d],extra:""});case 12:t.next=6;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](4),i.e(t.t0);case 19:return t.prev=19,i.f(),t.finish(19);case 22:return t.abrupt("return",a);case 23:case"end":return t.stop()}}),t,this,[[4,16,19,22]])})));function e(e){return t.apply(this,arguments)}return e}(),returnContext:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetchContextData(e);case 2:return r=t.sent,r.uri=e,o=this.extractContextData(r),t.abrupt("return",o);case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),fetchContextData:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var r,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.startsWith("http://id.loc.gov")&&e.match(/(authorities|vocabularies)/)?e+".madsrdf_raw.jsonld":e+".jsonld",r=r.replace("http://id.loc.gov","https://id.loc.gov"),t.prev=2,t.next=5,fetch(r);case 5:return o=t.sent,t.next=8,o.json();case 8:return a=t.sent,t.abrupt("return",a);case 12:t.prev=12,t.t0=t["catch"](2),console.error(t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));function e(e){return t.apply(this,arguments)}return e}(),extractContextData:function(t){var e=this,r={contextValue:!0,source:[],type:null,variant:[],uri:t.uri,title:null,contributor:[],date:null,genreForm:null,nodeMap:{}};t["@graph"]&&(t=t["@graph"]);var o={};return t.forEach((function(t){t["http://www.loc.gov/mads/rdf/v1#birthDate"]&&(o["Birth Date"]=t["http://www.loc.gov/mads/rdf/v1#birthDate"].map((function(t){return t["@id"]}))),t["http://www.loc.gov/mads/rdf/v1#birthPlace"]&&(o["Birth Place"]=t["http://www.loc.gov/mads/rdf/v1#birthPlace"].map((function(t){return t["@id"]}))),t["http://www.loc.gov/mads/rdf/v1#associatedLocale"]&&(o["Associated Locale"]=t["http://www.loc.gov/mads/rdf/v1#associatedLocale"].map((function(t){return t["@id"]}))),t["http://www.loc.gov/mads/rdf/v1#fieldOfActivity"]&&(o["Field of Activity"]=t["http://www.loc.gov/mads/rdf/v1#fieldOfActivity"].map((function(t){return t["@id"]}))),t["http://www.loc.gov/mads/rdf/v1#gender"]&&(o["Gender"]=t["http://www.loc.gov/mads/rdf/v1#gender"].map((function(t){return t["@id"]}))),t["http://www.loc.gov/mads/rdf/v1#occupation"]&&(o["Occupation"]=t["http://www.loc.gov/mads/rdf/v1#occupation"].map((function(t){return t["@id"]}))),t["http://www.loc.gov/mads/rdf/v1#associatedLanguage"]&&(o["Associated Language"]=t["http://www.loc.gov/mads/rdf/v1#associatedLanguage"].map((function(t){return t["@id"]}))),t["http://www.loc.gov/mads/rdf/v1#deathDate"]&&(o["Death Date"]=t["http://www.loc.gov/mads/rdf/v1#deathDate"].map((function(t){return t["@id"]}))),t["http://www.loc.gov/mads/rdf/v1#hasBroaderAuthority"]&&(o["Has Broader Authority"]=t["http://www.loc.gov/mads/rdf/v1#hasBroaderAuthority"].map((function(t){return t["@id"]}))),t["http://www.loc.gov/mads/rdf/v1#hasNarrowerAuthority"]&&(o["Has Narrower Authority"]=t["http://www.loc.gov/mads/rdf/v1#hasNarrowerAuthority"].map((function(t){return t["@id"]})))})),t.forEach((function(t){Object.keys(o).forEach((function(e){r.nodeMap[e]||(r.nodeMap[e]=[]),o[e].forEach((function(o){t["@id"]&&t["@id"]==o&&(t["http://www.loc.gov/mads/rdf/v1#authoritativeLabel"]&&t["http://www.loc.gov/mads/rdf/v1#authoritativeLabel"].forEach((function(t){t["@value"]&&r.nodeMap[e].push(t["@value"])})),t["http://www.w3.org/2000/01/rdf-schema#label"]&&t["http://www.w3.org/2000/01/rdf-schema#label"].forEach((function(t){t["@value"]&&r.nodeMap[e].push(t["@value"])})))}))}))})),t.forEach((function(o){var a="",i="",n="";o["http://www.loc.gov/mads/rdf/v1#citation-source"]&&(a+=o["http://www.loc.gov/mads/rdf/v1#citation-source"].map((function(t){return t["@value"]+" "}))),o["http://www.loc.gov/mads/rdf/v1#citation-note"]&&(a+=o["http://www.loc.gov/mads/rdf/v1#citation-note"].map((function(t){return t["@value"]+" "}))),o["http://www.loc.gov/mads/rdf/v1#citation-status"]&&(a+=o["http://www.loc.gov/mads/rdf/v1#citation-status"].map((function(t){return t["@value"]+" "}))),o["http://www.loc.gov/mads/rdf/v1#citationSource"]&&(a+=o["http://www.loc.gov/mads/rdf/v1#citationSource"].map((function(t){return t["@value"]+" "}))),o["http://www.loc.gov/mads/rdf/v1#citationNote"]&&(a+=o["http://www.loc.gov/mads/rdf/v1#citationNote"].map((function(t){return t["@value"]+" "}))),o["http://www.loc.gov/mads/rdf/v1#citationStatus"]&&(a+=o["http://www.loc.gov/mads/rdf/v1#citationStatus"].map((function(t){return t["@value"]+" "}))),o["http://www.loc.gov/mads/rdf/v1#variantLabel"]&&(i+=o["http://www.loc.gov/mads/rdf/v1#variantLabel"].map((function(t){return t["@value"]+" "}))),o["@id"]&&o["@id"]==t.uri&&o["http://www.loc.gov/mads/rdf/v1#authoritativeLabel"]&&(n+=o["http://www.loc.gov/mads/rdf/v1#authoritativeLabel"].map((function(t){return t["@value"]+" "}))),o["@id"]&&o["@id"]==t.uri&&o["@type"]&&o["@type"].forEach((function(t){null===r.type&&(r.type=e.rdfType(t))})),a=a.trim(),i=i.trim(),n=n.trim(),""!=i&&r.variant.push(i),""!=a&&r.source.push(a),""!=n&&(r.title=n),o["@type"]&&"http://id.loc.gov/ontologies/bibframe/Title"==o["@type"]&&o["bibframe:mainTitle"]&&(r.title=o["bibframe:mainTitle"]),o["@type"]&&("http://id.loc.gov/ontologies/bibframe/Agent"==o["@type"]||o["@type"].indexOf("http://id.loc.gov/ontologies/bibframe/Agent")>-1)&&o["bflc:name00MatchKey"]&&r.contributor.push(o["bflc:name00MatchKey"]),o["bibframe:creationDate"]&&o["bibframe:creationDate"]["@value"]&&(r.date=o["bibframe:creationDate"]["@value"]),o["@type"]&&"http://id.loc.gov/ontologies/bibframe/GenreForm"==o["@type"]&&o["bibframe:mainTitle"]&&(r.genreForm=o["rdf-schema:label"])})),r},rdfType:function(t){var e=null;return"http://www.loc.gov/mads/rdf/v1#PersonalName"==t||"http://id.loc.gov/ontologies/bibframe/Person"==t?e="PersonalName":"http://id.loc.gov/ontologies/bibframe/Topic"==t||"http://www.loc.gov/mads/rdf/v1#Topic"==t?e="Topic":"http://www.loc.gov/mads/rdf/v1#Place"==t||"http://id.loc.gov/ontologies/bibframe/Place"==t||"http://www.loc.gov/mads/rdf/v1#Geographic"==t?e="Geographic":"http://www.loc.gov/mads/rdf/v1#Temporal"==t?e="Temporal":"http://www.loc.gov/mads/rdf/v1#Organization"==t||"http://www.loc.gov/mads/rdf/v1#CorporateName"==t||"http://id.loc.gov/ontologies/bibframe/Organization"==t?e="CorporateName":"http://www.loc.gov/mads/rdf/v1#Family"==t||"http://id.loc.gov/ontologies/bibframe/Family"==t?e="FamilyName":"http://www.loc.gov/mads/rdf/v1#Meeting"==t||"http://id.loc.gov/ontologies/bibframe/Meeting"==t?e="ConferenceName":"http://www.loc.gov/mads/rdf/v1#Jurisdiction"==t||"http://id.loc.gov/ontologies/bibframe/Jurisdiction"==t?e="Geographic":"http://id.loc.gov/ontologies/bibframe/GenreForm"==t||"http://www.loc.gov/mads/rdf/v1#GenreForm"==t?e="GenreForm":"http://id.loc.gov/ontologies/bibframe/Role"==t?e="Role":"http://id.loc.gov/ontologies/madsrdf/v1.html#ComplexSubject"==t?e="ComplexSubject":"http://www.loc.gov/mads/rdf/v1#NameTitle"==t?e="NameTitle":"http://www.loc.gov/mads/rdf/v1#Title"==t?e="Title":"http://www.loc.gov/mads/rdf/v1#ComplexSubject"==t&&(e="ComplexSubject"),e},fetchIdWorkSearch:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var r,a,i,n,s,l,c,u,d,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetchSimpleLookup("https://id.loc.gov/search/?q=".concat(e,"&q=cs%3Ahttp%3A%2F%2Fid.loc.gov%2Fresources%2Fworks&format=json"),!0);case 2:r=t.sent,a=[],i=Object(o["a"])(r);try{for(i.s();!(n=i.n()).done;)if(s=n.value,Array.isArray(s)&&"atom:entry"===s[0]){l=null,c=null,u=Object(o["a"])(s);try{for(u.s();!(d=u.n()).done;)p=d.value,Array.isArray(p)&&"atom:title"===p[0]&&(c=p[2]),Array.isArray(p)&&"atom:id"===p[0]&&(l=p[2].replace("info:lc","https://id.loc.gov"))}catch(f){u.e(f)}finally{u.f()}a.push({id:l,label:c})}}catch(f){i.e(f)}finally{i.f()}return t.abrupt("return",a);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),fetchIdXML:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return!1===e.endsWith(".rdf")&&(e+=".rdf"),t.next=3,this.fetchSimpleLookup(e);case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),fetchOntology:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var r,o,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=Math.floor(Date.now()/1e3),!window.localStorage||!window.localStorage.getItem("ontology_"+e+".rdf")){t.next=5;break}if(o=JSON.parse(window.localStorage.getItem("ontology_"+e+".rdf")),!(r-o.ts<86400)){t.next=5;break}return t.abrupt("return",o.response);case 5:return!1===e.endsWith(".rdf")&&(e+=".rdf"),t.next=8,this.fetchSimpleLookup(e);case 8:return a=t.sent,window.localStorage&&(i={response:a,ts:r},window.localStorage.setItem("ontology_"+e,JSON.stringify(i))),t.abrupt("return",a);case 11:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),fetchAllOntology:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var r,a,i,n,s,l,c,u,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r={},a=0,i=Object.keys(e.lookup);case 2:if(!(a<i.length)){t.next=32;break}if(n=i[a],!e.lookup[n].resourceURI.includes("id.loc.gov/ontologies/")){t.next=9;break}return t.next=7,this.fetchOntology(e.lookup[n].resourceURI);case 7:s=t.sent,r[e.lookup[n].resourceURI]=s;case 9:l=Object(o["a"])(e.lookup[n].propertyTemplates),t.prev=10,l.s();case 12:if((c=l.n()).done){t.next=21;break}if(u=c.value,!u.propertyURI.includes("id.loc.gov/ontologies/")){t.next=19;break}return t.next=17,this.fetchOntology(u.propertyURI);case 17:d=t.sent,r[u.propertyURI]=d;case 19:t.next=12;break;case 21:t.next=26;break;case 23:t.prev=23,t.t0=t["catch"](10),l.e(t.t0);case 26:return t.prev=26,l.f(),t.finish(26);case 29:a++,t.next=2;break;case 32:return t.abrupt("return",r);case 33:case"end":return t.stop()}}),t,this,[[10,23,26,29]])})));function e(e){return t.apply(this,arguments)}return e}()};e["a"]=s},b581:function(t,e,r){},b608:function(t,e,r){},b980:function(t,e,r){"use strict";var o=r("5cd6"),a=r.n(o);a.a},c112:function(t,e,r){},c5ec:function(t,e,r){},c944:function(t,e,r){},cf47:function(t,e,r){},d05e:function(t,e,r){"use strict";var o=r("d4b3"),a=r.n(o);a.a},d4b3:function(t,e,r){},d572:function(t,e,r){"use strict";var o=r("fea3"),a=r.n(o);a.a},d6dd:function(t,e,r){"use strict";var o=r("467e"),a=r.n(o);a.a},dd89:function(t,e,r){"use strict";r("4160"),r("c975"),r("a434"),r("b64b"),r("d3b7"),r("159b");var o=r("53ca"),a=r("b85c"),i=(r("96cf"),r("1da1")),n=r("1a1e"),s={profileSource:{},rtLookup:{},profiles:{},startingPoints:{},fetchProfiles:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=e||n["a"].profileUrl,t.prev=1,t.next=4,fetch(e);case 4:return r=t.sent,t.next=7,r.json();case 7:return o=t.sent,t.abrupt("return",o);case 11:t.prev=11,t.t0=t["catch"](1),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));function e(e){return t.apply(this,arguments)}return e}(),buildProfiles:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,r,o,i,s,l,c,u,d,p,f=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetchProfiles();case 2:this.profileSource=t.sent,console.log(this.profileSource,"this.profileSource "),e=Object(a["a"])(this.profileSource);try{for(e.s();!(r=e.n()).done;)if(o=r.value,"lc:profile:bf2:Agents:Attributes"==o.json.Profile.id){i=Object(a["a"])(o.json.Profile.resourceTemplates);try{for(i.s();!(s=i.n()).done;)l=s.value,["lc:RT:bf2:Agent:Person","lc:RT:bf2:Agent:Family","lc:RT:bf2:Agent:CorporateBody","lc:RT:bf2:Agent:Conference","lc:RT:bf2:Agent:Jurisdiction"].indexOf(l.id)>-1&&(l.propertyTemplates=[l.propertyTemplates[0]])}catch(m){i.e(m)}finally{i.f()}}}catch(m){e.e(m)}finally{e.f()}for(this.profileSource.forEach((function(t){t.json&&t.json.Profile&&(f.profiles[t.json.Profile.id]={rtOrder:[],rt:{},id:t.json.Profile.id},t.json.Profile.resourceTemplates&&t.json.Profile.resourceTemplates.forEach((function(e){f.profiles[t.json.Profile.id].rtOrder.push(e.id),f.profiles[t.json.Profile.id].rt[e.id]={ptOrder:[],pt:{}},e.propertyTemplates&&e.propertyTemplates.forEach((function(r){r.parent=t.json.Profile.id+e.id+t.id,r.userValue={};var o=r.propertyURI+"|"+(r.propertyLabel?r.propertyLabel:"plabel");f.profiles[t.json.Profile.id].rt[e.id].ptOrder.push(o),f.profiles[t.json.Profile.id].rt[e.id].pt[o]=r}))}))),t.json&&t.json.Profile&&t.json.Profile.resourceTemplates&&t.json.Profile.resourceTemplates.forEach((function(t){f.rtLookup[t.id]=t}))})),this.profiles=JSON.parse(JSON.stringify(this.profiles)),c={},u=function(){var t=p[d];f.profiles[t].rtOrder.forEach((function(e){c[e]=f.profiles[t].rt[e]}))},d=0,p=Object.keys(this.profiles);d<p.length;d++)u();return n["a"].startingPoint.json.forEach((function(t){f.startingPoints[t.menuGroup]={name:t.menuGroup,work:null,instance:null,item:null},t.menuItems.forEach((function(e){e.type.indexOf("http://id.loc.gov/ontologies/bibframe/Instance")&&(f.startingPoints[t.menuGroup].instance=e.useResourceTemplates[0]),e.type.indexOf("http://id.loc.gov/ontologies/bibframe/Work")&&(f.startingPoints[t.menuGroup].work=e.useResourceTemplates[0]),e.type.indexOf("http://id.loc.gov/ontologies/bibframe/Item")&&(f.startingPoints[t.menuGroup].item=e.useResourceTemplates[0])})),f.profiles[t.menuGroup]={id:t.menuGroup,rt:{},rtOrder:[]},f.startingPoints[t.menuGroup].instance&&(f.profiles[t.menuGroup].rt[f.startingPoints[t.menuGroup].instance]=c[f.startingPoints[t.menuGroup].instance],f.profiles[t.menuGroup].rtOrder.push(f.startingPoints[t.menuGroup].instance)),f.startingPoints[t.menuGroup].work&&(f.profiles[t.menuGroup].rt[f.startingPoints[t.menuGroup].work]=c[f.startingPoints[t.menuGroup].work],f.profiles[t.menuGroup].rtOrder.push(f.startingPoints[t.menuGroup].work))})),console.log(this.rtLookup),t.abrupt("return",{profiles:this.profiles,lookup:this.rtLookup,startingPoints:this.startingPoints});case 14:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),duplicateProperty:function(t,e,r){var o=r.rt[e].ptOrder.indexOf(t),a=t+"|"+ +new Date;return r.rt[e].ptOrder.splice(o+1,0,a),r.rt[e].pt[a]=JSON.parse(JSON.stringify(r.rt[e].pt[t])),r.rt[e].pt[a].userValue={},setTimeout((function(){document.getElementById(e+"|"+a).style.backgroundColor="yellow",document.getElementById(e+"|"+a).scrollIntoView({behavior:"smooth",block:"center"}),setTimeout((function(){document.getElementById(e+"|"+a).style.removeProperty("background-color")}),500)}),0),r},removeProperty:function(t,e,r){var o=r.rt[e].ptOrder.indexOf(t);return r.rt[e].ptOrder.splice(o,1),delete r.rt[e].pt[t],r},setValue:function(t,e,r,a,i,n){return t.rt[a].pt[e]&&(n.contextValue?(i&&!i.nested||i&&i.nested)&&(t.rt[a].pt[e].userValue[r]={literal:n.title,URI:n.uri,"@type":n.type,context:n},t.rt[a].pt[e].userValue["@type"]=i.resourceURI):"object"===Object(o["a"])(n)&&0==Object.keys(n).length?(t.rt[a].pt[e].userValue[r]&&delete t.rt[a].pt[e].userValue[r],t.rt[a].pt[e].userValue["literal"]&&delete t.rt[a].pt[e].userValue["literal"],t.rt[a].pt[e].userValue["@type"]&&delete t.rt[a].pt[e].userValue["@type"],t.rt[a].pt[e].userValue["uri"]&&delete t.rt[a].pt[e].userValue["uri"]):(t.rt[a].pt[e].userValue[r]=n,t.rt[a].pt[e].userValue["@type"]=i.resourceURI)),t},returnUserValues:function(t,e,r){var o=!1;return Object.keys(t.rt).forEach((function(a){t.rt[a].pt[e]&&(o=t.rt[a].pt[e].userValue,o.literal&&(o[r]={literal:o.literal,URI:o.URI,"@type":o["@type"]}))})),o}};e["a"]=s},fea3:function(t,e,r){}});
//# sourceMappingURL=app.58aed3d1.js.map